/*!
 * jQuery UI 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(f,e){function g(a){return !f(a).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}function h(a,n){var m=a.nodeName.toLowerCase();if("area"===m){var k=a.parentNode,j=k.name,d;if(!a.href||!j||k.nodeName.toLowerCase()!=="map"){return !1}d=f("img[usemap=#"+j+"]")[0];return !!d&&g(d)}return(/input|select|textarea|button|object/.test(m)?!a.disabled:"a"==m?a.href||n:n)&&g(a)}f.ui=f.ui||{};f.ui.version||(f.extend(f.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(a,d){return typeof a=="number"?this.each(function(){var b=this;setTimeout(function(){f(b).focus(),d&&d.call(b)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;f.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.curCSS(this,"position",1))&&/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?f(document):a},zIndex:function(k){if(k!==e){return this.css("zIndex",k)}if(this.length){var j=f(this[0]),b,a;while(j.length&&j[0]!==document){b=j.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){a=parseInt(j.css("zIndex"),10);if(!isNaN(a)&&a!==0){return a}}j=j.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),f.each(["Width","Height"],function(n,m){function a(o,s,q,p){f.each(k,function(){s-=parseFloat(f.curCSS(o,"padding"+this,!0))||0,q&&(s-=parseFloat(f.curCSS(o,"border"+this+"Width",!0))||0),p&&(s-=parseFloat(f.curCSS(o,"margin"+this,!0))||0)});return s}var k=m==="Width"?["Left","Right"]:["Top","Bottom"],j=m.toLowerCase(),b={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+m]=function(d){if(d===e){return b["inner"+m].call(this)}return this.each(function(){f(this).css(j,a(this,d)+"px")})},f.fn["outer"+m]=function(d,o){if(typeof d!="number"){return b["outer"+m].call(this,d)}return this.each(function(){f(this).css(j,a(this,d,!0,o)+"px")})}}),f.extend(f.expr[":"],{data:function(a,k,j){return !!f.data(a,j[3])},focusable:function(a){return h(a,!isNaN(f.attr(a,"tabindex")))},tabbable:function(a){var j=f.attr(a,"tabindex"),c=isNaN(j);return(c||j>=0)&&h(a,!c)}}),f(function(){var a=document.body,d=a.appendChild(d=document.createElement("div"));f.extend(d.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),f.support.minHeight=d.offsetHeight===100,f.support.selectstart="onselectstart" in d,a.removeChild(d).style.display="none"}),f.extend(f.ui,{plugin:{add:function(a,n,m){var k=f.ui[a].prototype;for(var j in m){k.plugins[j]=k.plugins[j]||[],k.plugins[j].push([n,m[j]])}},call:function(k,j,o){var n=k.plugins[j];if(!!n&&!!k.element[0].parentNode){for(var m=0;m<n.length;m++){k.options[n[m][0]]&&n[m][1].apply(k.element,o)}}}},contains:function(d,c){return document.compareDocumentPosition?d.compareDocumentPosition(c)&16:d!==c&&d.contains(c)},hasScroll:function(a,m){if(f(a).css("overflow")==="hidden"){return !1}var k=m&&m==="left"?"scrollLeft":"scrollTop",j=!1;if(a[k]>0){return !0}a[k]=1,j=a[k]>0,a[k]=0;return j},isOverAxis:function(j,d,k){return j>d&&j<d+k},isOver:function(a,o,n,m,k,j){return f.ui.isOverAxis(a,n,k)&&f.ui.isOverAxis(o,m,j)}}))})(jQuery);
/*!
 * jQuery UI Widget 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(f,e){if(f.cleanData){var h=f.cleanData;f.cleanData=function(a){for(var k=0,j;(j=a[k])!=null;k++){try{f(j).triggerHandler("remove")}catch(c){}}h(a)}}else{var g=f.fn.remove;f.fn.remove=function(a,d){return this.each(function(){d||(!a||f.filter(a,[this]).length)&&f("*",this).add([this]).each(function(){try{f(this).triggerHandler("remove")}catch(c){}});return g.call(f(this),a,d)})}}f.widget=function(a,o,n){var m=a.split(".")[0],k;a=a.split(".")[1],k=m+"-"+a,n||(n=o,o=f.Widget),f.expr[":"][k]=function(b){return !!f.data(b,a)},f[m]=f[m]||{},f[m][a]=function(d,c){arguments.length&&this._createWidget(d,c)};var j=new o;j.options=f.extend(!0,{},j.options),f[m][a].prototype=f.extend(!0,j,{namespace:m,widgetName:a,widgetEventPrefix:f[m][a].prototype.widgetEventPrefix||a,widgetBaseClass:k},n),f.widget.bridge(a,f[m][a])},f.widget.bridge=function(b,a){f.fn[b]=function(k){var j=typeof k=="string",d=Array.prototype.slice.call(arguments,1),c=this;k=!j&&d.length?f.extend.apply(null,[!0,k].concat(d)):k;if(j&&k.charAt(0)==="_"){return c}j?this.each(function(){var n=f.data(this,b),m=n&&f.isFunction(n[k])?n[k].apply(n,d):n;if(m!==n&&m!==e){c=m;return !1}}):this.each(function(){var m=f.data(this,b);m?m.option(k||{})._init():f.data(this,b,new a(k,this))});return c}},f.Widget=function(d,c){arguments.length&&this._createWidget(d,c)},f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,k){f.data(k,this.widgetName,this),this.element=f(k),this.options=f.extend(!0,{},this.options,this._getCreateOptions(),a);var j=this;this.element.bind("remove."+this.widgetName,function(){j.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(j,b){var a=j;if(arguments.length===0){return f.extend({},this.options)}if(typeof j=="string"){if(b===e){return this.options[j]}a={},a[j]=b}this._setOptions(a);return this},_setOptions:function(a){var d=this;f.each(a,function(j,c){d._setOption(j,c)});return this},_setOption:function(d,c){this.options[d]=c,d==="disabled"&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,o,n){var m,k,j=this.options[a];n=n||{},o=f.Event(o),o.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),o.target=this.element[0],k=o.originalEvent;if(k){for(m in k){m in o||(o[m]=k[m])}}this.element.trigger(o,n);return !(f.isFunction(j)&&j.call(this.element[0],o,n)===!1||o.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(e,d){var f=!1;e(document).mouseup(function(b){f=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===e.data(b.target,a.widgetName+".preventClickEvent")){e.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation();return !1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){if(!f){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var h=this,g=a.which==1,c=typeof this.options.cancel=="string"&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;if(!g||c||!this._mouseCapture(a)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==!1;if(!this._mouseStarted){a.preventDefault();return !0}}!0===e.data(a.target,this.widgetName+".preventClickEvent")&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return h._mouseMove(b)},this._mouseUpDelegate=function(b){return h._mouseUp(b)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),f=!0;return !0}},_mouseMove:function(a){if(e.browser.msie&&!(document.documentMode>=9)&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));return !this._mouseStarted},_mouseUp:function(a){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&e.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return !1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return !0}})})(jQuery);(function(k,j){k.ui=k.ui||{};var s=/left|center|right/,q=/top|center|bottom/,p="center",o={},n=k.fn.position,m=k.fn.offset;k.fn.position=function(c){if(!c||!c.of){return n.apply(this,arguments)}c=k.extend({},c);var t=k(c.of),g=t[0],f=(c.collision||"flip").split(" "),e=c.offset?c.offset.split(" "):[0,0],d,a,u;g.nodeType===9?(d=t.width(),a=t.height(),u={top:0,left:0}):g.setTimeout?(d=t.width(),a=t.height(),u={top:t.scrollTop(),left:t.scrollLeft()}):g.preventDefault?(c.at="left top",d=a=0,u={top:c.of.pageY,left:c.of.pageX}):(d=t.outerWidth(),a=t.outerHeight(),u=t.offset()),k.each(["my","at"],function(){var b=(c[this]||"").split(" ");b.length===1&&(b=s.test(b[0])?b.concat([p]):q.test(b[0])?[p].concat(b):[p,p]),b[0]=s.test(b[0])?b[0]:p,b[1]=q.test(b[1])?b[1]:p,c[this]=b}),f.length===1&&(f[1]=f[0]),e[0]=parseInt(e[0],10)||0,e.length===1&&(e[1]=e[0]),e[1]=parseInt(e[1],10)||0,c.at[0]==="right"?u.left+=d:c.at[0]===p&&(u.left+=d/2),c.at[1]==="bottom"?u.top+=a:c.at[1]===p&&(u.top+=a/2),u.left+=e[0],u.top+=e[1];return this.each(function(){var D=k(this),C=D.outerWidth(),B=D.outerHeight(),A=parseInt(k.curCSS(this,"marginLeft",!0))||0,z=parseInt(k.curCSS(this,"marginTop",!0))||0,y=C+A+(parseInt(k.curCSS(this,"marginRight",!0))||0),x=B+z+(parseInt(k.curCSS(this,"marginBottom",!0))||0),v=k.extend({},u),b;c.my[0]==="right"?v.left-=C:c.my[0]===p&&(v.left-=C/2),c.my[1]==="bottom"?v.top-=B:c.my[1]===p&&(v.top-=B/2),o.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),b={left:v.left-A,top:v.top-z},k.each(["left","top"],function(E,h){k.ui.position[f[E]]&&k.ui.position[f[E]][h](v,{targetWidth:d,targetHeight:a,elemWidth:C,elemHeight:B,collisionPosition:b,collisionWidth:y,collisionHeight:x,offset:e,my:c.my,at:c.at})}),k.fn.bgiframe&&D.bgiframe(),D.offset(k.extend(v,{using:c.using}))})},k.ui.position={fit:{left:function(a,h){var g=k(window),f=h.collisionPosition.left+h.collisionWidth-g.width()-g.scrollLeft();a.left=f>0?a.left-f:Math.max(a.left-h.collisionPosition.left,a.left)},top:function(a,h){var g=k(window),f=h.collisionPosition.top+h.collisionHeight-g.height()-g.scrollTop();a.top=f>0?a.top-f:Math.max(a.top-h.collisionPosition.top,a.top)}},flip:{left:function(a,y){if(y.at[0]!==p){var x=k(window),v=y.collisionPosition.left+y.collisionWidth-x.width()-x.scrollLeft(),u=y.my[0]==="left"?-y.elemWidth:y.my[0]==="right"?y.elemWidth:0,t=y.at[0]==="left"?y.targetWidth:-y.targetWidth,e=-2*y.offset[0];a.left+=y.collisionPosition.left<0?u+t+e:v>0?u+t+e:0}},top:function(a,y){if(y.at[1]!==p){var x=k(window),v=y.collisionPosition.top+y.collisionHeight-x.height()-x.scrollTop(),u=y.my[1]==="top"?-y.elemHeight:y.my[1]==="bottom"?y.elemHeight:0,t=y.at[1]==="top"?y.targetHeight:-y.targetHeight,e=-2*y.offset[1];a.top+=y.collisionPosition.top<0?u+t+e:v>0?u+t+e:0}}}},k.offset.setOffset||(k.offset.setOffset=function(a,z){/static/.test(k.curCSS(a,"position"))&&(a.style.position="relative");var y=k(a),x=y.offset(),v=parseInt(k.curCSS(a,"top",!0),10)||0,u=parseInt(k.curCSS(a,"left",!0),10)||0,t={top:z.top-x.top+v,left:z.left-x.left+u};"using" in z?z.using.call(a,t):y.css(t)},k.fn.offset=function(a){var d=this[0];if(!d||!d.ownerDocument){return null}if(a){return this.each(function(){k.offset.setOffset(this,a)})}return m.call(this)}),function(){var a=document.getElementsByTagName("body")[0],z=document.createElement("div"),y,x,v,u,t;y=document.createElement(a?"div":"body"),v={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&jQuery.extend(v,{position:"absolute",left:"-1000px",top:"-1000px"});for(var f in v){y.style[f]=v[f]}y.appendChild(z),x=a||document.documentElement,x.insertBefore(y,x.firstChild),z.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",u=k(z).offset(function(d,c){return c}).offset(),y.innerHTML="",x.removeChild(y),t=u.top+u.left+(a?2000:0),o.fractions=t>21&&t<22}()})(jQuery);(function(e,d){var f=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a=this,o=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),m="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",k=o.values&&o.values.length||1,j=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),o.range&&(o.range===!0&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&o.values.length!==2&&(o.values=[o.values[0],o.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(o.range==="min"||o.range==="max"?" ui-slider-range-"+o.range:"")));for(var c=n.length;c<k;c+=1){j.push(m)}this.handles=n.add(e(j.join("")).appendTo(a.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){o.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){o.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(g){e(this).data("index.ui-slider-handle",g)}),this.handles.keydown(function(v){var u=!0,t=e(this).data("index.ui-slider-handle"),s,q,p,b;if(!a.options.disabled){switch(v.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:u=!1;if(!a._keySliding){a._keySliding=!0,e(this).addClass("ui-state-active"),s=a._start(v,t);if(s===!1){return}}}b=a.options.step,a.options.values&&a.options.values.length?q=p=a.values(t):q=p=a.value();switch(v.keyCode){case e.ui.keyCode.HOME:p=a._valueMin();break;case e.ui.keyCode.END:p=a._valueMax();break;case e.ui.keyCode.PAGE_UP:p=a._trimAlignValue(q+(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.PAGE_DOWN:p=a._trimAlignValue(q-(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(q===a._valueMax()){return}p=a._trimAlignValue(q+b);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(q===a._valueMin()){return}p=a._trimAlignValue(q-b)}a._slide(v,t,p);return u}}).keyup(function(g){var b=e(this).data("index.ui-slider-handle");a._keySliding&&(a._keySliding=!1,a._stop(g,b),a._change(g,b),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(x){var v=this.options,u,t,s,q,p,o,n,m,a;if(v.disabled){return !1}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),u={x:x.pageX,y:x.pageY},t=this._normValueFromMouse(u),s=this._valueMax()-this._valueMin()+1,p=this,this.handles.each(function(g){var h=Math.abs(t-p.values(g));s>h&&(s=h,q=e(this),o=g)}),v.range===!0&&this.values(1)===v.min&&(o+=1,q=e(this.handles[o])),n=this._start(x,o);if(n===!1){return !1}this._mouseSliding=!0,p._handleIndex=o,q.addClass("ui-state-active").focus(),m=q.offset(),a=!e(x.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:x.pageX-m.left-q.width()/2,top:x.pageY-m.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(x,o,t),this._animateOff=!0;return !0},_mouseStart:function(b){return !0},_mouseDrag:function(h){var g={x:h.pageX,y:h.pageY},j=this._normValueFromMouse(g);this._slide(h,this._handleIndex,j);return !1},_mouseStop:function(b){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return !1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(h){var g,n,m,k,j;this.orientation==="horizontal"?(g=this.elementSize.width,n=h.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,n=h.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),m=n/g,m>1&&(m=1),m<0&&(m=0),this.orientation==="vertical"&&(m=1-m),k=this._valueMax()-this._valueMin(),j=this._valueMin()+m*k;return this._trimAlignValue(j)},_start:function(h,g){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values());return this._trigger("start",h,j)},_slide:function(h,g,n){var m,k,j;this.options.values&&this.options.values.length?(m=this.values(g?0:1),this.options.values.length===2&&this.options.range===!0&&(g===0&&n>m||g===1&&n<m)&&(n=m),n!==this.values(g)&&(k=this.values(),k[g]=n,j=this._trigger("slide",h,{handle:this.handles[g],value:n,values:k}),m=this.values(g?0:1),j!==!1&&this.values(g,n,!0))):n!==this.value()&&(j=this._trigger("slide",h,{handle:this.handles[g],value:n}),j!==!1&&this.value(n))},_stop:function(h,g){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values()),this._trigger("stop",h,j)},_change:function(h,g){if(!this._keySliding&&!this._mouseSliding){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values()),this._trigger("change",h,j)}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b),this._refreshValue(),this._change(null,0)}else{return this._value()}},values:function(a,k){var j,h,g;if(arguments.length>1){this.options.values[a]=this._trimAlignValue(k),this._refreshValue(),this._change(null,a)}else{if(!arguments.length){return this._values()}if(!e.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(a):this.value()}j=this.options.values,h=arguments[0];for(g=0;g<j.length;g+=1){j[g]=this._trimAlignValue(h[g]),this._change(null,g)}this._refreshValue()}},_setOption:function(a,j){var h,g=0;e.isArray(this.options.values)&&(g=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(a){case"disabled":j?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(h=0;h<g;h+=1){this._change(null,h)}this._animateOff=!1}},_value:function(){var b=this.options.value;b=this._trimAlignValue(b);return b},_values:function(h){var g,k,j;if(arguments.length){g=this.options.values[h],g=this._trimAlignValue(g);return g}k=this.options.values.slice();for(j=0;j<k.length;j+=1){k[j]=this._trimAlignValue(k[j])}return k},_trimAlignValue:function(h){if(h<=this._valueMin()){return this._valueMin()}if(h>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,k=(h-this._valueMin())%g,j=h-k;Math.abs(k)*2>=g&&(j+=k>0?g:-g);return parseFloat(j.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var v=this.options.range,u=this.options,t=this,s=this._animateOff?!1:u.animate,q,p={},o,n,m,a;this.options.values&&this.options.values.length?this.handles.each(function(c,g){q=(t.values(c)-t._valueMin())/(t._valueMax()-t._valueMin())*100,p[t.orientation==="horizontal"?"left":"bottom"]=q+"%",e(this).stop(1,1)[s?"animate":"css"](p,u.animate),t.options.range===!0&&(t.orientation==="horizontal"?(c===0&&t.range.stop(1,1)[s?"animate":"css"]({left:q+"%"},u.animate),c===1&&t.range[s?"animate":"css"]({width:q-o+"%"},{queue:!1,duration:u.animate})):(c===0&&t.range.stop(1,1)[s?"animate":"css"]({bottom:q+"%"},u.animate),c===1&&t.range[s?"animate":"css"]({height:q-o+"%"},{queue:!1,duration:u.animate}))),o=q}):(n=this.value(),m=this._valueMin(),a=this._valueMax(),q=a!==m?(n-m)/(a-m)*100:0,p[t.orientation==="horizontal"?"left":"bottom"]=q+"%",this.handle.stop(1,1)[s?"animate":"css"](p,u.animate),v==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[s?"animate":"css"]({width:q+"%"},u.animate),v==="max"&&this.orientation==="horizontal"&&this.range[s?"animate":"css"]({width:100-q+"%"},{queue:!1,duration:u.animate}),v==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[s?"animate":"css"]({height:q+"%"},u.animate),v==="max"&&this.orientation==="vertical"&&this.range[s?"animate":"css"]({height:100-q+"%"},{queue:!1,duration:u.animate}))}}),e.extend(e.ui.slider,{version:"1.8.17"})})(jQuery);(function(){function O(b,p,o){if(b===p){return b!==0||1/b==1/p}if(b==null||p==null){return b===p}if(b._chain){b=b._wrapped}if(p._chain){p=p._wrapped}if(ag.isFunction(b.isEqual)){return b.isEqual(p)}if(ag.isFunction(p.isEqual)){return p.isEqual(b)}var n=typeof b;if(n!=typeof p){return false}if(!b!=!p){return false}if(ag.isNaN(b)){return ag.isNaN(p)}var k=ag.isString(b),m=ag.isString(p);if(k||m){return k&&m&&String(b)==String(p)}k=ag.isNumber(b);m=ag.isNumber(p);if(k||m){return k&&m&&+b==+p}k=ag.isBoolean(b);m=ag.isBoolean(p);if(k||m){return k&&m&&+b==+p}k=ag.isDate(b);m=ag.isDate(p);if(k||m){return k&&m&&b.getTime()==p.getTime()}k=ag.isRegExp(b);m=ag.isRegExp(p);if(k||m){return k&&m&&b.source==p.source&&b.global==p.global&&b.multiline==p.multiline&&b.ignoreCase==p.ignoreCase}if(n!="object"){return false}if(b.length!==p.length){return false}if(b.constructor!==p.constructor){return false}for(n=o.length;n--;){if(o[n]==b){return true}}o.push(b);var n=0,k=true,j;for(j in b){if(ab.call(b,j)&&(n++,!(k=ab.call(p,j)&&O(b[j],p[j],o)))){break}}if(k){for(j in p){if(ab.call(p,j)&&!n--){break}}k=!n}o.pop();return k}var U=this,N=U._,Z={},ad=Array.prototype,Y=Object.prototype,af=ad.slice,K=ad.unshift,ac=Y.toString,ab=Y.hasOwnProperty,M=ad.forEach,h=ad.map,f=ad.reduce,d=ad.reduceRight,a=ad.filter,X=ad.every,W=ad.some,V=ad.indexOf,T=ad.lastIndexOf,Y=Array.isArray,g=Object.keys,S=Function.prototype.bind,ag=function(b){return new aa(b)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=ag}exports._=ag}else{typeof define==="function"&&define.amd?define("underscore",function(){return ag}):U._=ag}ag.VERSION="1.2.1";var ae=ag.each=ag.forEach=function(k,o,j){if(k!=null){if(M&&k.forEach===M){k.forEach(o,j)}else{if(k.length===+k.length){for(var n=0,m=k.length;n<m;n++){if(n in k&&o.call(j,k[n],n,k)===Z){break}}}else{for(n in k){if(ab.call(k,n)&&o.call(j,k[n],n,k)===Z){break}}}}}};ag.map=function(k,n,j){var m=[];if(k==null){return m}if(h&&k.map===h){return k.map(n,j)}ae(k,function(b,p,o){m[m.length]=n.call(j,b,p,o)});return m};ag.reduce=ag.foldl=ag.inject=function(b,n,m,k){var j=m!==void 0;b==null&&(b=[]);if(f&&b.reduce===f){return k&&(n=ag.bind(n,k)),j?b.reduce(n,m):b.reduce(n)}ae(b,function(p,o,q){j?m=n.call(k,m,p,o,q):(m=p,j=true)});if(!j){throw new TypeError("Reduce of empty array with no initial value")}return m};ag.reduceRight=ag.foldr=function(b,m,k,j){b==null&&(b=[]);if(d&&b.reduceRight===d){return j&&(m=ag.bind(m,j)),k!==void 0?b.reduceRight(m,k):b.reduceRight(m)}b=(ag.isArray(b)?b.slice():ag.toArray(b)).reverse();return ag.reduce(b,m,k,j)};ag.find=ag.detect=function(k,n,j){var m;R(k,function(b,p,o){if(n.call(j,b,p,o)){return m=b,true}});return m};ag.filter=ag.select=function(k,n,j){var m=[];if(k==null){return m}if(a&&k.filter===a){return k.filter(n,j)}ae(k,function(b,p,o){n.call(j,b,p,o)&&(m[m.length]=b)});return m};ag.reject=function(k,n,j){var m=[];if(k==null){return m}ae(k,function(b,p,o){n.call(j,b,p,o)||(m[m.length]=b)});return m};ag.every=ag.all=function(k,n,j){var m=true;if(k==null){return m}if(X&&k.every===X){return k.every(n,j)}ae(k,function(b,p,o){if(!(m=m&&n.call(j,b,p,o))){return Z}});return m};var R=ag.some=ag.any=function(b,m,k){var m=m||ag.identity,j=false;if(b==null){return j}if(W&&b.some===W){return b.some(m,k)}ae(b,function(o,n,p){if(j|=m.call(k,o,n,p)){return Z}});return !!j};ag.include=ag.contains=function(k,m){var j=false;if(k==null){return j}return V&&k.indexOf===V?k.indexOf(m)!=-1:j=R(k,function(b){if(b===m){return true}})};ag.invoke=function(b,k){var j=af.call(arguments,2);return ag.map(b,function(m){return(k.call?k||m:m[k]).apply(m,j)})};ag.pluck=function(b,j){return ag.map(b,function(k){return k[j]})};ag.max=function(b,m,k){if(!m&&ag.isArray(b)){return Math.max.apply(Math,b)}if(!m&&ag.isEmpty(b)){return -Infinity}var j={computed:-Infinity};ae(b,function(o,n,p){n=m?m.call(k,o,n,p):o;n>=j.computed&&(j={value:o,computed:n})});return j.value};ag.min=function(b,m,k){if(!m&&ag.isArray(b)){return Math.min.apply(Math,b)}if(!m&&ag.isEmpty(b)){return Infinity}var j={computed:Infinity};ae(b,function(o,n,p){n=m?m.call(k,o,n,p):o;n<j.computed&&(j={value:o,computed:n})});return j.value};ag.shuffle=function(k){var j=[],m;ae(k,function(b,n){n==0?j[0]=b:(m=Math.floor(Math.random()*(n+1)),j[n]=j[m],j[m]=b)});return j};ag.sortBy=function(b,k,j){return ag.pluck(ag.map(b,function(n,m,o){return{value:n,criteria:k.call(j,n,m,o)}}).sort(function(n,m){var p=n.criteria,o=m.criteria;return p<o?-1:p>o?1:0}),"value")};ag.groupBy=function(b,m){var k={},j=ag.isFunction(m)?m:function(n){return n[m]};ae(b,function(o,n){var p=j(o,n);(k[p]||(k[p]=[])).push(o)});return k};ag.sortedIndex=function(b,o,n){n||(n=ag.identity);for(var m=0,j=b.length;m<j;){var k=m+j>>1;n(b[k])<n(o)?m=k+1:j=k}return m};ag.toArray=function(b){return !b?[]:b.toArray?b.toArray():ag.isArray(b)?af.call(b):ag.isArguments(b)?af.call(b):ag.values(b)};ag.size=function(b){return ag.toArray(b).length};ag.first=ag.head=function(k,j,m){return j!=null&&!m?af.call(k,0,j):k[0]};ag.initial=function(k,j,m){return af.call(k,0,k.length-(j==null||m?1:j))};ag.last=function(k,j,m){return j!=null&&!m?af.call(k,k.length-j):k[k.length-1]};ag.rest=ag.tail=function(k,j,m){return af.call(k,j==null||m?1:j)};ag.compact=function(b){return ag.filter(b,function(j){return !!j})};ag.flatten=function(b,j){return ag.reduce(b,function(k,m){if(ag.isArray(m)){return k.concat(j?m:ag.flatten(m))}k[k.length]=m;return k},[])};ag.without=function(b){return ag.difference(b,af.call(arguments,1))};ag.uniq=ag.unique=function(b,m,k){var k=k?ag.map(b,k):b,j=[];ag.reduce(k,function(p,o,n){if(0==n||(m===true?ag.last(p)!=o:!ag.include(p,o))){p[p.length]=o,j[j.length]=b[n]}return p},[]);return j};ag.union=function(){return ag.uniq(ag.flatten(arguments,true))};ag.intersection=ag.intersect=function(b){var j=af.call(arguments,1);return ag.filter(ag.uniq(b),function(k){return ag.every(j,function(m){return ag.indexOf(m,k)>=0})})};ag.difference=function(b,j){return ag.filter(b,function(k){return !ag.include(j,k)})};ag.zip=function(){for(var b=af.call(arguments),m=ag.max(ag.pluck(b,"length")),k=Array(m),j=0;j<m;j++){k[j]=ag.pluck(b,""+j)}return k};ag.indexOf=function(b,m,k){if(b==null){return -1}var j;if(k){return k=ag.sortedIndex(b,m),b[k]===m?k:-1}if(V&&b.indexOf===V){return b.indexOf(m)}for(k=0,j=b.length;k<j;k++){if(b[k]===m){return k}}return -1};ag.lastIndexOf=function(k,j){if(k==null){return -1}if(T&&k.lastIndexOf===T){return k.lastIndexOf(j)}for(var m=k.length;m--;){if(k[m]===j){return m}}return -1};ag.range=function(k,j,p){arguments.length<=1&&(j=k||0,k=0);for(var p=arguments[2]||1,o=Math.max(Math.ceil((j-k)/p),0),m=0,n=Array(o);m<o;){n[m++]=k,k+=p}return n};var Q=function(){};ag.bind=function(b,m){var k,j;if(b.bind===S&&S){return S.apply(b,af.call(arguments,1))}if(!ag.isFunction(b)){throw new TypeError}j=af.call(arguments,2);return k=function(){if(!(this instanceof k)){return b.apply(m,j.concat(af.call(arguments)))}Q.prototype=b.prototype;var n=new Q,o=b.apply(n,j.concat(af.call(arguments)));return Object(o)===o?o:n}};ag.bindAll=function(b){var j=af.call(arguments,1);j.length==0&&(j=ag.functions(b));ae(j,function(k){b[k]=ag.bind(b[k],b)});return b};ag.memoize=function(b,k){var j={};k||(k=ag.identity);return function(){var m=k.apply(this,arguments);return ab.call(j,m)?j[m]:j[m]=b.apply(this,arguments)}};ag.delay=function(k,j){var m=af.call(arguments,2);return setTimeout(function(){return k.apply(k,m)},j)};ag.defer=function(b){return ag.delay.apply(ag,[b,1].concat(af.call(arguments,1)))};ag.throttle=function(b,p){var o,n,k,m,j;j=ag.debounce(function(){m=false},p);return function(){n=this;k=arguments;var q;o||(o=setTimeout(function(){o=null;b.apply(n,k);j()},p));m||b.apply(n,k);j&&j();m=true}};ag.debounce=function(k,j){var m;return function(){var n=this,b=arguments;clearTimeout(m);m=setTimeout(function(){m=null;k.apply(n,b)},j)}};ag.once=function(k){var j=false,m;return function(){if(j){return m}j=true;return m=k.apply(this,arguments)}};ag.wrap=function(k,j){return function(){var b=[k].concat(af.call(arguments));return j.apply(this,b)}};ag.compose=function(){var b=af.call(arguments);return function(){for(var j=af.call(arguments),k=b.length-1;k>=0;k--){j=[b[k].apply(this,j)]}return j[0]}};ag.after=function(k,j){return function(){if(--k<1){return j.apply(this,arguments)}}};ag.keys=g||function(k){if(k!==Object(k)){throw new TypeError("Invalid object")}var j=[],m;for(m in k){ab.call(k,m)&&(j[j.length]=m)}return j};ag.values=function(b){return ag.map(b,ag.identity)};ag.functions=ag.methods=function(b){var k=[],j;for(j in b){ag.isFunction(b[j])&&k.push(j)}return k.sort()};ag.extend=function(b){ae(af.call(arguments,1),function(j){for(var k in j){j[k]!==void 0&&(b[k]=j[k])}});return b};ag.defaults=function(b){ae(af.call(arguments,1),function(j){for(var k in j){b[k]==null&&(b[k]=j[k])}});return b};ag.clone=function(b){return !ag.isObject(b)?b:ag.isArray(b)?b.slice():ag.extend({},b)};ag.tap=function(k,j){j(k);return k};ag.isEqual=function(k,j){return O(k,j,[])};ag.isEmpty=function(b){if(ag.isArray(b)||ag.isString(b)){return b.length===0}for(var j in b){if(ab.call(b,j)){return false}}return true};ag.isElement=function(b){return !!(b&&b.nodeType==1)};ag.isArray=Y||function(b){return ac.call(b)=="[object Array]"};ag.isObject=function(b){return b===Object(b)};ag.isArguments=ac.call(arguments)=="[object Arguments]"?function(b){return ac.call(b)=="[object Arguments]"}:function(b){return !(!b||!ab.call(b,"callee"))};ag.isFunction=function(b){return ac.call(b)=="[object Function]"};ag.isString=function(b){return ac.call(b)=="[object String]"};ag.isNumber=function(b){return ac.call(b)=="[object Number]"};ag.isNaN=function(b){return b!==b};ag.isBoolean=function(b){return b===true||b===false||ac.call(b)=="[object Boolean]"};ag.isDate=function(b){return ac.call(b)=="[object Date]"};ag.isRegExp=function(b){return ac.call(b)=="[object RegExp]"};ag.isNull=function(b){return b===null};ag.isUndefined=function(b){return b===void 0};ag.noConflict=function(){U._=N;return this};ag.identity=function(b){return b};ag.times=function(k,j,n){for(var m=0;m<k;m++){j.call(n,m)}};ag.escape=function(b){return(""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};ag.mixin=function(b){ae(ag.functions(b),function(j){e(j,ag[j]=b[j])})};var c=0;ag.uniqueId=function(k){var j=c++;return k?k+j:j};ag.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};ag.template=function(b,k){var j=ag.templateSettings,j="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(j.escape,function(n,m){return"',_.escape("+m.replace(/\\'/g,"'")+"),'"}).replace(j.interpolate,function(n,m){return"',"+m.replace(/\\'/g,"'")+",'"}).replace(j.evaluate||null,function(n,m){return"');"+m.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",j=new Function("obj",j);return k?j(k):j};var aa=function(b){this._wrapped=b};ag.prototype=aa.prototype;var P=function(b,j){return j?ag(b).chain():b},e=function(b,j){aa.prototype[b]=function(){var k=af.call(arguments);K.call(k,this._wrapped);return P(j.apply(ag,k),this._chain)}};ag.mixin(ag);ae("pop,push,reverse,shift,sort,splice,unshift".split(","),function(k){var j=ad[k];aa.prototype[k]=function(){j.apply(this._wrapped,arguments);return P(this._wrapped,this._chain)}});ae(["concat","join","slice"],function(k){var j=ad[k];aa.prototype[k]=function(){return P(j.apply(this._wrapped,arguments),this._chain)}});aa.prototype.chain=function(){this._chain=true;return this};aa.prototype.value=function(){return this._wrapped}})();(function(){var I=this,A=I.Backbone,M;M=typeof exports!=="undefined"?exports:I.Backbone={};M.VERSION="0.5.3";var K=I._;if(!K&&typeof require!=="undefined"){K=require("underscore")._}var J=I.jQuery||I.Zepto;M.noConflict=function(){I.Backbone=A;return this};M.emulateHTTP=!1;M.emulateJSON=!1;M.Events={bind:function(f,e,h){var g=this._callbacks||(this._callbacks={});(g[f]||(g[f]=[])).push([e,h]);return this},unbind:function(g,f){var k;if(g){if(k=this._callbacks){if(f){k=k[g];if(!k){return this}for(var j=0,h=k.length;j<h;j++){if(k[j]&&f===k[j][0]){k[j]=null;break}}}else{k[g]=[]}}}else{this._callbacks={}}return this},trigger:function(k){var j,s,q,p,o=2;if(!(s=this._callbacks)){return this}for(;o--;){if(j=o?k:"all",j=s[j]){for(var n=0,m=j.length;n<m;n++){(q=j[n])?(p=o?Array.prototype.slice.call(arguments,1):arguments,q[0].apply(q[1]||this,p)):(j.splice(n,1),n--,m--)}}}return this}};M.Model=function(f,e){var g;f||(f={});if(g=this.defaults){K.isFunction(g)&&(g=g.call(this)),f=K.extend({},g,f)}this.attributes={};this._escapedAttributes={};this.cid=K.uniqueId("c");this.set(f,{silent:!0});this._changed=!1;this._previousAttributes=K.clone(this.attributes);if(e&&e.collection){this.collection=e.collection}this.initialize(f,e)};K.extend(M.Model.prototype,M.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return K.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(f){var e;if(e=this._escapedAttributes[f]){return e}e=this.attributes[f];return this._escapedAttributes[f]=(e==null?"":""+e).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},has:function(e){return this.attributes[e]!=null},set:function(j,f){f||(f={});if(!j){return this}if(j.attributes){j=j.attributes}var p=this.attributes,o=this._escapedAttributes;if(!f.silent&&this.validate&&!this._performValidation(j,f)){return !1}if(this.idAttribute in j){this.id=j[this.idAttribute]}var n=this._changing;this._changing=!0;for(var m in j){var k=j[m];if(!K.isEqual(p[m],k)){p[m]=k,delete o[m],this._changed=!0,f.silent||this.trigger("change:"+m,this,k,f)}}!n&&!f.silent&&this._changed&&this.change(f);this._changing=!1;return this},unset:function(f,e){if(!(f in this.attributes)){return this}e||(e={});var g={};g[f]=void 0;if(!e.silent&&this.validate&&!this._performValidation(g,e)){return !1}delete this.attributes[f];delete this._escapedAttributes[f];f==this.idAttribute&&delete this.id;this._changed=!0;e.silent||(this.trigger("change:"+f,this,void 0,e),this.change(e));return this},clear:function(f){f||(f={});var e,h=this.attributes,g={};for(e in h){g[e]=void 0}if(!f.silent&&this.validate&&!this._performValidation(g,f)){return !1}this.attributes={};this._escapedAttributes={};this._changed=!0;if(!f.silent){for(e in h){this.trigger("change:"+e,this,void 0,f)}this.change(f)}return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(k,j,h){if(!e.set(e.parse(k,h),f)){return !1}g&&g(e,k)};f.error=H(f.error,e,f);return(this.sync||M.sync).call(this,"read",this,f)},save:function(g,e){e||(e={});if(g&&!this.set(g,e)){return !1}var k=this,j=e.success;e.success=function(m,o,n){if(!k.set(k.parse(m,n),e)){return !1}j&&j(k,m,n)};e.error=H(e.error,k,e);var h=this.isNew()?"create":"update";return(this.sync||M.sync).call(this,h,this,e)},destroy:function(f){f||(f={});if(this.isNew()){return this.trigger("destroy",this,this.collection,f)}var e=this,g=f.success;f.success=function(h){e.trigger("destroy",e,e.collection,f);g&&g(e,h)};f.error=H(f.error,e,f);return(this.sync||M.sync).call(this,"delete",this,f)},url:function(){var e=F(this.collection)||this.urlRoot||E();if(this.isNew()){return e}return e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(e){this.trigger("change",this,e);this._previousAttributes=K.clone(this.attributes);this._changed=!1},hasChanged:function(e){if(e){return this._previousAttributes[e]!=this.attributes[e]}return this._changed},changedAttributes:function(f){f||(f=this.attributes);var e=this._previousAttributes,h=!1,g;for(g in f){K.isEqual(e[g],f[g])||(h=h||{},h[g]=f[g])}return h},previous:function(e){if(!e||!this._previousAttributes){return null}return this._previousAttributes[e]},previousAttributes:function(){return K.clone(this._previousAttributes)},_performValidation:function(f,e){var g=this.validate(f);if(g){return e.error?e.error(this,g,e):this.trigger("error",this,g,e),!1}return !0}});M.Collection=function(f,e){e||(e={});if(e.comparator){this.comparator=e.comparator}K.bindAll(this,"_onModelEvent","_removeReference");this._reset();f&&this.reset(f,{silent:!0});this.initialize.apply(this,arguments)};K.extend(M.Collection.prototype,M.Events,{model:M.Model,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(f,e){if(K.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._add(f[h],e)}}else{this._add(f,e)}return this},remove:function(f,e){if(K.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._remove(f[h],e)}}else{this._remove(f,e)}return this},get:function(e){if(e==null){return null}return this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){e||(e={});if(!this.comparator){throw Error("Cannot sort a set without a comparator")}this.models=this.sortBy(this.comparator);e.silent||this.trigger("reset",this,e);return this},pluck:function(e){return K.map(this.models,function(f){return f.get(e)})},reset:function(f,e){f||(f=[]);e||(e={});this.each(this._removeReference);this._reset();this.add(f,{silent:!0});e.silent||this.trigger("reset",this,e);return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(k,h,j){e[f.add?"add":"reset"](e.parse(k,j),f);g&&g(e,k)};f.error=H(f.error,e,f);return(this.sync||M.sync).call(this,"read",this,f)},create:function(f,e){var h=this;e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=e.success;e.success=function(j,m,k){h.add(j,e);g&&g(j,m,k)};f.save(null,e);return f},parse:function(e){return e},chain:function(){return K(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(f,e){if(f instanceof M.Model){if(!f.collection){f.collection=this}}else{var g=f;f=new this.model(g,{collection:this});f.validate&&!f._performValidation(g,e)&&(f=!1)}return f},_add:function(f,e){e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=this.getByCid(f);if(g){throw Error(["Can't add the same model to a set twice",g.id])}this._byId[f.id]=f;this._byCid[f.cid]=f;this.models.splice(e.at!=null?e.at:this.comparator?this.sortedIndex(f,this.comparator):this.length,0,f);f.bind("all",this._onModelEvent);this.length++;e.silent||f.trigger("add",f,this,e);return f},_remove:function(f,e){e||(e={});f=this.getByCid(f)||this.get(f);if(!f){return null}delete this._byId[f.id];delete this._byCid[f.cid];this.models.splice(this.indexOf(f),1);this.length--;e.silent||f.trigger("remove",f,this,e);this._removeReference(f);return f},_removeReference:function(e){this==e.collection&&delete e.collection;e.unbind("all",this._onModelEvent)},_onModelEvent:function(f,e,h,g){(f=="add"||f=="remove")&&h!=this||(f=="destroy"&&this._remove(e,g),e&&f==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});K.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty","groupBy"],function(e){M.Collection.prototype[e]=function(){return K[e].apply(K,[this.models].concat(K.toArray(arguments)))}});M.Router=function(e){e||(e={});if(e.routes){this.routes=e.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var z=/:([\w\d]+)/g,y=/\*([\w\d]+)/g,x=/[-[\]{}()+?.,\\^$|#\s]/g;K.extend(M.Router.prototype,M.Events,{initialize:function(){},route:function(f,e,g){M.history||(M.history=new M.History);K.isRegExp(f)||(f=this._routeToRegExp(f));M.history.route(f,K.bind(function(h){h=this._extractParameters(f,h);g.apply(this,h);this.trigger.apply(this,["route:"+e].concat(h))},this))},navigate:function(f,e){M.history.navigate(f,e)},_bindRoutes:function(){if(this.routes){var f=[],e;for(e in this.routes){f.unshift([e,this.routes[e]])}e=0;for(var g=f.length;e<g;e++){this.route(f[e][0],f[e][1],this[f[e][1]])}}},_routeToRegExp:function(e){e=e.replace(x,"\\$&").replace(z,"([^/]*)").replace(y,"(.*?)");return RegExp("^"+e+"$")},_extractParameters:function(f,e){return f.exec(e).slice(1)}});M.History=function(){this.handlers=[];K.bindAll(this,"checkUrl")};var G=/^#*/,d=/msie [\w.]+/,D=!1;K.extend(M.History.prototype,{interval:50,getFragment:function(f,e){if(f==null){if(this._hasPushState||e){f=window.location.pathname;var g=window.location.search;g&&(f+=g);f.indexOf(this.options.root)==0&&(f=f.substr(this.options.root.length))}else{f=window.location.hash}}return decodeURIComponent(f.replace(G,""))},start:function(f){if(D){throw Error("Backbone.history has already been started")}this.options=K.extend({},{root:"/"},this.options,f);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);f=this.getFragment();var e=document.documentMode;if(e=d.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7)){this.iframe=J('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(f)}this._hasPushState?J(window).bind("popstate",this.checkUrl):"onhashchange" in window&&!e?J(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=f;D=!0;f=window.location;e=f.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!e){return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0}else{if(this._wantsPushState&&this._hasPushState&&e&&f.hash){this.fragment=f.hash.replace(G,""),window.history.replaceState({},document.title,f.protocol+"//"+f.host+this.options.root+this.fragment)}}if(!this.options.silent){return this.loadUrl()}},route:function(f,e){this.handlers.unshift({route:f,callback:e})},checkUrl:function(){var e=this.getFragment();e==this.fragment&&this.iframe&&(e=this.getFragment(this.iframe.location.hash));if(e==this.fragment||e==decodeURIComponent(this.fragment)){return !1}this.iframe&&this.navigate(e);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(f){var e=this.fragment=this.getFragment(f);return K.any(this.handlers,function(g){if(g.route.test(e)){return g.callback(e),!0}})},navigate:function(f,e){var h=(f||"").replace(G,"");if(!(this.fragment==h||this.fragment==decodeURIComponent(h))){if(this._hasPushState){var g=window.location;h.indexOf(this.options.root)!=0&&(h=this.options.root+h);this.fragment=h;window.history.pushState({},document.title,g.protocol+"//"+g.host+h)}else{if(window.location.hash=this.fragment=h,this.iframe&&h!=this.getFragment(this.iframe.location.hash)){this.iframe.document.open().close(),this.iframe.location.hash=h}}e&&this.loadUrl(f)}}});M.View=function(e){this.cid=K.uniqueId("view");this._configure(e||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var c=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName"];K.extend(M.View.prototype,M.Events,{tagName:"div",$:function(e){return J(e,this.el)},initialize:function(){},render:function(){return this},remove:function(){J(this.el).remove();return this},make:function(f,e,g){f=document.createElement(f);e&&J(f).attr(e);g&&J(f).html(g);return f},delegateEvents:function(g){if(g||(g=this.events)){for(var f in K.isFunction(g)&&(g=g.call(this)),J(this.el).unbind(".delegateEvents"+this.cid),g){var k=this[g[f]];if(!k){throw Error('Event "'+g[f]+'" does not exist')}var j=f.match(c),h=j[1];j=j[2];k=K.bind(k,this);h+=".delegateEvents"+this.cid;j===""?J(this.el).bind(h,k):J(this.el).delegate(j,h,k)}}},_configure:function(f){this.options&&(f=K.extend({},this.options,f));for(var e=0,h=C.length;e<h;e++){var g=C[e];f[g]&&(this[g]=f[g])}this.options=f},_ensureElement:function(){if(this.el){if(K.isString(this.el)){this.el=J(this.el).get(0)}}else{var e=this.attributes||{};if(this.id){e.id=this.id}if(this.className){e["class"]=this.className}this.el=this.make(this.tagName,e)}}});M.Model.extend=M.Collection.extend=M.Router.extend=M.View.extend=function(f,e){var g=b(this,f,e);g.extend=this.extend;return g};var a={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};M.sync=function(f,e,h){var g=a[f];h=K.extend({type:g,dataType:"json"},h);if(!h.url){h.url=F(e)||E()}if(!h.data&&e&&(f=="create"||f=="update")){h.contentType="application/json",h.data=JSON.stringify(e.toJSON())}if(M.emulateJSON){h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}}if(M.emulateHTTP&&(g==="PUT"||g==="DELETE")){if(M.emulateJSON){h.data._method=g}h.type="POST";h.beforeSend=function(j){j.setRequestHeader("X-HTTP-Method-Override",g)}}if(h.type!=="GET"&&!M.emulateJSON){h.processData=!1}return J.ajax(h)};var B=function(){},b=function(f,e,h){var g;g=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return f.apply(this,arguments)};K.extend(g,f);B.prototype=f.prototype;g.prototype=new B;e&&K.extend(g.prototype,e);h&&K.extend(g,h);g.prototype.constructor=g;g.__super__=f.prototype;return g},F=function(e){if(!e||!e.url){return null}return K.isFunction(e.url)?e.url():e.url},E=function(){throw Error('A "url" property or function must be specified')},H=function(f,e,g){return function(h){f?f(e,h,g):e.trigger("error",e,h,g)}}}).call(this);(function(d){var c={VERSION:"0.2",ROOT_URL:function(){for(var j=document.getElementsByTagName("script"),h=/^(.*\/)leaflet-?([\w-]*)\.js.*$/,n=0,m=j.length;n<m;n++){var k=j[n].src;if(k=k&&k.match(h)){if(k[2]=="include"){break}return k[1]}}return"../../dist/"}(),noConflict:function(){d.L=this._originalL;return this},_originalL:d.L};window.L=c})(this);L.Util={extend:function(h){for(var g=Array.prototype.slice.call(arguments,1),n=0,m=g.length,k;n<m;n++){k=g[n]||{};for(var j in k){k.hasOwnProperty(j)&&(h[j]=k[j])}}return h},bind:function(d,c){return function(){return d.apply(c,arguments)}},stamp:function(){var b=0;return function(a){a._leaflet_id=a._leaflet_id||++b;return a._leaflet_id}}(),requestAnimFrame:function(){function d(b){window.setTimeout(b,1000/60)}var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||d;return function(f,b,a){f=b?L.Util.bind(f,b):b;a&&c===d?f():c(f)}}(),limitExecByInterval:function(j,h,p){function o(){n=!1;m&&(k.callee.apply(p,k),m=!1)}var n,m,k;return function(){k=arguments;n?m=!0:(n=!0,setTimeout(o,h),j.apply(p,k))}},falseFn:function(){return !1},formatNum:function(e,d){var f=Math.pow(10,d||5);return Math.round(e*f)/f},setOptions:function(d,c){d.options=L.Util.extend({},d.options,c)},getParamString:function(e){var d=[],f;for(f in e){e.hasOwnProperty(f)&&d.push(f+"="+e[f])}return"?"+d.join("&")}};L.Class=function(){};L.Class.extend=function(f){var e=function(){!L.Class._prototyping&&this.initialize&&this.initialize.apply(this,arguments)};L.Class._prototyping=!0;var h=new this;L.Class._prototyping=!1;h.constructor=e;e.prototype=h;h.superclass=this.prototype;f.statics&&(L.Util.extend(e,f.statics),delete f.statics);f.includes&&(L.Util.extend.apply(null,[h].concat(f.includes)),delete f.includes);if(f.options&&h.options){f.options=L.Util.extend({},h.options,f.options)}L.Util.extend(h,f);e.extend=arguments.callee;e.include=function(b){L.Util.extend(this.prototype,b)};for(var g in this){this.hasOwnProperty(g)&&g!="prototype"&&(e[g]=this[g])}return e};L.Mixin={};L.Mixin.Events={addEventListener:function(f,e,h){var g=this._leaflet_events=this._leaflet_events||{};g[f]=g[f]||[];g[f].push({action:e,context:h});return this},hasEventListeners:function(b){return"_leaflet_events" in this&&b in this._leaflet_events&&this._leaflet_events[b].length>0},removeEventListener:function(h,g,n){if(!this.hasEventListeners(h)){return this}for(var m=0,k=this._leaflet_events,j=k[h].length;m<j;m++){if(k[h][m].action===g&&(!n||k[h][m].context===n)){k[h].splice(m,1);break}}return this},fireEvent:function(h,g){if(this.hasEventListeners(h)){for(var n=L.Util.extend({type:h,target:this},g),m=this._leaflet_events[h].slice(),k=0,j=m.length;k<j;k++){m[k].action.call(m[k].context||this,n)}return this}}};L.Mixin.Events.on=L.Mixin.Events.addEventListener;L.Mixin.Events.off=L.Mixin.Events.removeEventListener;L.Mixin.Events.fire=L.Mixin.Events.fireEvent;(function(){var h=navigator.userAgent.toLowerCase(),g=!!window.ActiveXObject,n=h.indexOf("webkit")!=-1,m=h.indexOf("mobi")!=-1,k=h.indexOf("android")!=-1,j=window.opera;L.Browser={ie:g,ie6:g&&!window.XMLHttpRequest,webkit:n,webkit3d:n&&"WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix,mobileWebkit:n&&(m||k),mobileOpera:m&&j,gecko:h.indexOf("gecko")!=-1,android:k};L.Browser.touch=L.Browser.mobileWebkit||L.Browser.mobileOpera})();L.Point=function(e,d,f){this.x=f?Math.round(e):e;this.y=f?Math.round(d):d};L.Point.prototype={add:function(b){return this.clone()._add(b)},_add:function(b){this.x+=b.x;this.y+=b.y;return this},subtract:function(b){return this.clone()._subtract(b)},_subtract:function(b){this.x-=b.x;this.y-=b.y;return this},divideBy:function(d,c){return new L.Point(this.x/d,this.y/d,c)},multiplyBy:function(b){return new L.Point(this.x*b,this.y*b)},distanceTo:function(d){var c=d.x-this.x,d=d.y-this.y;return Math.sqrt(c*c+d*d)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},clone:function(){return new L.Point(this.x,this.y)},toString:function(){return"Point("+L.Util.formatNum(this.x)+", "+L.Util.formatNum(this.y)+")"}};L.Bounds=L.Class.extend({initialize:function(g,f){if(g){for(var k=g instanceof Array?g:[g,f],j=0,h=k.length;j<h;j++){this.extend(k[j])}}},extend:function(b){!this.min&&!this.max?(this.min=new L.Point(b.x,b.y),this.max=new L.Point(b.x,b.y)):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(b.y,this.max.y))},getCenter:function(b){return new L.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,b)},contains:function(d){var c;if(d instanceof L.Bounds){c=d.min,d=d.max}return c.x>=this.min.x&&d.x<=this.max.x&&c.y>=this.min.y&&d.y<=this.max.y}});L.Transformation=L.Class.extend({initialize:function(f,e,h,g){this._a=f;this._b=e;this._c=h;this._d=g},transform:function(d,c){return this._transform(d.clone(),c)},_transform:function(d,c){c=c||1;d.x=c*(this._a*d.x+this._b);d.y=c*(this._c*d.y+this._d);return d},untransform:function(d,c){c=c||1;return new L.Point((d.x/c-this._b)/this._a,(d.y/c-this._d)/this._c)}});L.LineUtil={simplify:function(d,c){if(!c){return d.slice()}d=this.reducePoints(d,c);return d=this.simplifyDP(d,c)},pointToSegmentDistance:function(e,d,f){return Math.sqrt(this._sqPointToSegmentDist(e,d,f))},simplifyDP:function(k,j){for(var s=0,q=0,p=j*j,o=1,n=k.length,m;o<n-1;o++){m=this._sqPointToSegmentDist(k[o],k[0],k[n-1]),m>s&&(q=o,s=m)}return s>=p?(s=k.slice(0,q),q=k.slice(q),n=this.simplifyDP(s,j).slice(0,n-2),q=this.simplifyDP(q,j),n.concat(q)):[k[0],k[n-1]]},reducePoints:function(j,h){for(var p=[j[0]],o=h*h,n=1,m=0,k=j.length;n<k;n++){this._sqDist(j[n],j[m])<o||(p.push(j[n]),m=n)}m<k-1&&p.push(j[k-1]);return p},clipSegment:function(k,j,s,q){var q=q?this._lastCode:this._getBitCode(k,s),p=this._getBitCode(j,s);for(this._lastCode=p;;){if(q|p){if(q&p){return !1}else{var o=q||p,n=this._getEdgeIntersection(k,j,o,s),m=this._getBitCode(n,s);o==q?(k=n,q=m):(j=n,p=m)}}else{return[k,j]}}},_getEdgeIntersection:function(h,g,n,m){var k=g.x-h.x,g=g.y-h.y,j=m.min,m=m.max;if(n&8){return new L.Point(h.x+k*(m.y-h.y)/g,m.y)}else{if(n&4){return new L.Point(h.x+k*(j.y-h.y)/g,j.y)}else{if(n&2){return new L.Point(m.x,h.y+g*(m.x-h.x)/k)}else{if(n&1){return new L.Point(j.x,h.y+g*(j.x-h.x)/k)}}}}},_getBitCode:function(e,d){var f=0;e.x<d.min.x?f|=1:e.x>d.max.x&&(f|=2);e.y<d.min.y?f|=4:e.y>d.max.y&&(f|=8);return f},_sqDist:function(f,e){var h=e.x-f.x,g=e.y-f.y;return h*h+g*g},_sqPointToSegmentDist:function(h,g,n){var m=n.x-g.x,k=n.y-g.y;if(!m&&!k){return this._sqDist(h,g)}var j=((h.x-g.x)*m+(h.y-g.y)*k)/this._sqDist(g,n);if(j<0){return this._sqDist(h,g)}if(j>1){return this._sqDist(h,n)}g=new L.Point(g.x+m*j,g.y+k*j);return this._sqDist(h,g)}};L.PolyUtil={};L.PolyUtil.clipPolygon=function(y,x){var v,u=[1,4,2,8],t,s,q,p,o,n,m=L.LineUtil;t=0;for(o=y.length;t<o;t++){y[t]._code=m._getBitCode(y[t],x)}for(q=0;q<4;q++){n=u[q];v=[];t=0;o=y.length;for(s=o-1;t<o;s=t++){if(p=y[t],s=y[s],p._code&n){if(!(s._code&n)){s=m._getEdgeIntersection(s,p,n,x),s._code=m._getBitCode(s,x),v.push(s)}}else{if(s._code&n){s=m._getEdgeIntersection(s,p,n,x),s._code=m._getBitCode(s,x),v.push(s)}v.push(p)}}y=v}return y};L.DomEvent={addListener:function(j,h,p,o){function n(a){return p.call(o||j,a||L.DomEvent._getEvent())}var m=L.Util.stamp(p);if(L.Browser.touch&&h=="dblclick"&&this.addDoubleTapListener){this.addDoubleTapListener(j,n,m)}else{if("addEventListener" in j){if(h=="mousewheel"){j.addEventListener("DOMMouseScroll",n,!1),j.addEventListener(h,n,!1)}else{if(h=="mouseenter"||h=="mouseleave"){var k=n,n=function(a){if(L.DomEvent._checkMouse(j,a)){return k(a)}};j.addEventListener(h=="mouseenter"?"mouseover":"mouseout",n,!1)}else{j.addEventListener(h,n,!1)}}}else{"attachEvent" in j&&j.attachEvent("on"+h,n)}}j["_leaflet_"+h+m]=n},removeListener:function(f,e,h){var h=L.Util.stamp(h),g="_leaflet_"+e+h;handler=f[g];L.Browser.mobileWebkit&&e=="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(f,h):"removeEventListener" in f?e=="mousewheel"?(f.removeEventListener("DOMMouseScroll",handler,!1),f.removeEventListener(e,handler,!1)):e=="mouseenter"||e=="mouseleave"?f.removeEventListener(e=="mouseenter"?"mouseover":"mouseout",handler,!1):f.removeEventListener(e,handler,!1):"detachEvent" in f&&f.detachEvent("on"+e,handler);f[g]=null},_checkMouse:function(f,e){var h=e.relatedTarget;if(!h){return !0}try{for(;h&&h!=f;){h=h.parentNode}}catch(g){return !1}return h!=f},_getEvent:function(){var d=window.event;if(!d){for(var c=arguments.callee.caller;c;){if((d=c.arguments[0])&&Event==d.constructor){break}c=c.caller}}return d},stopPropagation:function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},disableClickPropagation:function(b){L.DomEvent.addListener(b,"mousedown",L.DomEvent.stopPropagation);L.DomEvent.addListener(b,"click",L.DomEvent.stopPropagation);L.DomEvent.addListener(b,"dblclick",L.DomEvent.stopPropagation)},preventDefault:function(b){b.preventDefault?b.preventDefault():b.returnValue=!1},stop:function(b){L.DomEvent.preventDefault(b);L.DomEvent.stopPropagation(b)},getMousePosition:function(e,d){var f=new L.Point(e.pageX?e.pageX:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.pageY?e.pageY:e.clientY+document.body.scrollTop+document.documentElement.scrollTop);return d?f.subtract(L.DomUtil.getCumulativeOffset(d)):f},getWheelDelta:function(d){var c=0;d.wheelDelta&&(c=d.wheelDelta/120);d.detail&&(c=-d.detail/3);return c}};L.Util.extend(L.DomEvent,{addDoubleTapListener:function(u,t,s){function q(e){if(e.touches.length==1){var d=Date.now(),f=d-(o||d);k=e.touches[0];n=f>0&&f<=m;o=d}}function p(){if(n){k.type="dblclick",t(k),o=null}}var o,n=!1,m=250,k;u["_leaflet_touchstart"+s]=q;u["_leaflet_touchend"+s]=p;u.addEventListener("touchstart",q,!1);u.addEventListener("touchend",p,!1)},removeDoubleTapListener:function(d,c){d.removeEventListener(d,d["_leaflet_touchstart"+c],!1);d.removeEventListener(d,d["_leaflet_touchend"+c],!1)}});L.DomUtil={get:function(b){return typeof b=="string"?document.getElementById(b):b},getStyle:function(e,d){var f=e.style[d];!f&&e.currentStyle&&(f=e.currentStyle[d]);if(!f||f=="auto"){f=(f=document.defaultView.getComputedStyle(e,null))?f[d]:null}return f=="auto"?null:f},getCumulativeOffset:function(e){var d=0,f=0;do{d+=e.offsetTop||0,f+=e.offsetLeft||0,e=e.offsetParent}while(e);return new L.Point(f,d)},create:function(e,d,f){e=document.createElement(e);e.className=d;f&&f.appendChild(e);return e},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty();if(!this._onselectstart){this._onselectstart=document.onselectstart,document.onselectstart=L.Util.falseFn}},enableTextSelection:function(){document.onselectstart=this._onselectstart;this._onselectstart=null},CLASS_RE:/(\\s|^)'+cls+'(\\s|$)/,hasClass:function(d,c){return d.className.length>0&&RegExp("(^|\\s)"+c+"(\\s|$)").test(d.className)},addClass:function(d,c){L.DomUtil.hasClass(d,c)||(d.className+=(d.className?" ":"")+c)},setOpacity:function(d,c){L.Browser.ie?d.style.filter="alpha(opacity="+Math.round(c*100)+")":d.style.opacity=c},testProp:function(e){for(var d=document.documentElement.style,f=0;f<e.length;f++){if(e[f] in d){return e[f]}}return !1},getTranslateString:function(b){return L.DomUtil.TRANSLATE_OPEN+b.x+"px,"+b.y+"px"+L.DomUtil.TRANSLATE_CLOSE},getScaleString:function(d,c){return L.DomUtil.getTranslateString(c)+" scale("+d+") "+L.DomUtil.getTranslateString(c.multiplyBy(-1))},setPosition:function(d,c){d._leaflet_pos=c;L.Browser.webkit?d.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(c):(d.style.left=c.x+"px",d.style.top=c.y+"px")},getPosition:function(b){return b._leaflet_pos}};L.Util.extend(L.DomUtil,{TRANSITION:L.DomUtil.testProp(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),TRANSFORM:L.DomUtil.testProp(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]),TRANSLATE_OPEN:"translate"+(L.Browser.webkit3d?"3d(":"("),TRANSLATE_CLOSE:L.Browser.webkit3d?",0)":")"});L.Draggable=L.Class.extend({includes:L.Mixin.Events,statics:{START:L.Browser.touch?"touchstart":"mousedown",END:L.Browser.touch?"touchend":"mouseup",MOVE:L.Browser.touch?"touchmove":"mousemove",TAP_TOLERANCE:15},initialize:function(d,c){this._element=d;this._dragStartTarget=c||d},enable:function(){if(!this._enabled){L.DomEvent.addListener(this._dragStartTarget,L.Draggable.START,this._onDown,this),this._enabled=!0}},disable:function(){if(this._enabled){L.DomEvent.removeListener(this._dragStartTarget,L.Draggable.START,this._onDown),this._enabled=!1}},_onDown:function(d){if(!(d.shiftKey||d.which!=1&&d.button!=1&&!d.touches)&&!(d.touches&&d.touches.length>1)){var c=d.touches&&d.touches.length==1?d.touches[0]:d;L.DomEvent.preventDefault(d);L.Browser.mobileWebkit&&(c.target.className+=" leaflet-active");this._moved=!1;L.DomUtil.disableTextSelection();this._setMovingCursor();this._startPos=this._newPos=L.DomUtil.getPosition(this._element);this._startPoint=new L.Point(c.clientX,c.clientY);L.DomEvent.addListener(document,L.Draggable.MOVE,this._onMove,this);L.DomEvent.addListener(document,L.Draggable.END,this._onUp,this)}},_onMove:function(b){if(!(b.touches&&b.touches.length>1)){L.DomEvent.preventDefault(b);b=b.touches&&b.touches.length==1?b.touches[0]:b;if(!this._moved){this.fire("dragstart"),this._moved=!0}this._newPos=this._startPos.add(new L.Point(b.clientX,b.clientY)).subtract(this._startPoint);L.Util.requestAnimFrame(this._updatePosition,this,!0);this.fire("drag")}},_updatePosition:function(){L.DomUtil.setPosition(this._element,this._newPos)},_onUp:function(e){if(e.changedTouches){var e=e.changedTouches[0],d=e.target,f=this._newPos&&this._newPos.distanceTo(this._startPos)||0;d.className=d.className.replace(" leaflet-active","");f<L.Draggable.TAP_TOLERANCE&&this._simulateEvent("click",e)}L.DomUtil.enableTextSelection();this._restoreCursor();L.DomEvent.removeListener(document,L.Draggable.MOVE,this._onMove);L.DomEvent.removeListener(document,L.Draggable.END,this._onUp);this._moved&&this.fire("dragend")},_removeActiveClass:function(){},_setMovingCursor:function(){this._bodyCursor=document.body.style.cursor;document.body.style.cursor="move"},_restoreCursor:function(){document.body.style.cursor=this._bodyCursor},_simulateEvent:function(e,d){var f=document.createEvent("MouseEvent");f.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null);d.target.dispatchEvent(f)}});L.Transition=L.Class.extend({includes:L.Mixin.Events,statics:{CUSTOM_PROPS_SETTERS:{position:L.DomUtil.setPosition},implemented:function(){return L.Transition.NATIVE||L.Transition.TIMER}},options:{easing:"ease",duration:0.5},_setProperty:function(e,d){var f=L.Transition.CUSTOM_PROPS_SETTERS;if(e in f){f[e](this._el,d)}else{this._el.style[e]=d}}});L.Transition=L.Transition.extend({statics:function(){var b=L.DomUtil.TRANSITION;return{NATIVE:!!b,TRANSITION:b,PROPERTY:b+"Property",DURATION:b+"Duration",EASING:b+"TimingFunction",END:b=="webkitTransition"||b=="OTransition"?b+"End":"transitionend",CUSTOM_PROPS_PROPERTIES:{position:L.Browser.webkit?L.DomUtil.TRANSFORM:"top, left"}}}(),options:{fakeStepInterval:100},initialize:function(d,c){this._el=d;L.Util.setOptions(this,c);L.DomEvent.addListener(d,L.Transition.END,this._onTransitionEnd,this);this._onFakeStep=L.Util.bind(this._onFakeStep,this)},run:function(f){var e,h=[],g=L.Transition.CUSTOM_PROPS_PROPERTIES;for(e in f){f.hasOwnProperty(e)&&(e=g[e]?g[e]:e,e=e.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()}),h.push(e))}this._el.style[L.Transition.DURATION]=this.options.duration+"s";this._el.style[L.Transition.EASING]=this.options.easing;this._el.style[L.Transition.PROPERTY]=h.join(", ");for(e in f){f.hasOwnProperty(e)&&this._setProperty(e,f[e])}this._inProgress=!0;this.fire("start");L.Transition.NATIVE?this._timer=setInterval(this._onFakeStep,this.options.fakeStepInterval):this._onTransitionEnd()},_onFakeStep:function(){this.fire("step")},_onTransitionEnd:function(){if(this._inProgress){this._inProgress=!1,clearInterval(this._timer),this._el.style[L.Transition.PROPERTY]="none",this.fire("step"),this.fire("end")}}});L.Transition=L.Transition.NATIVE?L.Transition:L.Transition.extend({statics:{getTime:Date.now||function(){return +new Date},TIMER:!0,EASINGS:{ease:[0.25,0.1,0.25,1],linear:[0,0,1,1],"ease-in":[0.42,0,1,1],"ease-out":[0,0,0.58,1],"ease-in-out":[0.42,0,0.58,1]},CUSTOM_PROPS_GETTERS:{position:L.DomUtil.getPosition},UNIT_RE:/^[\d\.]+(\D*)$/},options:{fps:50},initialize:function(e,d){this._el=e;L.Util.extend(this.options,d);var f=L.Transition.EASINGS[this.options.easing]||L.Transition.EASINGS.ease;this._p1=new L.Point(0,0);this._p2=new L.Point(f[0],f[1]);this._p3=new L.Point(f[2],f[3]);this._p4=new L.Point(1,1);this._step=L.Util.bind(this._step,this);this._interval=Math.round(1000/this.options.fps)},run:function(h){this._props={};var g=L.Transition.CUSTOM_PROPS_GETTERS,n=L.Transition.UNIT_RE;this.fire("start");for(var m in h){if(h.hasOwnProperty(m)){var k={};if(m in g){k.from=g[m](this._el)}else{var j=this._el.style[m].match(n);k.from=parseFloat(j[0]);k.unit=j[1]}k.to=h[m];this._props[m]=k}}clearInterval(this._timer);this._timer=setInterval(this._step,this._interval);this._startTime=L.Transition.getTime()},_step:function(){var d=L.Transition.getTime()-this._startTime,c=this.options.duration*1000;d<c?this._runFrame(this._cubicBezier(d/c)):(this._runFrame(1),this._complete())},_runFrame:function(f){var e=L.Transition.CUSTOM_PROPS_SETTERS,h,g;for(h in this._props){this._props.hasOwnProperty(h)&&(g=this._props[h],h in e?(g=g.to.subtract(g.from).multiplyBy(f).add(g.from),e[h](this._el,g)):this._el.style[h]=(g.to-g.from)*f+g.from+g.unit)}this.fire("step")},_complete:function(){clearInterval(this._timer);this.fire("end")},_cubicBezier:function(f){var e=3*Math.pow(1-f,2)*f,h=3*(1-f)*Math.pow(f,2),g=Math.pow(f,3),f=this._p1.multiplyBy(Math.pow(1-f,3)),e=this._p2.multiplyBy(e),h=this._p3.multiplyBy(h),g=this._p4.multiplyBy(g);return f.add(e).add(h).add(g).y}});L.LatLng=function(e,d,f){f!==!0&&(e=Math.max(Math.min(e,90),-90),d=(d+180)%360+(d<-180?180:-180));this.lat=e;this.lng=d};L.Util.extend(L.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9});L.LatLng.prototype={equals:function(b){if(!(b instanceof L.LatLng)){return !1}return Math.max(Math.abs(this.lat-b.lat),Math.abs(this.lng-b.lng))<=L.LatLng.MAX_MARGIN},toString:function(){return"LatLng("+L.Util.formatNum(this.lat)+", "+L.Util.formatNum(this.lng)+")"}};L.LatLngBounds=L.Class.extend({initialize:function(g,f){if(g){for(var k=g instanceof Array?g:[g,f],j=0,h=k.length;j<h;j++){this.extend(k[j])}}},extend:function(b){!this._southWest&&!this._northEast?(this._southWest=new L.LatLng(b.lat,b.lng),this._northEast=new L.LatLng(b.lat,b.lng)):(this._southWest.lat=Math.min(b.lat,this._southWest.lat),this._southWest.lng=Math.min(b.lng,this._southWest.lng),this._northEast.lat=Math.max(b.lat,this._northEast.lat),this._northEast.lng=Math.max(b.lng,this._northEast.lng))},getCenter:function(){return new L.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new L.LatLng(this._northEast.lat,this._southWest.lng)},getSouthEast:function(){return new L.LatLng(this._southWest.lat,this._northEast.lng)},contains:function(f){var e=this._southWest,h=this._northEast,g;f instanceof L.LatLngBounds?(g=f.getSouthWest(),f=f.getNorthEast()):g=f;return g.lat>=e.lat&&f.lat<=h.lat&&g.lng>=e.lng&&f.lng<=h.lng}});L.Projection={};L.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(f){var e=L.LatLng.DEG_TO_RAD,h=this.MAX_LATITUDE,g=f.lng*e,f=Math.max(Math.min(h,f.lat),-h)*e,f=Math.log(Math.tan(Math.PI/4+f/2));return new L.Point(g,f)},unproject:function(e,d){var f=L.LatLng.RAD_TO_DEG;return new L.LatLng((2*Math.atan(Math.exp(e.y))-Math.PI/2)*f,e.x*f,d)}};L.Projection.LonLat={project:function(b){return new L.Point(b.lng,b.lat)},unproject:function(d,c){return new L.LatLng(d.y,d.x,c)}};L.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(g){var f=L.LatLng.DEG_TO_RAD,k=this.MAX_LATITUDE,j=this.R_MAJOR,h=g.lng*f*j,g=Math.max(Math.min(k,g.lat),-k)*f,f=this.R_MINOR/j,f=Math.sqrt(1-f*f),k=f*Math.sin(g),k=Math.pow((1-k)/(1+k),f*0.5),g=-j*Math.log(Math.tan(0.5*(Math.PI*0.5-g))/k);return new L.Point(h,g)},unproject:function(u,t){for(var s=L.LatLng.RAD_TO_DEG,q=this.R_MAJOR,p=u.x*s/q,o=this.R_MINOR/q,o=Math.sqrt(1-o*o),q=Math.exp(-u.y/q),n=Math.PI/2-2*Math.atan(q),m=15,k=0.1;Math.abs(k)>1e-7&&--m>0;){k=o*Math.sin(n),k=Math.PI/2-2*Math.atan(q*Math.pow((1-k)/(1+k),0.5*o))-n,n+=k}return new L.LatLng(n*s,p,t)}};L.CRS={latLngToPoint:function(d,c){return this.transformation._transform(this.projection.project(d),c)},pointToLatLng:function(e,d,f){return this.projection.unproject(this.transformation.untransform(e,d),f)},project:function(b){return this.projection.project(b)}};L.CRS.EPSG3857=L.Util.extend({},L.CRS,{code:"EPSG:3857",projection:L.Projection.SphericalMercator,transformation:new L.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(b){return this.projection.project(b).multiplyBy(6378137)}});L.CRS.EPSG900913=L.Util.extend({},L.CRS.EPSG3857,{code:"EPSG:900913"});L.CRS.EPSG4326=L.Util.extend({},L.CRS,{code:"EPSG:4326",projection:L.Projection.LonLat,transformation:new L.Transformation(1/360,0.5,-1/360,0.5)});L.CRS.EPSG3395=L.Util.extend({},L.CRS,{code:"EPSG:3395",projection:L.Projection.Mercator,transformation:function(){var b=L.Projection.Mercator;return new L.Transformation(0.5/(Math.PI*b.R_MAJOR),0.5,-0.5/(Math.PI*b.R_MINOR),0.5)}()});L.LayerGroup=L.Class.extend({initialize:function(e){this._layers={};if(e){for(var d=0,f=e.length;d<f;d++){this.addLayer(e[d])}}},addLayer:function(b){this._layers[L.Util.stamp(b)]=b;this._map&&this._map.addLayer(b);return this},removeLayer:function(b){delete this._layers[L.Util.stamp(b)];this._map&&this._map.removeLayer(b);return this},clearLayers:function(){this._iterateLayers(this.removeLayer,this);return this},onAdd:function(b){this._map=b;this._iterateLayers(b.addLayer,b)},onRemove:function(b){this._iterateLayers(b.removeLayer,b);delete this._map},_iterateLayers:function(e,d){for(var f in this._layers){this._layers.hasOwnProperty(f)&&e.call(d,this._layers[f])}}});L.FeatureGroup=L.LayerGroup.extend({includes:L.Mixin.Events,addLayer:function(b){this._initEvents(b);L.LayerGroup.prototype.addLayer.call(this,b);this._popupContent&&b.bindPopup&&b.bindPopup(this._popupContent)},bindPopup:function(d){this._popupContent=d;for(var c in this._layers){this._layers.hasOwnProperty(c)&&this._layers[c].bindPopup&&this._layers[c].bindPopup(d)}},_events:["click","dblclick","mouseover","mouseout"],_initEvents:function(e){for(var d=0,f=this._events.length;d<f;d++){e.on(this._events[d],this._propagateEvent,this)}},_propagateEvent:function(b){b.layer=b.target;b.target=this;this.fire(b.type,b)}});L.TileLayer=L.Class.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,scheme:"xyz",noWrap:!1,unloadInvisibleTiles:L.Browser.mobileWebkit,updateWhenIdle:L.Browser.mobileWebkit},initialize:function(d,c){L.Util.setOptions(this,c);this._url=d;if(typeof this.options.subdomains=="string"){this.options.subdomains=this.options.subdomains.split("")}},onAdd:function(b){this._map=b;this._initContainer();this._createTileProto();b.on("viewreset",this._reset,this);if(this.options.updateWhenIdle){b.on("moveend",this._update,this)}else{this._limitedUpdate=L.Util.limitExecByInterval(this._update,100,this),b.on("move",this._limitedUpdate,this)}this._reset();this._update()},onRemove:function(){this._map.getPanes().tilePane.removeChild(this._container);this._container=null;this._map.off("viewreset",this._reset,this);this.options.updateWhenIdle?this._map.off("moveend",this._update,this):this._map.off("move",this._limitedUpdate,this)},getAttribution:function(){return this.options.attribution},setOpacity:function(b){this.options.opacity=b;this._setOpacity(b);if(L.Browser.webkit){for(i in this._tiles){this._tiles[i].style.webkitTransform+=" translate(0,0)"}}},_setOpacity:function(b){b<1&&L.DomUtil.setOpacity(this._container,b)},_initContainer:function(){var b=this._map.getPanes().tilePane;if(!this._container||b.empty){this._container=L.DomUtil.create("div","leaflet-layer",b),this._setOpacity(this.options.opacity)}},_reset:function(){this._tiles={};this._initContainer();this._container.innerHTML=""},_update:function(){var e=this._map.getPixelBounds(),d=this.options.tileSize,f=new L.Point(Math.floor(e.min.x/d),Math.floor(e.min.y/d)),e=new L.Point(Math.floor(e.max.x/d),Math.floor(e.max.y/d)),f=new L.Bounds(f,e);this._addTilesFromCenterOut(f);this.options.unloadInvisibleTiles&&this._removeOtherTiles(f)},_addTilesFromCenterOut:function(g){for(var f=[],k=g.getCenter(),j=g.min.y;j<=g.max.y;j++){for(var h=g.min.x;h<=g.max.x;h++){h+":"+j in this._tiles||f.push(new L.Point(h,j))}}f.sort(function(d,c){return d.distanceTo(k)-c.distanceTo(k)});this._tilesToLoad=f.length;g=0;for(j=this._tilesToLoad;g<j;g++){this._addTile(f[g])}},_removeOtherTiles:function(f){var e,h,g;for(g in this._tiles){if(this._tiles.hasOwnProperty(g)&&(e=g.split(":"),h=parseInt(e[0],10),e=parseInt(e[1],10),h<f.min.x||h>f.max.x||e<f.min.y||e>f.max.y)){this._tiles[g].src="",this._tiles[g].parentNode==this._container&&this._container.removeChild(this._tiles[g]),delete this._tiles[g]}}},_addTile:function(h){var g=this._getTilePos(h),n=this._map.getZoom(),m=h.x+":"+h.y,k=1<<n;if(!this.options.noWrap){h.x=(h.x%k+k)%k}if(!(h.y<0||h.y>=k)){var j=this._createTile();L.DomUtil.setPosition(j,g);this._tiles[m]=j;if(this.options.scheme=="tms"){h.y=k-h.y-1}this._loadTile(j,h,n);this._container.appendChild(j)}},_getTilePos:function(d){var c=this._map.getPixelOrigin();return d.multiplyBy(this.options.tileSize).subtract(c)},getTileUrl:function(d,c){return this._url.replace("{s}",this.options.subdomains[(d.x+d.y)%this.options.subdomains.length]).replace("{z}",c).replace("{x}",d.x).replace("{y}",d.y)},_createTileProto:function(){this._tileImg=L.DomUtil.create("img","leaflet-tile");this._tileImg.galleryimg="no";var b=this.options.tileSize;this._tileImg.style.width=b+"px";this._tileImg.style.height=b+"px"},_createTile:function(){var b=this._tileImg.cloneNode(!1);b.onselectstart=b.onmousemove=L.Util.falseFn;return b},_loadTile:function(e,d,f){e._layer=this;e.onload=this._tileOnLoad;e.onerror=this._tileOnError;e.src=this.getTileUrl(d,f)},_tileOnLoad:function(){var b=this._layer;this.className+=" leaflet-tile-loaded";b.fire("tileload",{tile:this,url:this.src});b._tilesToLoad--;b._tilesToLoad||b.fire("load")},_tileOnError:function(){var b=this._layer;b.fire("tileerror",{tile:this,url:this.src});if(b=b.options.errorTileUrl){this.src=b}}});L.TileLayer.WMS=L.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(e,d){this._url=e;this.wmsParams=L.Util.extend({},this.defaultWmsParams);this.wmsParams.width=this.wmsParams.height=this.options.tileSize;for(var f in d){this.options.hasOwnProperty(f)||(this.wmsParams[f]=d[f])}L.Util.setOptions(this,d)},onAdd:function(b){this.wmsParams[parseFloat(this.wmsParams.version)>=1.3?"crs":"srs"]=b.options.crs.code;L.TileLayer.prototype.onAdd.call(this,b)},getTileUrl:function(d){var c=this.options.tileSize,d=d.multiplyBy(c),c=d.add(new L.Point(c,c)),d=this._map.unproject(d,this._zoom,!0),c=this._map.unproject(c,this._zoom,!0),d=this._map.options.crs.project(d),c=this._map.options.crs.project(c),c=[d.x,c.y,c.x,d.y].join(",");return this._url+L.Util.getParamString(this.wmsParams)+"&bbox="+c}});L.TileLayer.Canvas=L.TileLayer.extend({options:{async:!1},initialize:function(b){L.Util.setOptions(this,b)},_createTileProto:function(){this._canvasProto=L.DomUtil.create("canvas","leaflet-tile");var b=this.options.tileSize;this._canvasProto.width=b;this._canvasProto.height=b},_createTile:function(){var b=this._canvasProto.cloneNode(!1);b.onselectstart=b.onmousemove=L.Util.falseFn;return b},_loadTile:function(e,d,f){e._layer=this;this.drawTile(e,d,f);this.options.async||this.tileDrawn(e)},drawTile:function(){},tileDrawn:function(b){this._tileOnLoad.call(b)}});L.ImageOverlay=L.Class.extend({includes:L.Mixin.Events,initialize:function(d,c){this._url=d;this._bounds=c},onAdd:function(b){this._map=b;this._image||this._initImage();b.getPanes().overlayPane.appendChild(this._image);b.on("viewreset",this._reset,this);this._reset()},onRemove:function(b){b.getPanes().overlayPane.removeChild(this._image);b.off("viewreset",this._reset,this)},_initImage:function(){this._image=L.DomUtil.create("img","leaflet-image-layer");this._image.style.visibility="hidden";L.Util.extend(this._image,{galleryimg:"no",onselectstart:L.Util.falseFn,onmousemove:L.Util.falseFn,onload:this._onImageLoad,src:this._url})},_reset:function(){var d=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),c=this._map.latLngToLayerPoint(this._bounds.getSouthEast()).subtract(d);L.DomUtil.setPosition(this._image,d);this._image.style.width=c.x+"px";this._image.style.height=c.y+"px"},_onImageLoad:function(){this.style.visibility=""}});L.Popup=L.Class.extend({includes:L.Mixin.Events,options:{maxWidth:300,autoPan:!0,closeButton:!0,offset:new L.Point(0,2),autoPanPadding:new L.Point(5,5)},initialize:function(b){L.Util.setOptions(this,b)},onAdd:function(b){this._map=b;this._container||this._initLayout();this._updateContent();this._container.style.opacity="0";this._map._panes.popupPane.appendChild(this._container);this._map.on("viewreset",this._updatePosition,this);if(this._map.options.closePopupOnClick){this._map.on("preclick",this._close,this)}this._update();this._container.style.opacity="1";this._opened=!0},onRemove:function(b){b._panes.popupPane.removeChild(this._container);b.off("viewreset",this._updatePosition,this);b.off("click",this._close,this);this._container.style.opacity="0";this._opened=!1},setLatLng:function(b){this._latlng=b;this._opened&&this._update();return this},setContent:function(b){this._content=b;this._opened&&this._update();return this},_close:function(){this._opened&&this._map.removeLayer(this)},_initLayout:function(){this._container=L.DomUtil.create("div","leaflet-popup");this._closeButton=L.DomUtil.create("a","leaflet-popup-close-button",this._container);this._closeButton.href="#close";this._closeButton.onclick=L.Util.bind(this._onCloseButtonClick,this);this._wrapper=L.DomUtil.create("div","leaflet-popup-content-wrapper",this._container);L.DomEvent.disableClickPropagation(this._wrapper);this._contentNode=L.DomUtil.create("div","leaflet-popup-content",this._wrapper);this._tipContainer=L.DomUtil.create("div","leaflet-popup-tip-container",this._container);this._tip=L.DomUtil.create("div","leaflet-popup-tip",this._tipContainer)},_update:function(){this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},_updateContent:function(){if(this._content){typeof this._content=="string"?this._contentNode.innerHTML=this._content:(this._contentNode.innerHTML="",this._contentNode.appendChild(this._content))}},_updateLayout:function(){this._container.style.width="";this._container.style.whiteSpace="nowrap";var b=this._container.offsetWidth;this._container.style.width=(b>this.options.maxWidth?this.options.maxWidth:b)+"px";this._container.style.whiteSpace="";this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var b=this._map.latLngToLayerPoint(this._latlng);this._containerBottom=-b.y-this.options.offset.y;this._containerLeft=b.x-Math.round(this._containerWidth/2)+this.options.offset.x;this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+"px"},_adjustPan:function(){if(this.options.autoPan){var g=this._container.offsetHeight,f=this._map.layerPointToContainerPoint(new L.Point(this._containerLeft,-g-this._containerBottom)),k=new L.Point(0,0),j=this.options.autoPanPadding,h=this._map.getSize();if(f.x<0){k.x=f.x-j.x}if(f.x+this._containerWidth>h.x){k.x=f.x+this._containerWidth-h.x+j.x}if(f.y<0){k.y=f.y-j.y}if(f.y+g>h.y){k.y=f.y+g-h.y+j.y}(k.x||k.y)&&this._map.panBy(k)}},_onCloseButtonClick:function(b){this._close();L.DomEvent.stop(b)}});L.Icon=L.Class.extend({iconUrl:L.ROOT_URL+"images/marker.png",shadowUrl:L.ROOT_URL+"images/marker-shadow.png",iconSize:new L.Point(25,41),shadowSize:new L.Point(41,41),iconAnchor:new L.Point(13,41),popupAnchor:new L.Point(0,-33),initialize:function(b){if(b){this.iconUrl=b}},createIcon:function(){return this._createIcon("icon")},createShadow:function(){return this._createIcon("shadow")},_createIcon:function(f){var e=this[f+"Size"],h=this[f+"Url"],g=this._createImg(h);if(!h){return null}g.className="leaflet-marker-"+f;g.style.marginLeft=-this.iconAnchor.x+"px";g.style.marginTop=-this.iconAnchor.y+"px";if(e){g.style.width=e.x+"px",g.style.height=e.y+"px"}return g},_createImg:function(d){var c;L.Browser.ie6?(c=document.createElement("div"),c.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+d+'")'):(c=document.createElement("img"),c.src=d);return c}});L.Marker=L.Class.extend({includes:L.Mixin.Events,options:{icon:new L.Icon,title:"",clickable:!0,draggable:!1},initialize:function(d,c){L.Util.setOptions(this,c);this._latlng=d},onAdd:function(b){this._map=b;this._initIcon();b.on("viewreset",this._reset,this);this._reset()},onRemove:function(b){this._removeIcon();b.off("viewreset",this._reset,this)},getLatLng:function(){return this._latlng},setLatLng:function(b){this._latlng=b;this._reset()},setIcon:function(b){this._removeIcon();this._icon=this._shadow=null;this.options.icon=b;this._initIcon()},_initIcon:function(){if(!this._icon){this._icon=this.options.icon.createIcon();if(this.options.title){this._icon.title=this.options.title}this._initInteraction()}if(!this._shadow){this._shadow=this.options.icon.createShadow()}this._map._panes.markerPane.appendChild(this._icon);this._shadow&&this._map._panes.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this._map._panes.markerPane.removeChild(this._icon);this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow)},_reset:function(){var b=this._map.latLngToLayerPoint(this._latlng).round();L.DomUtil.setPosition(this._icon,b);this._shadow&&L.DomUtil.setPosition(this._shadow,b);this._icon.style.zIndex=b.y},_initInteraction:function(){if(this.options.clickable){this._icon.className+=" leaflet-clickable";L.DomEvent.addListener(this._icon,"click",this._onMouseClick,this);for(var d=["dblclick","mousedown","mouseover","mouseout"],c=0;c<d.length;c++){L.DomEvent.addListener(this._icon,d[c],this._fireMouseEvent,this)}}if(L.Handler.MarkerDrag){this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable()}},_onMouseClick:function(b){L.DomEvent.stopPropagation(b);(!this.dragging||!this.dragging.moved())&&this.fire(b.type)},_fireMouseEvent:function(b){this.fire(b.type);L.DomEvent.stopPropagation(b)}});L.Marker.include({openPopup:function(){this._popup.setLatLng(this._latlng);this._map.openPopup(this._popup);return this},closePopup:function(){this._popup&&this._popup._close()},bindPopup:function(d,c){c=L.Util.extend({offset:this.options.icon.popupAnchor},c);this._popup=new L.Popup(c);this._popup.setContent(d);this.on("click",this.openPopup,this);return this}});L.Path=L.Class.extend({includes:[L.Mixin.Events],statics:function(){return{SVG_NS:"http://www.w3.org/2000/svg",SVG:!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),CLIP_PADDING:0.5}}(),options:{stroke:!0,color:"#0033ff",weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0,updateOnMoveEnd:!1},initialize:function(b){L.Util.setOptions(this,b)},onAdd:function(b){this._map=b;this._initElements();this._initEvents();this.projectLatlngs();this._updatePath();b.on("viewreset",this.projectLatlngs,this);this._updateTrigger=this.options.updateOnMoveEnd?"moveend":"viewreset";b.on(this._updateTrigger,this._updatePath,this)},onRemove:function(b){b._pathRoot.removeChild(this._container);b.off("viewreset",this._projectLatlngs,this);b.off(this._updateTrigger,this._updatePath,this)},projectLatlngs:function(){},getPathString:function(){},setStyle:function(b){L.Util.setOptions(this,b);this._path&&this._updateStyle()},_initElements:function(){this._initRoot();this._initPath();this._initStyle()},_initRoot:function(){if(!this._map._pathRoot){this._map._pathRoot=this._createElement("svg"),this._map._panes.overlayPane.appendChild(this._map._pathRoot),this._map.on("moveend",this._updateSvgViewport,this),this._updateSvgViewport()}},_updateSvgViewport:function(){this._updateViewport();var g=this._map._pathViewport,f=g.min,k=g.max,g=k.x-f.x,k=k.y-f.y,j=this._map._pathRoot,h=this._map._panes.overlayPane;L.Browser.mobileWebkit&&h.removeChild(j);L.DomUtil.setPosition(j,f);j.setAttribute("width",g);j.setAttribute("height",k);j.setAttribute("viewBox",[f.x,f.y,g,k].join(" "));L.Browser.mobileWebkit&&h.appendChild(j)},_updateViewport:function(){var e=L.Path.CLIP_PADDING,d=this._map.getSize(),f=L.DomUtil.getPosition(this._map._mapPane).multiplyBy(-1).subtract(d.multiplyBy(e)),e=f.add(d.multiplyBy(1+e*2));this._map._pathViewport=new L.Bounds(f,e)},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");this._container.appendChild(this._path);this._map._pathRoot.appendChild(this._container)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round"));this.options.fill?this._path.setAttribute("fill-rule","evenodd"):this._path.setAttribute("fill","none");this._updateStyle()},_updateStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight));this.options.fill&&(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity))},_updatePath:function(){var b=this.getPathString();b||(b="M0 0");this._path.setAttribute("d",b)},_createElement:function(b){return document.createElementNS(L.Path.SVG_NS,b)},_initEvents:function(){if(this.options.clickable){L.Path.VML||this._path.setAttribute("class","leaflet-clickable");L.DomEvent.addListener(this._container,"click",this._onMouseClick,this);for(var d=["dblclick","mousedown","mouseover","mouseout"],c=0;c<d.length;c++){L.DomEvent.addListener(this._container,d[c],this._fireMouseEvent,this)}}},_onMouseClick:function(b){(!this._map.dragging||!this._map.dragging.moved())&&this._fireMouseEvent(b)},_fireMouseEvent:function(b){this.hasEventListeners(b.type)&&(this.fire(b.type,{latlng:this._map.mouseEventToLatLng(b),layerPoint:this._map.mouseEventToLayerPoint(b)}),L.DomEvent.stopPropagation(b))},_redraw:function(){this.projectLatlngs();this._updatePath()}});L.Path.VML=function(){var b=document.createElement("div");b.innerHTML='<v:shape adj="1"/>';b=b.firstChild;b.style.behavior="url(#default#VML)";return b&&typeof b.adj=="object"}();L.Path=L.Path.SVG||!L.Path.VML?L.Path:L.Path.extend({statics:{CLIP_PADDING:0.02},_createElement:function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch(b){return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initRoot:function(){if(!this._map._pathRoot){this._map._pathRoot=document.createElement("div"),this._map._pathRoot.className="leaflet-vml-container",this._map._panes.overlayPane.appendChild(this._map._pathRoot),this._map.on("moveend",this._updateViewport,this),this._updateViewport()}},_initPath:function(){this._container=this._createElement("shape");this._container.className+=" leaflet-vml-shape"+(this.options.clickable?" leaflet-clickable":"");this._container.coordsize="1 1";this._path=this._createElement("path");this._container.appendChild(this._path);this._map._pathRoot.appendChild(this._container)},_initStyle:function(){this.options.stroke?(this._stroke=this._createElement("stroke"),this._stroke.endcap="round",this._container.appendChild(this._stroke)):this._container.stroked=!1;this.options.fill?(this._container.filled=!0,this._fill=this._createElement("fill"),this._container.appendChild(this._fill)):this._container.filled=!1;this._updateStyle()},_updateStyle:function(){if(this.options.stroke){this._stroke.weight=this.options.weight+"px",this._stroke.color=this.options.color,this._stroke.opacity=this.options.opacity}if(this.options.fill){this._fill.color=this.options.fillColor||this.options.color,this._fill.opacity=this.options.fillOpacity}},_updatePath:function(){this._container.style.display="none";this._path.v=this.getPathString()+" ";this._container.style.display=""}});L.Path.include({bindPopup:function(d,c){if(!this._popup||this._popup.options!==c){this._popup=new L.Popup(c)}this._popup.setContent(d);if(!this._openPopupAdded){this.on("click",this._openPopup,this),this._openPopupAdded=!0}return this},_openPopup:function(b){this._popup.setLatLng(b.latlng);this._map.openPopup(this._popup)}});L.Polyline=L.Path.extend({initialize:function(d,c){L.Path.prototype.initialize.call(this,c);this._latlngs=d},options:{smoothFactor:1,noClip:!1,updateOnMoveEnd:!0},projectLatlngs:function(){this._originalPoints=[];for(var d=0,c=this._latlngs.length;d<c;d++){this._originalPoints[d]=this._map.latLngToLayerPoint(this._latlngs[d])}},getPathString:function(){for(var e=0,d=this._parts.length,f="";e<d;e++){f+=this._getPathPartStr(this._parts[e])}return f},getLatLngs:function(){return this._latlngs},setLatLngs:function(b){this._latlngs=b;this._redraw();return this},addLatLng:function(b){this._latlngs.push(b);this._redraw();return this},spliceLatLngs:function(){var b=[].splice.apply(this._latlngs,arguments);this._redraw();return b},_getPathPartStr:function(h){for(var g=L.Path.VML,n=0,m=h.length,k="",j;n<m;n++){j=h[n],g&&j._round(),k+=(n?"L":"M")+j.x+" "+j.y}return k},_clipPoints:function(){var k=this._originalPoints,j=k.length,s,q,p;if(this.options.noClip){this._parts=[k]}else{var o=this._parts=[],n=this._map._pathViewport,m=L.LineUtil;for(q=s=0;s<j-1;s++){if(p=m.clipSegment(k[s],k[s+1],n,s)){if(o[q]=o[q]||[],o[q].push(p[0]),p[1]!=k[s+1]||s==j-2){o[q].push(p[1]),q++}}}}},_simplifyPoints:function(){for(var f=this._parts,e=L.LineUtil,h=0,g=f.length;h<g;h++){f[h]=e.simplify(f[h],this.options.smoothFactor)}},_updatePath:function(){this._clipPoints();this._simplifyPoints();L.Path.prototype._updatePath.call(this)}});L.Polygon=L.Polyline.extend({options:{fill:!0},initialize:function(d,c){L.Polyline.prototype.initialize.call(this,d,c);if(d[0] instanceof Array){this._latlngs=d[0],this._holes=d.slice(1)}},projectLatlngs:function(){L.Polyline.prototype.projectLatlngs.call(this);this._holePoints=[];if(this._holes){for(var f=0,e=this._holes.length;f<e;f++){this._holePoints[f]=[];for(var h=0,g=this._holes[f].length;h<g;h++){this._holePoints[f][h]=this._map.latLngToLayerPoint(this._holes[f][h])}}}},_clipPoints:function(){var f=[];this._parts=[this._originalPoints].concat(this._holePoints);if(!this.options.noClip){for(var e=0,h=this._parts.length;e<h;e++){var g=L.PolyUtil.clipPolygon(this._parts[e],this._map._pathViewport);g.length&&f.push(g)}this._parts=f}},_getPathPartStr:function(b){return L.Polyline.prototype._getPathPartStr.call(this,b)+(L.Path.SVG?"z":"x")}});(function(){function b(c){return L.FeatureGroup.extend({initialize:function(j,h){this._layers={};for(var g=0,a=j.length;g<a;g++){this.addLayer(new c(j[g],h))}},setStyle:function(e){for(var d in this._layers){this._layers.hasOwnProperty(d)&&this._layers[d].setStyle&&this._layers[d].setStyle(e)}}})}L.MultiPolyline=b(L.Polyline);L.MultiPolygon=b(L.Polygon)})();L.Circle=L.Path.extend({initialize:function(e,d,f){L.Path.prototype.initialize.call(this,f);this._latlng=e;this._mRadius=d},options:{fill:!0},setLatLng:function(b){this._latlng=b;this._redraw();return this},setRadius:function(b){this._mRadius=b;this._redraw();return this},projectLatlngs:function(){var b=this._map.options.scale(this._map._zoom);this._point=this._map.latLngToLayerPoint(this._latlng);this._radius=this._mRadius/40075017*b},getPathString:function(){var d=this._point,c=this._radius;return L.Path.SVG?"M"+d.x+","+(d.y-c)+"A"+c+","+c+",0,1,1,"+(d.x-0.1)+","+(d.y-c)+" z":(d._round(),c=Math.round(c),"AL "+d.x+","+d.y+" "+c+","+c+" 0,23592600")}});L.CircleMarker=L.Circle.extend({options:{radius:10,weight:2},initialize:function(d,c){L.Circle.prototype.initialize.call(this,d,null,c);this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(b){this._radius=b;this._redraw();return this}});L.GeoJSON=L.LayerGroup.extend({includes:L.Mixin.Events,initialize:function(d,c){L.Util.setOptions(this,c);this._geojson=d;this._layers={};d&&this.addGeoJSON(d)},addGeoJSON:function(e){if(e.features){for(var d=0,f=e.features.length;d<f;d++){this.addGeoJSON(e.features[d])}}else{d=e.type=="Feature"?e.geometry:e,f=L.GeoJSON.geometryToLayer(d,this.options.pointToLayer),this.fire("featureparse",{layer:f,properties:e.properties,geometryType:d.type,bbox:e.bbox,id:e.id}),this.addLayer(f)}}});L.Util.extend(L.GeoJSON,{geometryToLayer:function(j,h){var p=j.coordinates,o,n,m,k=[];switch(j.type){case"Point":return o=this.coordsToLatLng(p),h?h(o):new L.Marker(o);case"MultiPoint":n=0;for(m=p.length;n<m;n++){o=this.coordsToLatLng(p[n]),o=h?h(o):new L.Marker(o),k.push(o)}return new L.FeatureGroup(k);case"LineString":return p=this.coordsToLatLngs(p),new L.Polyline(p);case"Polygon":return p=this.coordsToLatLngs(p,1),new L.Polygon(p);case"MultiLineString":return p=this.coordsToLatLngs(p,1),new L.MultiPolyline(p);case"MultiPolygon":return p=this.coordsToLatLngs(p,2),new L.MultiPolygon(p);case"GeometryCollection":n=0;for(m=j.geometries.length;n<m;n++){o=this.geometryToLayer(j.geometries[n]),k.push(o)}return new L.FeatureGroup(k);default:throw Error("Invalid GeoJSON object.")}},coordsToLatLng:function(f,e){var h=parseFloat(f[e?0:1]),g=parseFloat(f[e?1:0]);return new L.LatLng(h,g)},coordsToLatLngs:function(j,h,p){var o,n=[],m,k=j.length;for(m=0;m<k;m++){o=h?this.coordsToLatLngs(j[m],h-1,p):this.coordsToLatLng(j[m],p),n.push(o)}return n}});L.Handler=L.Class.extend({initialize:function(b){this._map=b},enabled:function(){return !!this._enabled}});L.Handler.MapDrag=L.Handler.extend({enable:function(){if(!this._enabled){if(!this._draggable){this._draggable=new L.Draggable(this._map._mapPane,this._map._container),this._draggable.on("dragstart",this._onDragStart,this),this._draggable.on("drag",this._onDrag,this),this._draggable.on("dragend",this._onDragEnd,this)}this._draggable.enable();this._enabled=!0}},disable:function(){if(this._enabled){this._draggable.disable(),this._enabled=!1}},moved:function(){return this._draggable._moved},_onDragStart:function(){this._map.fire("movestart");this._map.fire("dragstart")},_onDrag:function(){this._map.fire("move");this._map.fire("drag")},_onDragEnd:function(){this._map.fire("moveend");this._map.fire("dragend")}});L.Handler.TouchZoom=L.Handler.extend({enable:function(){if(L.Browser.mobileWebkit&&!this._enabled){L.DomEvent.addListener(this._map._container,"touchstart",this._onTouchStart,this),this._enabled=!0}},disable:function(){if(this._enabled){L.DomEvent.removeListener(this._map._container,"touchstart",this._onTouchStart,this),this._enabled=!1}},_onTouchStart:function(f){if(f.touches&&!(f.touches.length!=2||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(f.touches[0]),h=this._map.mouseEventToLayerPoint(f.touches[1]),g=this._map.containerPointToLayerPoint(this._map.getSize().divideBy(2));this._startCenter=e.add(h).divideBy(2,!0);this._startDist=e.distanceTo(h);this._moved=!1;this._zooming=!0;this._centerOffset=g.subtract(this._startCenter);L.DomEvent.addListener(document,"touchmove",this._onTouchMove,this);L.DomEvent.addListener(document,"touchend",this._onTouchEnd,this);L.DomEvent.preventDefault(f)}},_onTouchMove:function(e){if(e.touches&&e.touches.length==2){if(!this._moved){this._map._mapPane.className+=" leaflet-zoom-anim",this._map._prepareTileBg(),this._moved=!0}var d=this._map.mouseEventToLayerPoint(e.touches[0]),f=this._map.mouseEventToLayerPoint(e.touches[1]);this._scale=d.distanceTo(f)/this._startDist;this._delta=d.add(f).divideBy(2,!0).subtract(this._startCenter);this._map._tileBg.style.webkitTransform=[L.DomUtil.getTranslateString(this._delta),L.DomUtil.getScaleString(this._scale,this._startCenter)].join(" ");L.DomEvent.preventDefault(e)}},_onTouchEnd:function(){if(this._moved&&this._zooming){this._zooming=!1;var f=this._map.getZoom(),e=Math.log(this._scale)/Math.LN2,e=this._map._limitZoom(f+(e>0?Math.ceil(e):Math.floor(e))),f=e-f,h=this._centerOffset.subtract(this._delta).divideBy(this._scale),g=this._map.unproject(this._map.getPixelOrigin().add(this._startCenter).add(h));L.DomEvent.removeListener(document,"touchmove",this._onTouchMove);L.DomEvent.removeListener(document,"touchend",this._onTouchEnd);this._map._runAnimation(g,e,Math.pow(2,f)/this._scale,this._startCenter.add(h))}}});L.Handler.ScrollWheelZoom=L.Handler.extend({enable:function(){if(!this._enabled){L.DomEvent.addListener(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0,this._enabled=!0}},disable:function(){if(this._enabled){L.DomEvent.removeListener(this._map._container,"mousewheel",this._onWheelScroll),this._enabled=!1}},_onWheelScroll:function(b){this._delta+=L.DomEvent.getWheelDelta(b);this._lastMousePos=this._map.mouseEventToContainerPoint(b);clearTimeout(this._timer);this._timer=setTimeout(L.Util.bind(this._performZoom,this),50);L.DomEvent.preventDefault(b)},_performZoom:function(){var d=Math.round(this._delta);this._delta=0;if(d){var c=this._getCenterForScrollWheelZoom(this._lastMousePos,d),d=this._map.getZoom()+d;this._map._limitZoom(d)!=this._map._zoom&&this._map.setView(c,d)}},_getCenterForScrollWheelZoom:function(f,e){var h=this._map.getPixelBounds().getCenter(),g=this._map.getSize().divideBy(2),g=f.subtract(g).multiplyBy(1-Math.pow(2,-e));return this._map.unproject(h.add(g),this._map._zoom,!0)}});L.Handler.DoubleClickZoom=L.Handler.extend({enable:function(){if(!this._enabled){this._map.on("dblclick",this._onDoubleClick,this._map),this._enabled=!0}},disable:function(){if(this._enabled){this._map.off("dblclick",this._onDoubleClick,this._map),this._enabled=!1}},_onDoubleClick:function(b){this.setView(b.latlng,this._zoom+1)}});L.Handler.ShiftDragZoom=L.Handler.extend({initialize:function(b){this._map=b;this._container=b._container;this._pane=b._panes.overlayPane},enable:function(){if(!this._enabled){L.DomEvent.addListener(this._container,"mousedown",this._onMouseDown,this),this._enabled=!0}},disable:function(){if(this._enabled){L.DomEvent.removeListener(this._container,"mousedown",this._onMouseDown),this._enabled=!1}},_onMouseDown:function(b){if(!b.shiftKey||b.which!=1&&b.button!=1){return !1}L.DomUtil.disableTextSelection();this._startLayerPoint=this._map.mouseEventToLayerPoint(b);this._box=L.DomUtil.create("div","leaflet-zoom-box",this._pane);L.DomUtil.setPosition(this._box,this._startLayerPoint);this._container.style.cursor="crosshair";L.DomEvent.addListener(document,"mousemove",this._onMouseMove,this);L.DomEvent.addListener(document,"mouseup",this._onMouseUp,this);L.DomEvent.preventDefault(b)},_onMouseMove:function(e){var d=this._map.mouseEventToLayerPoint(e),e=d.x-this._startLayerPoint.x,f=d.y-this._startLayerPoint.y,d=new L.Point(Math.min(d.x,this._startLayerPoint.x),Math.min(d.y,this._startLayerPoint.y));L.DomUtil.setPosition(this._box,d);this._box.style.width=Math.abs(e)-4+"px";this._box.style.height=Math.abs(f)-4+"px"},_onMouseUp:function(b){this._pane.removeChild(this._box);this._container.style.cursor="";L.DomUtil.enableTextSelection();L.DomEvent.removeListener(document,"mousemove",this._onMouseMove);L.DomEvent.removeListener(document,"mouseup",this._onMouseUp);b=this._map.mouseEventToLayerPoint(b);this._map.fitBounds(new L.LatLngBounds(this._map.layerPointToLatLng(this._startLayerPoint),this._map.layerPointToLatLng(b)))}});L.Handler.MarkerDrag=L.Handler.extend({initialize:function(b){this._marker=b},enable:function(){if(!this._enabled){if(!this._draggable){this._draggable=new L.Draggable(this._marker._icon,this._marker._icon),this._draggable.on("dragstart",this._onDragStart,this),this._draggable.on("drag",this._onDrag,this),this._draggable.on("dragend",this._onDragEnd,this)}this._draggable.enable();this._enabled=!0}},disable:function(){if(this._enabled){this._draggable.disable(),this._enabled=!1}},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup();this._marker.fire("movestart");this._marker.fire("dragstart")},_onDrag:function(){var b=L.DomUtil.getPosition(this._marker._icon);L.DomUtil.setPosition(this._marker._shadow,b);this._marker._latlng=this._marker._map.layerPointToLatLng(b);this._marker.fire("move");this._marker.fire("drag")},_onDragEnd:function(){this._marker.fire("moveend");this._marker.fire("dragend")}});L.Control={};L.Control.Position={TOP_LEFT:"topLeft",TOP_RIGHT:"topRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_RIGHT:"bottomRight"};L.Control.Zoom=L.Class.extend({onAdd:function(b){this._map=b;this._container=L.DomUtil.create("div","leaflet-control-zoom");this._zoomInButton=this._createButton("Zoom in","leaflet-control-zoom-in",this._map.zoomIn,this._map);this._zoomOutButton=this._createButton("Zoom out","leaflet-control-zoom-out",this._map.zoomOut,this._map);this._container.appendChild(this._zoomInButton);this._container.appendChild(this._zoomOutButton)},getContainer:function(){return this._container},getPosition:function(){return L.Control.Position.TOP_LEFT},_createButton:function(g,f,k,j){var h=document.createElement("a");h.href="#";h.title=g;h.className=f;L.DomEvent.disableClickPropagation(h);L.DomEvent.addListener(h,"click",L.DomEvent.preventDefault);L.DomEvent.addListener(h,"click",k,j);return h}});L.Control.Attribution=L.Class.extend({onAdd:function(b){this._container=L.DomUtil.create("div","leaflet-control-attribution");this._map=b;this._prefix='Powered by <a href="http://leaflet.cloudmade.com">Leaflet</a>';this._attributions={};this._update()},getPosition:function(){return L.Control.Position.BOTTOM_RIGHT},getContainer:function(){return this._container},setPrefix:function(b){this._prefix=b},addAttribution:function(b){b&&(this._attributions[b]=!0,this._update())},removeAttribution:function(b){b&&(delete this._attributions[b],this._update())},_update:function(){if(this._map){var d=[],c;for(c in this._attributions){this._attributions.hasOwnProperty(c)&&d.push(c)}c=[];this._prefix&&c.push(this._prefix);d.length&&c.push(d.join(", "));this._container.innerHTML=c.join(" &mdash; ")}}});L.Map=L.Class.extend({includes:L.Mixin.Events,options:{crs:L.CRS.EPSG3857||L.CRS.EPSG4326,scale:function(b){return 256*(1<<b)},center:null,zoom:null,layers:[],dragging:!0,touchZoom:L.Browser.mobileWebkit&&!L.Browser.android,scrollWheelZoom:!L.Browser.mobileWebkit,doubleClickZoom:!0,shiftDragZoom:!0,zoomControl:!0,attributionControl:!0,fadeAnimation:L.DomUtil.TRANSITION&&!L.Browser.android,zoomAnimation:L.DomUtil.TRANSITION&&!L.Browser.android&&!L.Browser.mobileOpera,trackResize:!0,closePopupOnClick:!0},initialize:function(f,e){L.Util.setOptions(this,e);this._container=L.DomUtil.get(f);this._initLayout();L.DomEvent&&(this._initEvents(),L.Handler&&this._initInteraction(),L.Control&&this._initControls());var h=this.options.center,g=this.options.zoom;h!==null&&g!==null&&this.setView(h,g,!0);h=this.options.layers;h=h instanceof Array?h:[h];this._tileLayersNum=0;this._initLayers(h)},setView:function(d,c){this._resetView(d,this._limitZoom(c));return this},setZoom:function(b){return this.setView(this.getCenter(),b)},zoomIn:function(){return this.setZoom(this._zoom+1)},zoomOut:function(){return this.setZoom(this._zoom-1)},fitBounds:function(d){var c=this.getBoundsZoom(d);return this.setView(d.getCenter(),c)},fitWorld:function(){var d=new L.LatLng(-60,-170),c=new L.LatLng(85,179);return this.fitBounds(new L.LatLngBounds(d,c))},panTo:function(b){return this.setView(b,this._zoom)},panBy:function(b){this.fire("movestart");this._rawPanBy(b);this.fire("move");this.fire("moveend");return this},addLayer:function(d){var c=L.Util.stamp(d);if(this._layers[c]){return this}this._layers[c]=d;if(d.options&&!isNaN(d.options.maxZoom)){this._layersMaxZoom=Math.max(this._layersMaxZoom||0,d.options.maxZoom)}if(d.options&&!isNaN(d.options.minZoom)){this._layersMinZoom=Math.min(this._layersMinZoom||Infinity,d.options.minZoom)}this.options.zoomAnimation&&L.TileLayer&&d instanceof L.TileLayer&&(this._tileLayersNum++,d.on("load",this._onTileLayerLoad,this));this.attributionControl&&d.getAttribution&&this.attributionControl.addAttribution(d.getAttribution());c=function(){d.onAdd(this);this.fire("layeradd",{layer:d})};if(this._loaded){c.call(this)}else{this.on("load",c,this)}return this},removeLayer:function(d){var c=L.Util.stamp(d);this._layers[c]&&(d.onRemove(this),delete this._layers[c],this.options.zoomAnimation&&L.TileLayer&&d instanceof L.TileLayer&&(this._tileLayersNum--,d.off("load",this._onTileLayerLoad,this)),this.attributionControl&&d.getAttribution&&this.attributionControl.removeAttribution(d.getAttribution()),this.fire("layerremove",{layer:d}));return this},invalidateSize:function(){this._sizeChanged=!0;this.fire("move");clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(L.Util.bind(function(){this.fire("moveend")},this),200);return this},getCenter:function(d){var c=this.getSize().divideBy(2);return this.unproject(this._getTopLeftPoint().add(c),this._zoom,d)},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),c=this.unproject(new L.Point(d.min.x,d.max.y)),d=this.unproject(new L.Point(d.max.x,d.min.y));return new L.LatLngBounds(c,d)},getMinZoom:function(){return isNaN(this.options.minZoom)?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return isNaN(this.options.maxZoom)?this._layersMaxZoom||Infinity:this.options.maxZoom},getBoundsZoom:function(j){var h=this.getSize(),p=this.getMinZoom(),o=this.getMaxZoom(),n=j.getNorthEast(),j=j.getSouthWest(),m,k;do{p++,m=this.project(n,p),k=this.project(j,p),m=new L.Point(m.x-k.x,k.y-m.y)}while(m.x<=h.x&&m.y<=h.y&&p<=o);return p-1},getSize:function(){if(!this._size||this._sizeChanged){this._size=new L.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1}return this._size},getPixelBounds:function(){var d=this._getTopLeftPoint(),c=this.getSize();return new L.Bounds(d,d.add(c))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},mouseEventToContainerPoint:function(b){return L.DomEvent.getMousePosition(b,this._container)},mouseEventToLayerPoint:function(b){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(b))},mouseEventToLatLng:function(b){return this.layerPointToLatLng(this.mouseEventToLayerPoint(b))},containerPointToLayerPoint:function(b){return b.subtract(L.DomUtil.getPosition(this._mapPane))},layerPointToContainerPoint:function(b){return b.add(L.DomUtil.getPosition(this._mapPane))},layerPointToLatLng:function(b){return this.unproject(b.add(this._initialTopLeftPoint))},latLngToLayerPoint:function(b){return this.project(b)._subtract(this._initialTopLeftPoint)},project:function(d,c){c=typeof c=="undefined"?this._zoom:c;return this.options.crs.latLngToPoint(d,this.options.scale(c))},unproject:function(e,d,f){d=typeof d=="undefined"?this._zoom:d;return this.options.crs.pointToLatLng(e,this.options.scale(d),f)},_initLayout:function(){var d=this._container;d.className+=" leaflet-container";this.options.fadeAnimation&&(d.className+=" leaflet-fade-anim");var c=L.DomUtil.getStyle(d,"position");if(c!="absolute"&&c!="relative"){d.style.position="relative"}this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var b=this._panes={};this._mapPane=b.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=b.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);this._objectsPane=b.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);b.shadowPane=this._createPane("leaflet-shadow-pane");b.overlayPane=this._createPane("leaflet-overlay-pane");b.markerPane=this._createPane("leaflet-marker-pane");b.popupPane=this._createPane("leaflet-popup-pane")},_createPane:function(d,c){return L.DomUtil.create("div",d,c||this._objectsPane)},_resetView:function(f,e,h){var g=this._zoom!=e;this.fire("movestart");this._zoom=e;this._initialTopLeftPoint=this._getNewTopLeftPoint(f);h?this._initialTopLeftPoint._add(L.DomUtil.getPosition(this._mapPane)):L.DomUtil.setPosition(this._mapPane,new L.Point(0,0));this._tileLayersToLoad=this._tileLayersNum;this.fire("viewreset");this.fire("move");g&&this.fire("zoomend");this.fire("moveend");if(!this._loaded){this._loaded=!0,this.fire("load")}},_initLayers:function(e){this._layers={};for(var d=0,f=e.length;d<f;d++){this.addLayer(e[d])}},_initControls:function(){this.options.zoomControl&&this.addControl(new L.Control.Zoom);if(this.options.attributionControl){this.attributionControl=new L.Control.Attribution,this.addControl(this.attributionControl)}},_rawPanBy:function(d){var c=L.DomUtil.getPosition(this._mapPane);L.DomUtil.setPosition(this._mapPane,c.subtract(d))},_initEvents:function(){L.DomEvent.addListener(this._container,"click",this._onMouseClick,this);for(var d=["dblclick","mousedown","mouseenter","mouseleave","mousemove"],c=0;c<d.length;c++){L.DomEvent.addListener(this._container,d[c],this._fireMouseEvent,this)}this.options.trackResize&&L.DomEvent.addListener(window,"resize",this.invalidateSize,this)},_onMouseClick:function(b){if(!this.dragging||!this.dragging.moved()){this.fire("pre"+b.type),this._fireMouseEvent(b)}},_fireMouseEvent:function(d){var c=d.type,c=c=="mouseenter"?"mouseover":c=="mouseleave"?"mouseout":c;this.hasEventListeners(c)&&this.fire(c,{latlng:this.mouseEventToLatLng(d),layerPoint:this.mouseEventToLayerPoint(d)})},_initInteraction:function(){var d={dragging:L.Handler.MapDrag,touchZoom:L.Handler.TouchZoom,doubleClickZoom:L.Handler.DoubleClickZoom,scrollWheelZoom:L.Handler.ScrollWheelZoom,shiftDragZoom:L.Handler.ShiftDragZoom},c;for(c in d){d.hasOwnProperty(c)&&d[c]&&(this[c]=new d[c](this),this.options[c]&&this[c].enable())}},_onTileLayerLoad:function(){this._tileLayersToLoad--;if(this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg){clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(L.Util.bind(this._clearTileBg,this),500)}},_getTopLeftPoint:function(){if(!this._loaded){throw Error("Set map center and zoom first.")}return this._initialTopLeftPoint.subtract(L.DomUtil.getPosition(this._mapPane))},_getNewTopLeftPoint:function(d){var c=this.getSize().divideBy(2);return this.project(d).subtract(c).round()},_limitZoom:function(e){var d=this.getMinZoom(),f=this.getMaxZoom();return Math.max(d,Math.min(f,e))}});L.Map.include({locate:function(d){var c={timeout:10000};L.Util.extend(c,d);navigator.geolocation?navigator.geolocation.getCurrentPosition(L.Util.bind(this._handleGeolocationResponse,this),L.Util.bind(this._handleGeolocationError,this),c):this.fire("locationerror",{code:0,message:"Geolocation not supported."});return this},locateAndSetView:function(d,c){this._setViewOnLocate=!0;this._maxLocateZoom=d||Infinity;return this.locate(c)},_handleGeolocationError:function(d){var d=d.code,c=d==1?"permission denied":d==2?"position unavailable":"timeout";if(this._setViewOnLocate){this.fitWorld(),this._setViewOnLocate=!1}this.fire("locationerror",{code:d,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(h){var g=180*h.coords.accuracy/40000000,n=g*2,m=h.coords.latitude,k=h.coords.longitude,j=new L.LatLng(m-g,k-n),g=new L.LatLng(m+g,k+n),j=new L.LatLngBounds(j,g);if(this._setViewOnLocate){g=Math.min(this.getBoundsZoom(j),this._maxLocateZoom),this.setView(j.getCenter(),g),this._setViewOnLocate=!1}this.fire("locationfound",{latlng:new L.LatLng(m,k),bounds:j,accuracy:h.coords.accuracy})}});L.Map.include({openPopup:function(b){this.closePopup();this._popup=b;return this.addLayer(b)},closePopup:function(){this._popup&&this.removeLayer(this._popup);return this}});L.Map.include(!L.Transition||!L.Transition.implemented()?{}:{setView:function(f,e,h){var e=this._limitZoom(e),g=this._zoom!=e;if(this._loaded&&!h&&this._layers&&(h=this._getNewTopLeftPoint(f).subtract(this._getTopLeftPoint()),g?this._zoomToIfCenterInView&&this._zoomToIfCenterInView(f,e,h):this._panByIfClose(h))){return this}this._resetView(f,e);return this},panBy:function(b){if(!this._panTransition){this._panTransition=new L.Transition(this._mapPane,{duration:0.3}),this._panTransition.on("step",this._onPanTransitionStep,this),this._panTransition.on("end",this._onPanTransitionEnd,this)}this.fire(this,"movestart");this._panTransition.run({position:L.DomUtil.getPosition(this._mapPane).subtract(b)});return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){this.fire("moveend")},_panByIfClose:function(b){if(this._offsetIsWithinView(b)){return this.panBy(b),!0}return !1},_offsetIsWithinView:function(f,e){var h=e||1,g=this.getSize();return Math.abs(f.x)<=g.x*h&&Math.abs(f.y)<=g.y*h}});L.Map.include(!L.DomUtil.TRANSITION?{}:{_zoomToIfCenterInView:function(f,e,h){if(this._animatingZoom){return !0}if(!this.options.zoomAnimation){return !1}var g=Math.pow(2,e-this._zoom),h=h.divideBy(1-1/g);if(!this._offsetIsWithinView(h,1)){return !1}this._mapPane.className+=" leaflet-zoom-anim";h=this.containerPointToLayerPoint(this.getSize().divideBy(2)).add(h);this._prepareTileBg();this._runAnimation(f,e,g,h);return !0},_runAnimation:function(f,e,h,g){this._animatingZoom=!0;this._animateToCenter=f;this._animateToZoom=e;f=L.DomUtil.TRANSFORM;if(L.Browser.gecko||window.opera){this._tileBg.style[f]+=" translate(0,0)"}L.Browser.android?(this._tileBg.style[f+"Origin"]=g.x+"px "+g.y+"px",h="scale("+h+")"):h=L.DomUtil.getScaleString(h,g);L.Util.falseFn(this._tileBg.offsetWidth);g={};g[f]=this._tileBg.style[f]+" "+h;this._tileBg.transition.run(g)},_prepareTileBg:function(){if(!this._tileBg){this._tileBg=this._createPane("leaflet-tile-pane",this._mapPane),this._tileBg.style.zIndex=1}var d=this._tilePane,c=this._tileBg;c.style[L.DomUtil.TRANSFORM]="";c.style.visibility="hidden";c.empty=!0;d.empty=!1;this._tilePane=this._panes.tilePane=c;this._tileBg=d;if(!this._tileBg.transition){this._tileBg.transition=new L.Transition(this._tileBg,{duration:0.3,easing:"cubic-bezier(0.25,0.1,0.25,0.75)"}),this._tileBg.transition.on("end",this._onZoomTransitionEnd,this)}this._stopLoadingBgTiles()},_stopLoadingBgTiles:function(){for(var e=[].slice.call(this._tileBg.getElementsByTagName("img")),d=0,f=e.length;d<f;d++){if(!e[d].complete){e[d].src="",e[d].parentNode.removeChild(e[d])}}},_onZoomTransitionEnd:function(){this._restoreTileFront();L.Util.falseFn(this._tileBg.offsetWidth);this._resetView(this._animateToCenter,this._animateToZoom,!0);this._mapPane.className=this._mapPane.className.replace(" leaflet-zoom-anim","");this._animatingZoom=!1},_restoreTileFront:function(){this._tilePane.innerHTML="";this._tilePane.style.visibility="";this._tilePane.style.zIndex=2;this._tileBg.style.zIndex=1},_clearTileBg:function(){if(!this._animatingZoom&&!this.touchZoom._zooming){this._tileBg.innerHTML=""}}});L.Map.include({addControl:function(e){e.onAdd(this);var d=e.getPosition(),f=this._controlCorners[d],e=e.getContainer();L.DomUtil.addClass(e,"leaflet-control");d.indexOf("bottom")!=-1?f.insertBefore(e,f.firstChild):f.appendChild(e);return this},removeControl:function(e){var d=this._controlCorners[e.getPosition()],f=e.getContainer();d.removeChild(f);if(e.onRemove){e.onRemove(this)}return this},_initControlPos:function(){var d=this._controlCorners={},c=L.DomUtil.create("div","leaflet-control-container",this._container);L.Browser.mobileWebkit&&(c.className+=" leaflet-big-buttons");d.topLeft=L.DomUtil.create("div","leaflet-top leaflet-left",c);d.topRight=L.DomUtil.create("div","leaflet-top leaflet-right",c);d.bottomLeft=L.DomUtil.create("div","leaflet-bottom leaflet-left",c);d.bottomRight=L.DomUtil.create("div","leaflet-bottom leaflet-right",c)}});
/*!
  * Reqwest! A general purpose XHR connection manager
  * copyright Dustin Diaz 2011
  * https://github.com/ded/reqwest
  * license MIT
  */
!function(context,win){function serial(a){var b=a.name;if(a.disabled||!b){return""}b=enc(b);switch(a.tagName.toLowerCase()){case"input":switch(a.type){case"reset":case"button":case"image":case"file":return"";case"checkbox":case"radio":return a.checked?b+"="+(a.value?enc(a.value):!0)+"&":"";default:return b+"="+(a.value?enc(a.value):"")+"&"}break;case"textarea":return b+"="+enc(a.value)+"&";case"select":return b+"="+enc(a.options[a.selectedIndex].value)+"&"}return""}function enc(a){return encodeURIComponent(a)}function reqwest(a,b){return new Reqwest(a,b)}function init(o,fn){function error(a){o.error&&o.error(a),complete(a)}function success(resp){o.timeout&&clearTimeout(self.timeout)&&(self.timeout=null);var r=resp.responseText;if(r){switch(type){case"json":resp=win.JSON?win.JSON.parse(r):eval("("+r+")");break;case"js":resp=eval(r);break;case"html":resp=r}}fn(resp),o.success&&o.success(resp),complete(resp)}function complete(a){o.complete&&o.complete(a)}this.url=typeof o=="string"?o:o.url,this.timeout=null;var type=o.type||setType(this.url),self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort(),error()},o.timeout)),this.request=getRequest(o,success,error)}function setType(a){return/\.json$/.test(a)?"json":/\.jsonp$/.test(a)?"jsonp":/\.js$/.test(a)?"js":/\.html?$/.test(a)?"html":/\.xml$/.test(a)?"xml":"js"}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function getRequest(a,b,c){if(a.type!="jsonp"){var d=xhr();return d.open(a.method||"GET",typeof a=="string"?a:a.url,!0),setHeaders(d,a),d.onreadystatechange=handleReadyState(d,b,c),a.before&&a.before(d),d.send(a.data||null),d}var e=doc.createElement("script"),f=0;win[getCallbackName(a)]=generalCallback,e.type="text/javascript",e.src=a.url,e.async=!0,e.onload=e.onreadystatechange=function(){if(e[readyState]&&e[readyState]!=="complete"&&e[readyState]!=="loaded"||f){return !1}e.onload=e.onreadystatechange=null,a.success&&a.success(lastValue),lastValue=undefined,head.removeChild(e),f=1},head.appendChild(e)}function generalCallback(a){lastValue=a}function getCallbackName(a){var b=a.jsonpCallback||"callback";if(a.url.slice(-(b.length+2))==b+"=?"){var c="reqwest_"+uniqid++;return a.url=a.url.substr(0,a.url.length-1)+c,c}var d=new RegExp(b+"=([\\w]+)");return a.url.match(d)[1]}function setHeaders(a,b){var c=b.headers||{};c.Accept=c.Accept||"text/javascript, text/html, application/xml, text/xml, */*",b.crossOrigin||(c["X-Requested-With"]=c["X-Requested-With"]||"XMLHttpRequest"),c[contentType]=c[contentType]||"application/x-www-form-urlencoded";for(var d in c){c.hasOwnProperty(d)&&a.setRequestHeader(d,c[d],!1)}}function handleReadyState(a,b,c){return function(){a&&a[readyState]==4&&(twoHundo.test(a.status)?b(a):c(a))}}var twoHundo=/^20\d$/,doc=document,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",head=doc[byTag]("head")[0],uniqid=0,lastValue,xhr="XMLHttpRequest" in win?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};Reqwest.prototype={abort:function(){this.request.abort()},retry:function(){init.call(this,this.o,this.fn)}},reqwest.serialize=function(a){var b=[a[byTag]("input"),a[byTag]("select"),a[byTag]("textarea")],c=[],d,e;for(d=0,l=b.length;d<l;++d){for(e=0,l2=b[d].length;e<l2;++e){c.push(serial(b[d][e]))}}return c.join("").replace(/&$/,"")},reqwest.serializeArray=function(a){for(var b=this.serialize(a).split("&"),c=0,d=b.length,e=[],f;c<d;c++){b[c]&&(f=b[c].split("="))&&e.push({name:f[0],value:f[1]})}return e};var old=context.reqwest;reqwest.noConflict=function(){return context.reqwest=old,this},typeof module!="undefined"?module.exports=reqwest:context.reqwest=reqwest}(this,window),wax=wax||{},wax.attribution=function(){var d,c={};return c.set=function(a){if(typeof a=="undefined"){return}return d.innerHTML=a,this},c.element=function(){return d},c.init=function(){return d=document.createElement("div"),d.className="wax-attribution",this},c.init()},wax=wax||{},wax.bwdetect=function(k,j){function m(){wax.bw=-1;var d=new Image;d.src=p;var c=!0,e=setTimeout(function(){c&&wax.bw==-1&&(s.bw(0),c=!1)},q);d.onload=function(){c&&wax.bw==-1&&(clearTimeout(e),s.bw(1),c=!1)}}var s={},q=k.threshold||400,p="http://a.tiles.mapbox.com/mapbox/1.0.0/blue-marble-topo-bathy-jul/0/0/0.png?preventcache="+ +(new Date),o=1,n=k.auto===undefined?!0:k.auto;return s.bw=function(b){if(!arguments.length){return o}var d=o;wax.bwlisteners&&wax.bwlisteners.length&&function(){listeners=wax.bwlisteners,wax.bwlisteners=[];for(i=0;i<listeners;i++){listeners[i](b)}}(),wax.bw=b,o!=(o=b)&&j(b)},s.add=function(){return n&&m(),this},wax.bw==-1?(wax.bwlisteners=wax.bwlisteners||[],wax.bwlisteners.push(s.bw)):wax.bw!==undefined?s.bw(wax.bw):s.add(),s},wax.formatter=function(x){var formatter={},f;if(x&&typeof x=="string"){try{eval("f = "+x)}catch(e){console&&console.log(e)}}else{x&&typeof x=="function"?f=x:f=function(){}}return formatter.format=function(a,b){try{return f(a,b)}catch(c){console&&console.log(c)}},formatter},wax.GridInstance=function(h,g,n){function j(b){return b>=93&&b--,b>=35&&b--,b-=32,b}n=n||{};var m={},k=n.resolution||4;return tileSize=n.tileSize||256,m.grid_tile=function(){return h},m.getKey=function(a,d){if(!h||!h.grid){return}if(d<0||a<0){return}if(Math.floor(d)>=tileSize||Math.floor(a)>=tileSize){return}return j(h.grid[Math.floor(d/k)].charCodeAt(Math.floor(a/k)))},m.gridFeature=function(a,p){var o=this.getKey(a,p),f=h.keys;if(f&&f[o]&&h.data[f[o]]){return h.data[f[o]]}},m.tileFeature=function(q,p,o,b){if(!h){return}var a=wax.util.offset(o);feature=this.gridFeature(q-a.left,p-a.top);if(feature){return g.format(b,feature)}},m},wax.GridManager=function(t){function k(d,c){if(typeof o!="undefined"){return c(null,o)}wax.request.get(n(d),function(b,e){return e&&e.formatter?o=wax.formatter(e.formatter):o=!1,c(b,o)})}function j(d){return typeof d=="string"&&(d=[d]),function c(a){if(!a){return}var e=/(\d+)\/(\d+)\/(\d+)\.[\w\._]+/g.exec(a);if(!e){return}return d[parseInt(e[2],10)%d.length].replace("{z}",e[1]).replace("{x}",e[2]).replace("{y}",e[3])}}t=t||{};var s=t.resolution||4,q={},p={},o,n=function(b){return b.replace(/\d+\/\d+\/\d+\.\w+/,"layer.json")},m=function(b){return b.replace(/(\.png|\.jpg|\.jpeg)(\d*)/,".grid.json")};return p.formatter=function(b){return arguments.length?(o=wax.formatter(b),p):o},p.formatterUrl=function(b){return arguments.length?(n=typeof b=="string"?function(){return b}:b,p):n},p.gridUrl=function(b){return arguments.length?(m=typeof b=="function"?b:j(b),p):m},p.getGrid=function(b,d){return k(b,function(g,c){var a=m(b);if(g||!c||!a){return d(g,null)}wax.request.get(a,function(e,f){if(e){return d(e,null)}d(null,wax.GridInstance(f,c,{resolution:s||4}))})}),p},t.formatter&&p.formatter(t.formatter),t.grids&&p.gridUrl(t.grids),p},wax=wax||{},wax.hash=function(v){function u(){return location.hash.substring(1)}function t(b){location.hash="#"+b}function o(a){var f=a.split("/");for(var e=0;e<f.length;e++){f[e]=Number(f[e]);if(isNaN(f[e])){return !0}}if(f.length<3){return !0}f.length==3&&v.setCenterZoom(f)}function n(){var a=v.getCenterZoom();s!==a&&(s=a,t(s))}function m(b){if(b===s){return}o(s=b)&&n()}v=v||{};var s,q={},p=90-1e-8,k=wax.util.throttle(n,500);return q.add=function(){return m(u()),v.bindChange(k),this},q.remove=function(){return v.unbindChange(k),this},q.add()};var wax=wax||{};wax.legend=function(){var e,d={},f;return d.element=function(){return f},d.content=function(a){return arguments.length?(a?(e.innerHTML=a,e.style.display="block"):(e.innerHTML="",e.style.display="none"),this):e.innerHTML},d.add=function(){return f=document.createElement("div"),f.className="wax-legends",e=document.createElement("div"),e.className="wax-legend",e.style.display="none",f.appendChild(e),this},d.add()};var w=function(b){return b.melt=function(a,d){return a.apply(d,[b,d])},b},wax=wax||{};Array.prototype.reduce||(Array.prototype.reduce=function(g){if(this===void 0||this===null){throw new TypeError}var f=Object(this),k=f.length>>>0;if(typeof g!="function"){throw new TypeError}if(k==0&&arguments.length==1){throw new TypeError}var j=0,h;if(arguments.length>=2){h=arguments[1]}else{do{if(j in f){h=f[j++];break}if(++j>=k){throw new TypeError}}while(!0)}while(j<k){j in f&&(h=g.call(undefined,h,f[j],j,f)),j++}return h}),wax.Record=function(F,E){var D=function(e,d){var f=e.split(".").reduce(function(g,c){return[g[1]||g[0],g[1]?g[1][c]:g[0][c]]},[d||window,null]);if(f[0]&&f[1]){return f}throw e+" not found."},C=function(f,c){var h=D(f),g;c=c.length?wax.Record(c):[];if(Object.create){g=Object.create(h[1].prototype),h[1].apply(g,c)}else{switch(c.length){case 0:g=new h[1];break;case 1:g=new h[1](c[0]);break;case 2:g=new h[1](c[0],c[1]);break;case 3:g=new h[1](c[0],c[1],c[2]);break;case 4:g=new h[1](c[0],c[1],c[2],c[3]);break;case 5:g=new h[1](c[0],c[1],c[2],c[3],c[4]);break;default:}}return g},B=function(g,c,k){var j=D(g,k),h=c.length?wax.Record(c):[];return k&&g.indexOf(".")===-1?j[1].apply(k,h):j[1].apply(j[0],h)},A=function(b){return wax.util.isString(b)&&wax.util.indexOf(["@new","@call","@literal","@chain","@inject","@group"],b.split(" ")[0])!==-1},z=function(b){return wax.util.isString(b)&&wax.util.indexOf(["@new","@call","@chain"],b.split(" ")[0])!==-1},y=function(b){return wax.util.isArray(b)&&b[0]&&A(b[0])?{verb:b[0].split(" ")[0],subject:b[0].split(" ")[1],object:b.slice(1)}:!1},x,v=!1,u=null,t=null,s=y(F);if(!s){if(F!==null&&typeof F=="object"){var q=wax.util.keys(F);for(x=0;x<q.length;x++){var p=q[x];F[p]=wax.Record(F[p],E)}return F}return F}switch(s.verb){case"@group":for(x=0;x<s.object.length;x++){u=wax.Record(s.object[x],E),t=y(s.object[x]),t&&z(t.verb)&&(E=u)}return E;case"@new":return C(s.subject,s.object);case"@literal":return v=D(s.subject),v?v[1]:null;case"@inject":return B(s.subject,s.object,E);case"@chain":return B(s.subject,s.object,E);case"@call":return B(s.subject,s.object,null)}};var wax=wax||{};wax.request={cache:{},locks:{},promises:{},get:function(e,d){if(this.cache[e]){return d(this.cache[e][0],this.cache[e][1])}this.promises[e]=this.promises[e]||[],this.promises[e].push(d);if(this.locks[e]){return}var f=this;this.locks[e]=!0,reqwest({url:e+(~e.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:function(a){f.locks[e]=!1,f.cache[e]=[null,a];for(var c=0;c<f.promises[e].length;c++){f.promises[e][c](f.cache[e][0],f.cache[e][1])}},error:function(a){f.locks[e]=!1,f.cache[e]=[a,null];for(var c=0;c<f.promises[e].length;c++){f.promises[e][c](f.cache[e][0],f.cache[e][1])}}})}};if(!wax){var wax={}}wax.tilejson=function(d,c){reqwest({url:d+(~d.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:c,error:c})};var wax=wax||{};wax.tooltip={},wax.tooltip=function(b){this._currentTooltip=undefined,b=b||{},b.animationOut&&(this.animationOut=b.animationOut),b.animationIn&&(this.animationIn=b.animationIn)},wax.tooltip.prototype.isPopup=function(b){return b&&b.className.indexOf("wax-popup")!==-1},wax.tooltip.prototype.getTooltip=function(e,d){var f=document.createElement("div");return f.className="wax-tooltip wax-tooltip-0",f.innerHTML=e,d.appendChild(f),f},wax.tooltip.prototype.hideTooltip=function(e){if(!e){return}var d,f=function(){this.parentNode&&this.parentNode.removeChild(this)};e.style["-webkit-transition"]!==undefined&&this.animationOut?d="webkitTransitionEnd":e.style.MozTransition!==undefined&&this.animationOut&&(d="transitionend"),d?(e.addEventListener(d,f,!1),e.addEventListener("transitionend",f,!1),e.className+=" "+this.animationOut):e.parentNode&&e.parentNode.removeChild(e)},wax.tooltip.prototype.click=function(g,f){this._currentTooltip&&(this.hideTooltip(this._currentTooltip),this._currentTooltip=undefined);var k=this.getTooltip(g,f);k.className+=" wax-popup",k.innerHTML=g;var j=document.createElement("a");j.href="#close",j.className="close",j.innerHTML="Close",k.appendChild(j);var h=wax.util.bind(function(b){return this.hideTooltip(k),this._currentTooltip=undefined,b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),!1},this);j.addEventListener?j.addEventListener("click",h,!1):j.attachEvent&&j.attachEvent("onclick",h),this._currentTooltip=k},wax.tooltip.prototype.over=function(d,c){if(!d){return}c.style.cursor="pointer";if(this.isPopup(this._currentTooltip)){return}this._currentTooltip=this.getTooltip(d,c)},wax.tooltip.prototype.out=function(b){b.style.cursor="default";if(this.isPopup(this._currentTooltip)){return}this._currentTooltip&&(this.hideTooltip(this._currentTooltip),this._currentTooltip=undefined)};var wax=wax||{};wax.util=wax.util||{},wax.util={offset:function(t){var s=t.offsetWidth||parseInt(t.style.width,10),q=t.offsetHeight||parseInt(t.style.height,10),p=document.body,o=0,n=0,m=function(e){if(e===p||e===document.documentElement){return}o+=e.offsetTop,n+=e.offsetLeft;var d=e.style.transform||e.style.WebkitTransform||e.style.OTransform||e.style.MozTransform||e.style.msTransform;if(d){if(match=d.match(/translate\((.+)px, (.+)px\)/)){o+=parseInt(match[2],10),n+=parseInt(match[1],10)}else{if(match=d.match(/translate3d\((.+)px, (.+)px, (.+)px\)/)){o+=parseInt(match[2],10),n+=parseInt(match[1],10)}else{if(match=d.match(/matrix3d\(([\-\d,\s]+)\)/)){var f=match[1].split(",");o+=parseInt(f[13],10),n+=parseInt(f[12],10)}else{if(match=d.match(/matrix\(.+, .+, .+, .+, (.+), (.+)\)/)){o+=parseInt(match[2],10),n+=parseInt(match[1],10)}}}}}};m(t);try{while(t=t.offsetParent){m(t)}}catch(k){}o+=p.offsetTop,n+=p.offsetLeft,o+=p.parentNode.offsetTop,n+=p.parentNode.offsetLeft;var j=document.defaultView?window.getComputedStyle(p.parentNode,null):p.parentNode.currentStyle;return p.parentNode.offsetTop!==parseInt(j.marginTop,10)&&!isNaN(parseInt(j.marginTop,10))&&(o+=parseInt(j.marginTop,10),n+=parseInt(j.marginLeft,10)),{top:o,left:n,height:q,width:s}},$:function(b){return typeof b=="string"?document.getElementById(b):b},bind:function(e,d){var f=Array.prototype.slice.call(arguments,2);return function(){return e.apply(d,f.concat(Array.prototype.slice.call(arguments)))}},isString:function(b){return !!(b===""||b&&b.charCodeAt&&b.substr)},indexOf:function(g,f){var k=Array.prototype.indexOf;if(g===null){return -1}var j,h;if(k&&g.indexOf===k){return g.indexOf(f)}for(j=0,h=g.length;j<h;j++){if(g[j]===f){return j}}return -1},isArray:Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"},keys:Object.keys||function(f){var e=Object.prototype.hasOwnProperty;if(f!==Object(f)){throw new TypeError("Invalid object")}var h=[];for(var g in f){e.call(f,g)&&(h[h.length]=g)}return h},eventoffset:function(k){var j=0,s=0;if(!k){var k=window.event}if(k.pageX||k.pageY){return{x:k.pageX,y:k.pageY}}if(k.clientX||k.clientY){var q=document.documentElement,p=document.body,o=document.body.parentNode.currentStyle,n=parseInt(o.marginTop,10)||0,m=parseInt(o.marginLeft,10)||0;return{x:k.clientX+(q&&q.scrollLeft||p&&p.scrollLeft||0)-(q&&q.clientLeft||p&&p.clientLeft||0)+m,y:k.clientY+(q&&q.scrollTop||p&&p.scrollTop||0)-(q&&q.clientTop||p&&p.clientTop||0)+n}}if(k.touches&&k.touches.length===1){return{x:k.touches[0].pageX,y:k.touches[0].pageY}}},limit:function(f,e,h){var g;return function(){var c=this,b=arguments,a=function(){g=null,f.apply(c,b)};h&&clearTimeout(g);if(h||!g){g=setTimeout(a,e)}}},throttle:function(d,c){return this.limit(d,c,!1)}},wax=wax||{},wax.leaf=wax.leaf||{},wax.leaf.interaction=function(ac,ab,aa){function I(){return J||(J=function(g){var f=[];for(var k in g){if(g[k]._tiles){for(var j in g[k]._tiles){var h=wax.util.offset(g[k]._tiles[j]);f.push([h.top,h.left,g[k]._tiles[j]])}}}return f}(ac._layers))}function H(d,c){J=null}function G(e){for(var d=0,f=I();d<f.length;d++){if(f[d][0]<e.y&&f[d][0]+256>e.y&&f[d][1]<e.x&&f[d][1]+256>e.x){return f[d][2]}}return !1}function F(){return R?(window.clearTimeout(R),R=null,!0):!1}function E(e){if(S){return}var d=wax.util.eventoffset(e),h=G(d),g;h&&Z.getGrid(h.src,function(b,c){if(b||!c){return}g=c.tileFeature(d.x,d.y,h,{format:"teaser"}),g?g&&O!==g?(O=g,Y.out(Q),Y.over(g,Q)):g||(O=null,Y.out(Q)):(O=null,Y.out(Q))})}function D(b){if(F()){return}S=!0,M=wax.util.eventoffset(b),b.type==="mousedown"?W(Q,"mouseup",B,this):b.type==="touchstart"&&b.touches.length===1&&(X=["full","teaser"],Y._currentTooltip&&Y.hideTooltip(Y._currentTooltip),W(Q,"touchend",B,this),W(Q,"touchmove",C,this))}function C(){V(Q,"touchend",B),V(Q,"touchmove",B),S=!1}function B(d){var c=wax.util.eventoffset(d);return S=!1,V(Q,"mouseup",B),Q.ontouchend&&(V(Q,"touchend",B),V(Q,"touchmove",_touchCancel)),d.type==="touchend"?N(d,M):Math.round(c.y/K)===Math.round(M.y/K)&&Math.round(c.x/K)===Math.round(M.x/K)&&(R=window.setTimeout(function(){R=null,N(d,c)},300)),B}function N(e,d){var h=G(d),f;h&&Z.getGrid(h.src,function(c,b){for(var a=0;b&&a<X.length;a++){f=b.tileFeature(d.x,d.y,h,{format:X[a]});if(f){switch(X[a]){case"full":case"teaser":return Y.click(f,Q,0,e);case"location":return U(f)}}}})}ab=ab||{},aa=aa||{};var Z=wax.GridManager(ab),Y=aa.callbacks||new wax.tooltip(aa),X=aa.clickAction||["full","location"],W=L.DomEvent.addListener,V=L.DomEvent.removeListener,U=aa.clickHandler||function(b){window.top.location=b},T={},S=!1,R=!1,Q=ac._container,P="ontouchstart" in document.documentElement,O,M,K=4,J;return T.add=function(){var a=["moveend","layerswitched"];for(var d=0;d<a.length;d++){ac.on(a[d],H)}return W(Q,"mousemove",E),W(Q,"mousedown",D),P&&W(Q,"touchstart",D),this},T.remove=function(){var a=["moveend","layerswitched"];for(var d=0;d<a.length;d++){ac.off(a[d],H)}return V(Q,"mousemove",E),V(Q,"mousedown",D),P&&V(Q,"touchstart",D),Y._currentTooltip&&Y.hideTooltip(Y._currentTooltip),this},T.add(ac)},wax=wax||{},wax.leaf=wax.leaf||{},wax.leaf.connector=L.TileLayer.extend({initialize:function(b){b=b||{},b.minZoom=b.minzoom||0,b.maxZoom=b.maxzoom||22,L.TileLayer.prototype.initialize.call(this,b.tiles[0],b)}});Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};(function(){var b=Date,a=b.prototype,d=b.CultureInfo,g=function(j,h){if(!h){h=2}return("000"+j).slice(h*-1)};a.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};a.setTimeToNow=function(){var h=new Date();this.setHours(h.getHours());this.setMinutes(h.getMinutes());this.setSeconds(h.getSeconds());this.setMilliseconds(h.getMilliseconds());return this};b.today=function(){return new Date().clearTime()};b.compare=function(j,h){if(isNaN(j)||isNaN(h)){throw new Error(j+" - "+h)}else{if(j instanceof Date&&h instanceof Date){return(j<h)?-1:(j>h)?1:0}else{throw new TypeError(j+" - "+h)}}};b.equals=function(j,h){return(j.compareTo(h)===0)};b.getDayNumberFromName=function(j){var t=d.dayNames,h=d.abbreviatedDayNames,q=d.shortestDayNames,p=j.toLowerCase();for(var k=0;k<t.length;k++){if(t[k].toLowerCase()==p||h[k].toLowerCase()==p||q[k].toLowerCase()==p){return k}}return -1};b.getMonthNumberFromName=function(j){var p=d.monthNames,h=d.abbreviatedMonthNames,o=j.toLowerCase();for(var k=0;k<p.length;k++){if(p[k].toLowerCase()==o||h[k].toLowerCase()==o){return k}}return -1};b.isLeapYear=function(h){return((h%4===0&&h%100!==0)||h%400===0)};b.getDaysInMonth=function(h,j){return[31,(b.isLeapYear(h)?29:28),31,30,31,30,31,31,30,31,30,31][j]};b.getTimezoneAbbreviation=function(m){var k=d.timezones,j;for(var h=0;h<k.length;h++){if(k[h].offset===m){return k[h].name}}return null};b.getTimezoneOffset=function(h){var m=d.timezones,k;for(var j=0;j<m.length;j++){if(m[j].name===h.toUpperCase()){return m[j].offset}}return null};a.clone=function(){return new Date(this.getTime())};a.compareTo=function(h){return Date.compare(this,h)};a.equals=function(h){return Date.equals(this,h||new Date())};a.between=function(j,h){return this.getTime()>=j.getTime()&&this.getTime()<=h.getTime()};a.isAfter=function(h){return this.compareTo(h||new Date())===1};a.isBefore=function(h){return(this.compareTo(h||new Date())===-1)};a.isToday=function(){return this.isSameDay(new Date())};a.isSameDay=function(h){return this.clone().clearTime().equals(h.clone().clearTime())};a.addMilliseconds=function(h){this.setMilliseconds(this.getMilliseconds()+h);return this};a.addSeconds=function(h){return this.addMilliseconds(h*1000)};a.addMinutes=function(h){return this.addMilliseconds(h*60000)};a.addHours=function(h){return this.addMilliseconds(h*3600000)};a.addDays=function(h){this.setDate(this.getDate()+h);return this};a.addWeeks=function(h){return this.addDays(h*7)};a.addMonths=function(h){var j=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+h);this.setDate(Math.min(j,b.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};a.addYears=function(h){return this.addMonths(h*12)};a.add=function(j){if(typeof j=="number"){this._orient=j;return this}var h=j;if(h.milliseconds){this.addMilliseconds(h.milliseconds)}if(h.seconds){this.addSeconds(h.seconds)}if(h.minutes){this.addMinutes(h.minutes)}if(h.hours){this.addHours(h.hours)}if(h.weeks){this.addWeeks(h.weeks)}if(h.months){this.addMonths(h.months)}if(h.years){this.addYears(h.years)}if(h.days){this.addDays(h.days)}return this};var e,f,c;a.getWeek=function(){var t,q,p,o,m,k,j,h,v,u;e=(!e)?this.getFullYear():e;f=(!f)?this.getMonth()+1:f;c=(!c)?this.getDate():c;if(f<=2){t=e-1;q=(t/4|0)-(t/100|0)+(t/400|0);p=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0);v=q-p;m=0;k=c-1+(31*(f-1))}else{t=e;q=(t/4|0)-(t/100|0)+(t/400|0);p=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0);v=q-p;m=v+1;k=c+((153*(f-3)+2)/5)+58+v}j=(t+q)%7;o=(k+j-m)%7;h=(k+3-o)|0;if(h<0){u=53-((j-v)/5|0)}else{if(h>364+v){u=1}else{u=(h/7|0)+1}}e=f=c=null;return u};a.getISOWeek=function(){e=this.getUTCFullYear();f=this.getUTCMonth()+1;c=this.getUTCDate();return g(this.getWeek())};a.setWeek=function(h){return this.moveToDayOfWeek(1).addWeeks(h-this.getWeek())};b._validate=function(m,k,h,j){if(typeof m=="undefined"){return false}else{if(typeof m!="number"){throw new TypeError(m+" is not a Number.")}else{if(m<k||m>h){throw new RangeError(m+" is not a valid value for "+j+".")}}}return true};b.validateMillisecond=function(h){return b._validate(h,0,999,"millisecond")};b.validateSecond=function(h){return b._validate(h,0,59,"second")};b.validateMinute=function(h){return b._validate(h,0,59,"minute")};b.validateHour=function(h){return b._validate(h,0,23,"hour")};b.validateDay=function(j,h,k){return b._validate(j,1,b.getDaysInMonth(h,k),"day")};b.validateMonth=function(h){return b._validate(h,0,11,"month")};b.validateYear=function(h){return b._validate(h,0,9999,"year")};a.set=function(h){if(b.validateMillisecond(h.millisecond)){this.addMilliseconds(h.millisecond-this.getMilliseconds())}if(b.validateSecond(h.second)){this.addSeconds(h.second-this.getSeconds())}if(b.validateMinute(h.minute)){this.addMinutes(h.minute-this.getMinutes())}if(b.validateHour(h.hour)){this.addHours(h.hour-this.getHours())}if(b.validateMonth(h.month)){this.addMonths(h.month-this.getMonth())}if(b.validateYear(h.year)){this.addYears(h.year-this.getFullYear())}if(b.validateDay(h.day,this.getFullYear(),this.getMonth())){this.addDays(h.day-this.getDate())}if(h.timezone){this.setTimezone(h.timezone)}if(h.timezoneOffset){this.setTimezoneOffset(h.timezoneOffset)}if(h.week&&b._validate(h.week,0,53,"week")){this.setWeek(h.week)}return this};a.moveToFirstDayOfMonth=function(){return this.set({day:1})};a.moveToLastDayOfMonth=function(){return this.set({day:b.getDaysInMonth(this.getFullYear(),this.getMonth())})};a.moveToNthOccurrence=function(j,k){var h=0;if(k>0){h=k-1}else{if(k===-1){this.moveToLastDayOfMonth();if(this.getDay()!==j){this.moveToDayOfWeek(j,-1)}return this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(j,+1).addWeeks(h)};a.moveToDayOfWeek=function(h,j){var k=(h-this.getDay()+7*(j||+1))%7;return this.addDays((k===0)?k+=7*(j||+1):k)};a.moveToMonth=function(k,h){var j=(k-this.getMonth()+12*(h||+1))%12;return this.addMonths((j===0)?j+=12*(h||+1):j)};a.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};a.getTimezone=function(){return b.getTimezoneAbbreviation(this.getUTCOffset())};a.setTimezoneOffset=function(k){var h=this.getTimezoneOffset(),j=Number(k)*-6/10;return this.addMinutes(j-h)};a.setTimezone=function(h){return this.setTimezoneOffset(b.getTimezoneOffset(h))};a.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset())};a.isDaylightSavingTime=function(){return(this.hasDaylightSavingTime()&&new Date().getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset())};a.getUTCOffset=function(){var j=this.getTimezoneOffset()*-10/6,h;if(j<0){h=(j-10000).toString();return h.charAt(0)+h.substr(2)}else{h=(j+10000).toString();return"+"+h.substr(1)}};a.getElapsed=function(h){return(h||new Date())-this};if(!a.toISOString){a.toISOString=function(){function h(j){return j<10?"0"+j:j}return'"'+this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+'Z"'}}a._toString=a.toString;a.toString=function(k){var h=this;if(k&&k.length==1){var m=d.formatPatterns;h.t=h.toString;switch(k){case"d":return h.t(m.shortDate);case"D":return h.t(m.longDate);case"F":return h.t(m.fullDateTime);case"m":return h.t(m.monthDay);case"r":return h.t(m.rfc1123);case"s":return h.t(m.sortableDateTime);case"t":return h.t(m.shortTime);case"T":return h.t(m.longTime);case"u":return h.t(m.universalSortableDateTime);case"y":return h.t(m.yearMonth)}}var j=function(o){switch(o*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return k?k.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(n){if(n.charAt(0)==="\\"){return n.replace("\\","")}h.h=h.getHours;switch(n){case"hh":return g(h.h()<13?(h.h()===0?12:h.h()):(h.h()-12));case"h":return h.h()<13?(h.h()===0?12:h.h()):(h.h()-12);case"HH":return g(h.h());case"H":return h.h();case"mm":return g(h.getMinutes());case"m":return h.getMinutes();case"ss":return g(h.getSeconds());case"s":return h.getSeconds();case"yyyy":return g(h.getFullYear(),4);case"yy":return g(h.getFullYear());case"dddd":return d.dayNames[h.getDay()];case"ddd":return d.abbreviatedDayNames[h.getDay()];case"dd":return g(h.getDate());case"d":return h.getDate();case"MMMM":return d.monthNames[h.getMonth()];case"MMM":return d.abbreviatedMonthNames[h.getMonth()];case"MM":return g((h.getMonth()+1));case"M":return h.getMonth()+1;case"t":return h.h()<12?d.amDesignator.substring(0,1):d.pmDesignator.substring(0,1);case"tt":return h.h()<12?d.amDesignator:d.pmDesignator;case"S":return j(h.getDate());default:return n}}):this._toString()}}());(function(){var v=Date,g=v.prototype,x=v.CultureInfo,o=Number.prototype;g._orient=+1;g._nth=null;g._is=false;g._same=false;g._isSecond=false;o._dateElement="day";g.next=function(){this._orient=+1;return this};v.next=function(){return v.today().next()};g.last=g.prev=g.previous=function(){this._orient=-1;return this};v.last=v.prev=v.previous=function(){return v.today().last()};g.is=function(){this._is=true;return this};g.same=function(){this._same=true;this._isSecond=false;return this};g.today=function(){return this.same().day()};g.weekday=function(){if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun())}return false};g.at=function(j){return(typeof j==="string")?v.parse(this.toString("d")+" "+j):this.set(j)};o.fromNow=o.after=function(j){var k={};k[this._dateElement]=this;return((!j)?new Date():j.clone()).add(k)};o.ago=o.before=function(j){var k={};k[this._dateElement]=this*-1;return((!j)?new Date():j.clone()).add(k)};var e=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),h=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),p=("Milliseconds Seconds Minutes Hours Date Week Month FullYear").split(/\s/),b=("final first second third fourth fifth").split(/\s/),z;g.toObject=function(){var k={};for(var j=0;j<n.length;j++){k[n[j].toLowerCase()]=this["get"+p[j]]()}return k};v.fromObject=function(j){j.week=null;return Date.today().set(j)};var y=function(j){return function(){if(this._is){this._is=false;return this.getDay()==j}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1)}this._isSecond=false;var B=this._nth;this._nth=null;var k=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(j,B);if(this>k){throw new RangeError(v.getDayName(j)+" does not occur "+B+" times in the month of "+v.getMonthName(k.getMonth())+" "+k.getFullYear()+".")}return this}return this.moveToDayOfWeek(j,this._orient)}};var f=function(j){return function(){var B=v.today(),k=j-B.getDay();if(j===0&&x.firstDayOfWeek===1&&B.getDay()!==0){k=k+7}return B.addDays(k)}};for(var u=0;u<e.length;u++){v[e[u].toUpperCase()]=v[e[u].toUpperCase().substring(0,3)]=u;v[e[u]]=v[e[u].substring(0,3)]=f(u);g[e[u]]=g[e[u].substring(0,3)]=y(u)}var A=function(j){return function(){if(this._is){this._is=false;return this.getMonth()===j}return this.moveToMonth(j,this._orient)}};var m=function(j){return function(){return v.today().set({month:j,day:1})}};for(var t=0;t<h.length;t++){v[h[t].toUpperCase()]=v[h[t].toUpperCase().substring(0,3)]=t;v[h[t]]=v[h[t].substring(0,3)]=m(t);g[h[t]]=g[h[t].substring(0,3)]=A(t)}var c=function(k){return function(){if(this._isSecond){this._isSecond=false;return this}if(this._same){this._same=this._is=false;var E=this.toObject(),D=(arguments[0]||new Date()).toObject(),C="",B=k.toLowerCase();for(var j=(n.length-1);j>-1;j--){C=n[j].toLowerCase();if(E[C]!=D[C]){return false}if(B==C){break}}return true}if(k.substring(k.length-1)!="s"){k+="s"}return this["add"+k](this._orient)}};var d=function(j){return function(){this._dateElement=j;return this}};for(var s=0;s<n.length;s++){z=n[s].toLowerCase();g[z]=g[z+"s"]=c(n[s]);o[z]=o[z+"s"]=d(z)}g._ss=c("Second");var a=function(j){return function(k){if(this._same){return this._ss(arguments[0])}if(k||k===0){return this.moveToNthOccurrence(k,j)}this._nth=j;if(j===2&&(k===undefined||k===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(var q=0;q<b.length;q++){g[b[q]]=(q===0)?a(-1):a(q)}}());(function(){Date.Parsing={Exception:function(j){this.message="Parse error at '"+j.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(j){return function(k){var m=k.match(j);if(m){return([m[0],k.substring(m[0].length)])}else{throw new a.Exception(k)}}},token:function(j){return function(k){return c.rtoken(new RegExp("^s*"+k+"s*"))(k)}},stoken:function(j){return c.rtoken(new RegExp("^"+j))},until:function(j){return function(k){var m=[],o=null;while(k.length){try{o=j.call(this,k)}catch(n){m.push(o[0]);k=o[1];continue}break}return[m,k]}},many:function(j){return function(k){var o=[],m=null;while(k.length){try{m=j.call(this,k)}catch(n){return[o,k]}o.push(m[0]);k=m[1]}return[o,k]}},optional:function(j){return function(k){var m=null;try{m=j.call(this,k)}catch(n){return[null,k]}return[m[0],m[1]]}},not:function(j){return function(k){try{j.call(this,k)}catch(m){return[null,k]}throw new a.Exception(k)}},ignore:function(j){return j?function(k){var m=null;m=j.call(this,k);return[null,m[1]]}:null},product:function(){var k=arguments[0],m=Array.prototype.slice.call(arguments,1),n=[];for(var j=0;j<k.length;j++){n.push(c.each(k[j],m))}return n},cache:function(m){var j={},k=null;return function(n){try{k=j[n]=(j[n]||m.call(this,n))}catch(o){k=j[n]=o}if(k instanceof a.Exception){throw k}else{return k}}},any:function(){var j=arguments;return function(m){var n=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{n=(j[k].call(this,m))}catch(o){n=null}if(n){return n}}throw new a.Exception(m)}},each:function(){var j=arguments;return function(m){var p=[],n=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{n=(j[k].call(this,m))}catch(o){throw new a.Exception(m)}p.push(n[0]);m=n[1]}return[p,m]}},all:function(){var k=arguments,j=j;return j.each(j.optional(k))},sequence:function(j,k,m){k=k||c.rtoken(/^\s*/);m=m||null;if(j.length==1){return j[0]}return function(t){var u=null,v=null;var y=[];for(var p=0;p<j.length;p++){try{u=j[p].call(this,t)}catch(x){break}y.push(u[0]);try{v=k.call(this,u[1])}catch(o){v=null;break}t=v[1]}if(!u){throw new a.Exception(t)}if(v){throw new a.Exception(v[1])}if(m){try{u=m.call(this,u[1])}catch(n){throw new a.Exception(u[1])}}return[y,(u?u[1]:t)]}},between:function(k,m,j){j=j||k;var n=c.each(c.ignore(k),m,c.ignore(j));return function(o){var p=n.call(this,o);return[[p[0][0],r[0][2]],p[1]]}},list:function(j,k,m){k=k||c.rtoken(/^\s*/);m=m||null;return(j instanceof Array?c.each(c.product(j.slice(0,-1),c.ignore(k)),j.slice(-1),c.ignore(m)):c.each(c.many(c.each(j,c.ignore(k))),px,c.ignore(m)))},set:function(j,k,m){k=k||c.rtoken(/^\s*/);m=m||null;return function(E){var n=null,t=null,o=null,u=null,v=[[],E],D=false;for(var y=0;y<j.length;y++){o=null;t=null;n=null;D=(j.length==1);try{n=j[y].call(this,E)}catch(B){continue}u=[[n[0]],n[1]];if(n[1].length>0&&!D){try{o=k.call(this,n[1])}catch(C){D=true}}else{D=true}if(!D&&o[1].length===0){D=true}if(!D){var z=[];for(var x=0;x<j.length;x++){if(y!=x){z.push(j[x])}}t=c.set(z,k).call(this,o[1]);if(t[0].length>0){u[0]=u[0].concat(t[0]);u[1]=t[1]}}if(u[1].length<v[1].length){v=u}if(v[1].length===0){break}}if(v[0].length===0){return v}if(m){try{o=m.call(this,v[1])}catch(A){throw new a.Exception(v[1])}v[1]=o[1]}return v}},forward:function(j,k){return function(m){return j[k].call(this,m)}},replace:function(k,j){return function(m){var n=k.call(this,m);return[j,n[1]]}},process:function(k,j){return function(m){var n=k.call(this,m);return[j.call(this,n[0]),n[1]]}},min:function(j,k){return function(m){var n=k.call(this,m);if(n[0].length<j){throw new a.Exception(m)}return n}}};var h=function(j){return function(){var k=null,o=[];if(arguments.length>1){k=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){k=arguments[0]}}if(k){for(var n=0,m=k.shift();n<m.length;n++){k.unshift(m[n]);o.push(j.apply(null,k));k.shift();return o}}else{return j.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(j){return function(){if(arguments[0] instanceof Array){return j.apply(null,arguments[0])}else{return j.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var e=Date,n=e.prototype,f=e.CultureInfo;var h=function(o){var p=[];for(var g=0;g<o.length;g++){if(o[g] instanceof Array){p=p.concat(h(o[g]))}else{if(o[g]){p.push(o[g])}}}return p};e.Grammar={};e.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var o=g.replace(/[^\d\+\-]/g,"");if(o.length){this.timezoneOffset=Number(o)}else{this.timezone=g.toLowerCase()}}},day:function(g){var o=g[0];return function(){this.day=Number(o.match(/\d+/)[0])}},month:function(g){return function(){this.month=(g.length==3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(g)/4:Number(g)-1}},year:function(g){return function(){var o=Number(g);this.year=((g.length>2)?o:(o+(((o+2000)<f.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];for(var p=0;p<g.length;p++){if(g[p]){g[p].call(this)}}var o=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=o.getDate()}if(!this.year){this.year=o.getFullYear()}if(!this.month&&this.month!==0){this.month=o.getMonth()}if(!this.day){this.day=1}if(!this.hour){this.hour=0}if(!this.minute){this.minute=0}if(!this.second){this.second=0}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.day>e.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var q=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){q.set({timezone:this.timezone})}else{if(this.timezoneOffset){q.set({timezoneOffset:this.timezoneOffset})}}return q},finish:function(g){g=(g instanceof Array)?h(g):[g];if(g.length===0){return null}for(var t=0;t<g.length;t++){if(typeof g[t]=="function"){g[t].call(this)}}var p=e.today();if(this.now&&!this.unit&&!this.operator){return new Date()}else{if(this.now){p=new Date()}}var u=!!(this.days&&this.days!==null||this.orient||this.operator);var v,s,q;q=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){p.setTimeToNow()}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;u=true}}if(!u&&this.weekday&&!this.day&&!this.days){var o=Date[this.weekday]();this.day=o.getDate();if(!this.month){this.month=o.getMonth()}this.year=o.getFullYear()}if(u&&this.weekday&&this.unit!="month"){this.unit="day";v=(e.getDayNumberFromName(this.weekday)-p.getDay());s=7;this.days=v?((v+(q*s))%s):(q*s)}if(this.month&&this.unit=="day"&&this.operator){this.value=(this.month+1);this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1}if(this.month&&!this.day&&this.value){p.set({day:this.value*1});if(!u){this.day=this.value*1}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;u=true}if(u&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";v=(this.month-p.getMonth());s=12;this.months=v?((v+(q*s))%s):(q*s);this.month=null}if(!this.unit){this.unit="day"}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*q}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}this[this.unit+"s"]=this.value*q}}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.weekday&&!this.day&&!this.days){var o=Date[this.weekday]();this.day=o.getDate();if(o.getMonth()!==p.getMonth()){this.month=o.getMonth()}}if((this.month||this.month===0)&&!this.day){this.day=1}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if(u&&this.timezone&&this.day&&this.days){this.day=this.days}return(u)?p.add(this):p.set(this)}};var j=e.Parsing.Operators,d=e.Grammar,m=e.Translator,b;d.datePartDelimiter=j.rtoken(/^([\s\-\.\,\/\x27]+)/);d.timePartDelimiter=j.stoken(":");d.whiteSpace=j.rtoken(/^\s*/);d.generalDelimiter=j.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};d.ctoken=function(s){var q=a[s];if(!q){var t=f.regexPatterns;var p=s.split(/\s+/),o=[];for(var g=0;g<p.length;g++){o.push(j.replace(j.rtoken(t[p[g]]),p[g]))}q=a[s]=j.any.apply(null,o)}return q};d.ctoken2=function(g){return j.rtoken(f.regexPatterns[g])};d.h=j.cache(j.process(j.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),m.hour));d.hh=j.cache(j.process(j.rtoken(/^(0[0-9]|1[0-2])/),m.hour));d.H=j.cache(j.process(j.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),m.hour));d.HH=j.cache(j.process(j.rtoken(/^([0-1][0-9]|2[0-3])/),m.hour));d.m=j.cache(j.process(j.rtoken(/^([0-5][0-9]|[0-9])/),m.minute));d.mm=j.cache(j.process(j.rtoken(/^[0-5][0-9]/),m.minute));d.s=j.cache(j.process(j.rtoken(/^([0-5][0-9]|[0-9])/),m.second));d.ss=j.cache(j.process(j.rtoken(/^[0-5][0-9]/),m.second));d.hms=j.cache(j.sequence([d.H,d.m,d.s],d.timePartDelimiter));d.t=j.cache(j.process(d.ctoken2("shortMeridian"),m.meridian));d.tt=j.cache(j.process(d.ctoken2("longMeridian"),m.meridian));d.z=j.cache(j.process(j.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),m.timezone));d.zz=j.cache(j.process(j.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),m.timezone));d.zzz=j.cache(j.process(d.ctoken2("timezone"),m.timezone));d.timeSuffix=j.each(j.ignore(d.whiteSpace),j.set([d.tt,d.zzz]));d.time=j.each(j.optional(j.ignore(j.stoken("T"))),d.hms,d.timeSuffix);d.d=j.cache(j.process(j.each(j.rtoken(/^([0-2]\d|3[0-1]|\d)/),j.optional(d.ctoken2("ordinalSuffix"))),m.day));d.dd=j.cache(j.process(j.each(j.rtoken(/^([0-2]\d|3[0-1])/),j.optional(d.ctoken2("ordinalSuffix"))),m.day));d.ddd=d.dddd=j.cache(j.process(d.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));d.M=j.cache(j.process(j.rtoken(/^(1[0-2]|0\d|\d)/),m.month));d.MM=j.cache(j.process(j.rtoken(/^(1[0-2]|0\d)/),m.month));d.MMM=d.MMMM=j.cache(j.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),m.month));d.y=j.cache(j.process(j.rtoken(/^(\d\d?)/),m.year));d.yy=j.cache(j.process(j.rtoken(/^(\d\d)/),m.year));d.yyy=j.cache(j.process(j.rtoken(/^(\d\d?\d?\d?)/),m.year));d.yyyy=j.cache(j.process(j.rtoken(/^(\d\d\d\d)/),m.year));b=function(){return j.each(j.any.apply(null,arguments),j.not(d.ctoken2("timeContext")))};d.day=b(d.d,d.dd);d.month=b(d.M,d.MMM);d.year=b(d.yyyy,d.yy);d.orientation=j.process(d.ctoken("past future"),function(g){return function(){this.orient=g}});d.operator=j.process(d.ctoken("add subtract"),function(g){return function(){this.operator=g}});d.rday=j.process(d.ctoken("yesterday tomorrow today now"),m.rday);d.unit=j.process(d.ctoken("second minute hour day week month year"),function(g){return function(){this.unit=g}});d.value=j.process(j.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});d.expression=j.set([d.rday,d.operator,d.value,d.unit,d.orientation,d.ddd,d.MMM]);b=function(){return j.set(arguments,d.datePartDelimiter)};d.mdy=b(d.ddd,d.month,d.day,d.year);d.ymd=b(d.ddd,d.year,d.month,d.day);d.dmy=b(d.ddd,d.day,d.month,d.year);d.date=function(g){return((d[f.dateElementOrder]||d.mdy).call(this,g))};d.format=j.process(j.many(j.any(j.process(j.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(d[g]){return d[g]}else{throw e.Parsing.Exception(g)}}),j.process(j.rtoken(/^[^dMyhHmstz]+/),function(g){return j.ignore(j.stoken(g))}))),function(g){return j.process(j.each.apply(null,g),m.finishExact)});var k={};var c=function(g){return k[g]=(k[g]||d.format(g)[0])};d.formats=function(o){if(o instanceof Array){var p=[];for(var g=0;g<o.length;g++){p.push(c(o[g]))}return j.any.apply(null,p)}else{return c(o)}};d._formats=d.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);d._start=j.process(j.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),m.finish);d.start=function(g){try{var o=d._formats.call({},g);if(o[1].length===0){return o}}catch(p){}return d._start.call({},g)};e._parse=e.parse;e.parse=function(g){var o=null;if(!g){return null}if(g instanceof Date){return g}try{o=e.Grammar.start.call({},g.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(p){return null}return((o[1].length===0)?o[0]:null)};e.getParseFunction=function(o){var g=e.Grammar.formats(o);return function(p){var q=null;try{q=g.call({},p)}catch(t){return null}return((q[1].length===0)?q[0]:null)}};e.parseExact=function(g,o){return e.getParseFunction(o)(g)}}());(function(){function aU(A,u){var K;A||(A={});for(K in u){A[K]=u[K]}return A}function D(A,u){return parseInt(A,u||10)}function c(u){return typeof u==="string"}function aT(u){return typeof u==="object"}function a8(u){return typeof u==="number"}function aN(u){return m.log(u)/m.LN10}function av(A,u){for(var K=A.length;K--;){if(A[K]===u){A.splice(K,1);break}}}function ap(u){return u!==O&&u!==null}function ba(A,u,ae){var W,K;if(c(u)){if(ap(ae)){A.setAttribute(u,ae)}else{if(A&&A.getAttribute){K=A.getAttribute(u)}}}else{if(ap(u)&&aT(u)){for(W in u){A.setAttribute(W,u[W])}}}return K}function aC(u){return Object.prototype.toString.call(u)==="[object Array]"?u:[u]}function az(){var A=arguments,u,W,K=A.length;for(u=0;u<K;u++){W=A[u];if(typeof W!=="undefined"&&W!==null){return W}}}function ac(A,u){if(ad){if(u&&u.opacity!==O){u.filter="alpha(opacity="+u.opacity*100+")"}}aU(A.style,u)}function aq(A,u,ae,W,K){A=ag.createElement(A);u&&aU(A,u);K&&ac(A,{padding:0,border:C,margin:0});ae&&ac(A,ae);W&&W.appendChild(A);return A}function aY(A,u){var K=function(){};K.prototype=new A;aU(K.prototype,u);return K}function B(A,u,bc,bb){var ae=v.lang;A=A;var W=isNaN(u=al(u))?2:u;u=bc===undefined?ae.decimalPoint:bc;bb=bb===undefined?ae.thousandsSep:bb;ae=A<0?"-":"";bc=String(D(A=al(+A||0).toFixed(W)));var K=bc.length>3?bc.length%3:0;return ae+(K?bc.substr(0,K)+bb:"")+bc.substr(K).replace(/(\d{3})(?=\d)/g,"$1"+bb)+(W?u+al(A-bc).toFixed(W).slice(2):"")}function j(A){var u={left:A.offsetLeft,top:A.offsetTop};for(A=A.offsetParent;A;){u.left+=A.offsetLeft;u.top+=A.offsetTop;if(A!==ag.body&&A!==ag.documentElement){u.left-=A.scrollLeft;u.top-=A.scrollTop}A=A.offsetParent}return u}function a7(){this.symbol=this.color=0}function a2(bk,bj,bi,be,bc,bb,ae){var W=ae.x;ae=ae.y;var K=W-bk+bi-25,A=ae-bj+be+10,u;if(K<7){K=bi+W+15}if(K+bk>bi+bc){K-=K+bk-(bi+bc);A-=bj;u=true}if(A<5){A=5;if(u&&ae>=A&&ae<=A+bj){A=ae+bj-5}}else{if(A+bj>be+bb){A=be+bb-bj-5}}return{x:K,y:A}}function aM(A,u){var W=A.length,K;for(K=0;K<W;K++){A[K].ss_i=K}A.sort(function(bc,bb){var ae=u(bc,bb);return ae===0?bc.ss_i-bb.ss_i:ae});for(K=0;K<W;K++){delete A[K].ss_i}}function a4(A){for(var u in A){A[u]&&A[u].destroy&&A[u].destroy();delete A[u]}}function aa(A,u){aI=az(A,u.animation)}function au(){var u=v.global.useUTC;M=u?Date.UTC:function(A,bc,bb,ae,W,K){return(new Date(A,bc,az(bb,1),az(ae,0),az(W,0),az(K,0))).getTime()};S=u?"getUTCMinutes":"getMinutes";z=u?"getUTCHours":"getHours";h=u?"getUTCDay":"getDay";ao=u?"getUTCDate":"getDate";s=u?"getUTCMonth":"getMonth";b=u?"getUTCFullYear":"getFullYear";Z=u?"setUTCMinutes":"setMinutes";E=u?"setUTCHours":"setHours";a6=u?"setUTCDate":"setDate";n=u?"setUTCMonth":"setMonth";bd=u?"setUTCFullYear":"setFullYear"}function F(u){aX||(aX=aq(aZ));u&&aX.appendChild(u);aX.innerHTML=""}function aD(){}function aQ(bQ,bO){function bN(du){function ds(da,dc){this.pos=da;this.minor=dc;this.isNew=true;dc||this.addLabel()}function dl(da){if(da){this.options=da;this.id=da.id}return this}function dk(da,dG,dc,dF){this.isNegative=dG;this.options=da;this.x=dc;this.stack=dF;this.alignOptions={align:da.align||(bt?dG?"left":"right":"center"),verticalAlign:da.verticalAlign||(bt?"middle":dG?"bottom":"top"),y:az(da.y,bt?4:dG?14:-6),x:az(da.x,bt?dG?-6:6:0)};this.textAlign=da.textAlign||(bt?dG?"right":"left":"center")}function cC(){var da=[],dF=[],dc;c4=cH=null;cI=[];P(cm,function(dJ){dc=false;P(["xAxis","yAxis"],function(dN){if(dJ.isCartesian&&(dN==="xAxis"&&dt||dN==="yAxis"&&!dt)&&(dJ.options[dN]===dv.index||dJ.options[dN]===O&&dv.index===0)){dJ[dN]=cT;cI.push(dJ);dc=true}});if(!dJ.visible&&bv.ignoreHiddenSeries){dc=false}if(dc){var dG,dM,dI,dL,dH,dK;if(!dt){dG=dJ.options.stacking;dA=dG==="percent";if(dG){dH=dJ.options.stack;dL=dJ.type+az(dH,"");dK="-"+dL;dJ.stackKey=dL;dM=da[dL]||[];da[dL]=dM;dI=dF[dK]||[];dF[dK]=dI}if(dA){c4=0;cH=99}}if(dJ.isCartesian){P(dJ.data,function(dQ){var dS=dQ.x,dN=dQ.y,dR=dN<0,dP=dR?dI:dM,dO=dR?dK:dL;if(c4===null){c4=cH=dQ[cD]}if(dt){if(dS>cH){cH=dS}else{if(dS<c4){c4=dS}}}else{if(ap(dN)){if(dG){dP[dS]=ap(dP[dS])?dP[dS]+dN:dN}dN=dP?dP[dS]:dN;dQ=az(dQ.low,dN);if(!dA){if(dN>cH){cH=dN}else{if(dQ<c4){c4=dQ}}}if(dG){dq[dO]||(dq[dO]={});dq[dO][dS]||(dq[dO][dS]=new dk(dv.stackLabels,dR,dS,dH));dq[dO][dS].setTotal(dN)}}}});if(/(area|column|bar)/.test(dJ.type)&&!dt){if(c4>=0){c4=0;cJ=true}else{if(cH<0){cH=0;dw=true}}}}}})}function cM(da,dG){var dc,dF;cE=dG?1:m.pow(10,a9(m.log(da)/m.LN10));dc=da/cE;if(!dG){dG=[1,2,2.5,5,10];if(dv.allowDecimals===false||dg){if(cE===1){dG=[1,2,5,10]}else{if(cE<=0.1){dG=[1/cE]}}}}for(dF=0;dF<dG.length;dF++){da=dG[dF];if(dc<=(dG[dF]+(dG[dF+1]||dG[dF]))/2){break}}da*=cE;return da}function cF(da){var dc;dc=da;cE=az(cE,m.pow(10,a9(m.log(db)/m.LN10)));if(cE<1){dc=ai(1/cE)*10;dc=ai(da*dc)/dc}return dc}function c1(){var dH,dF,dP,dc,dN=dv.tickInterval,dQ=dv.tickPixelInterval;dH=dv.maxZoom||(dt&&!ap(dv.min)&&!ap(dv.max)?aA(bB.smallestInterval*5,cH-c4):null);c7=cG?bF:cv;if(cS){dP=bB[dt?"xAxis":"yAxis"][dv.linkedTo];dc=dP.getExtremes();di=az(dc.min,dc.dataMin);dp=az(dc.max,dc.dataMax)}else{di=az(dB,dv.min,c4);dp=az(dr,dv.max,cH)}if(dg){di=aN(di);dp=aN(dp)}if(dp-di<dH){dc=(dH-dp+di)/2;di=aw(di-dc,az(dv.min,di-dc),c4);dp=aA(di+dH,az(dv.max,di+dH),cH)}if(!dC&&!dA&&!cS&&ap(di)&&ap(dp)){dH=dp-di||1;if(!ap(dv.min)&&!ap(dB)&&c8&&(c4<0||!cJ)){di-=dH*c8}if(!ap(dv.max)&&!ap(dr)&&cN&&(cH>0||!dw)){dp+=dH*cN}}db=di===dp?1:cS&&!dN&&dQ===dP.options.tickPixelInterval?dP.tickInterval:az(dN,dC?1:(dp-di)*dQ/c7);if(!cW&&!ap(dv.tickInterval)){db=cM(db)}cT.tickInterval=db;c9=dv.minorTickInterval==="auto"&&db?db/5:dv.minorTickInterval;if(cW){c5=[];dN=v.global.useUTC;var dK=1000/af,dG=60000/af,dM=3600000/af;dQ=86400000/af;dH=604800000/af;dc=2592000000/af;var dJ=31556952000/af,dO=[["second",dK,[1,2,5,10,15,30]],["minute",dG,[1,2,5,10,15,30]],["hour",dM,[1,2,3,4,6,8,12]],["day",dQ,[1,2]],["week",dH,[1,2]],["month",dc,[1,2,3,4,6]],["year",dJ,null]],dL=dO[6],dI=dL[1],da=dL[2];for(dP=0;dP<dO.length;dP++){dL=dO[dP];dI=dL[1];da=dL[2];if(dO[dP+1]){if(db<=(dI*da[da.length-1]+dO[dP+1][1])/2){break}}}if(dI===dJ&&db<5*dI){da=[1,2,5]}dO=cM(db/dI,da);da=new Date(di*af);da.setMilliseconds(0);if(dI>=dK){da.setSeconds(dI>=dG?0:dO*a9(da.getSeconds()/dO))}if(dI>=dG){da[Z](dI>=dM?0:dO*a9(da[S]()/dO))}if(dI>=dM){da[E](dI>=dQ?0:dO*a9(da[z]()/dO))}if(dI>=dQ){da[a6](dI>=dc?1:dO*a9(da[ao]()/dO))}if(dI>=dc){da[n](dI>=dJ?0:dO*a9(da[s]()/dO));dF=da[b]()}if(dI>=dJ){dF-=dF%dO;da[bd](dF)}dI===dH&&da[a6](da[ao]()-da[h]()+dv.startOfWeek);dP=1;dF=da[b]();dK=da.getTime()/af;dG=da[s]();for(dM=da[ao]();dK<dp&&dP<bF;){c5.push(dK);if(dI===dJ){dK=M(dF+dP*dO,0)/af}else{if(dI===dc){dK=M(dF,dG+dP*dO)/af}else{if(!dN&&(dI===dQ||dI===dH)){dK=M(dF,dG,dM+dP*dO*(dI===dQ?1:7))}else{dK+=dI*dO}}}dP++}c5.push(dK);cU=dv.dateTimeLabelFormats[dL[0]]}else{dP=cF(a9(di/db)*db);dF=cF(aL(dp/db)*db);c5=[];for(dP=cF(dP);dP<=dF;){c5.push(dP);dP=cF(dP+db)}}if(!cS){if(dC||dt&&bB.hasColumn){dF=(dC?1:db)*0.5;if(dC||!ap(az(dv.min,dB))){di-=dF}if(dC||!ap(az(dv.max,dr))){dp+=dF}}dF=c5[0];dP=c5[c5.length-1];if(dv.startOnTick){di=dF}else{di>dF&&c5.shift()}if(dv.endOnTick){dp=dP}else{dp<dP&&c5.pop()}ce||(ce={x:0,y:0});if(!cW&&c5.length>ce[cD]){ce[cD]=c5.length}}}function dx(){var da,dc;dn=di;dz=dp;cC();c1();c6=dh;dh=c7/(dp-di||1);if(!dt){for(da in dq){for(dc in dq[da]){dq[da][dc].cum=dq[da][dc].total}}}if(!cT.isDirty){cT.isDirty=di!==dn||dp!==dz}}function cK(da){da=(new dl(da)).render();dy.push(da);return da}function cb(){var dG=dv.title,dc=dv.stackLabels,dK=dv.alternateGridColor,da=dv.lineWidth,dJ,dL,dH=(dJ=bB.hasRendered)&&ap(dn)&&!isNaN(dn);dL=cI.length&&ap(di)&&ap(dp);c7=cG?bF:cv;dh=c7/(dp-di||1);de=cG?bW:bs;if(dL||cS){if(c9&&!dC){for(dL=di+(c5[0]-di)%c9;dL<=dp;dL+=c9){dd[dL]||(dd[dL]=new ds(dL,true));dH&&dd[dL].isNew&&dd[dL].render(null,true);dd[dL].isActive=true;dd[dL].render()}}P(c5,function(dN,dM){if(!cS||dN>=di&&dN<=dp){dH&&c2[dN].isNew&&c2[dN].render(dM,true);c2[dN].isActive=true;c2[dN].render(dM)}});dK&&P(c5,function(dN,dM){if(dM%2===0&&dN<dp){cZ[dN]||(cZ[dN]=new dl);cZ[dN].options={from:dN,to:c5[dM+1]!==O?c5[dM+1]:dp,color:dK};cZ[dN].render();cZ[dN].isActive=true}});dJ||P((dv.plotLines||[]).concat(dv.plotBands||[]),function(dM){dy.push((new dl(dM)).render())})}P([c2,dd,cZ],function(dN){for(var dM in dN){if(dN[dM].isActive){dN[dM].isActive=false}else{dN[dM].destroy();delete dN[dM]}}});if(da){dJ=bW+(cO?bF:0)+dj;dL=bz-bs-(cO?cv:0)+dj;dJ=cl.crispLine([a1,cG?bW:dJ,cG?dL:W,I,cG?cc-b7:dJ,cG?dL:bz-bs],da);if(cL){cL.animate({d:dJ})}else{cL=cl.path(dJ).attr({stroke:dv.lineColor,"stroke-width":da,zIndex:7}).add()}}if(dE){dJ=cG?bW:W;da=D(dG.style.fontSize||12);dJ={low:dJ+(cG?0:c7),middle:dJ+c7/2,high:dJ+(cG?c7:0)}[dG.align];da=(cG?W+cv:bW)+(cG?1:-1)*(cO?-1:1)*cz+(cP===2?da:0);dE[dE.isNew?"attr":"animate"]({x:cG?dJ:da+(cO?bF:0)+dj+(dG.x||0),y:cG?da-(cO?cv:0)+dj:dJ+(dG.y||0)});dE.isNew=false}if(dc&&dc.enabled){var dF,dI;dc=cT.stackTotalGroup;if(!dc){cT.stackTotalGroup=dc=cl.g("stack-labels").attr({visibility:a5,zIndex:6}).translate(bW,W).add()}for(dF in dq){dG=dq[dF];for(dI in dG){dG[dI].render(dc)}}}cT.isDirty=false}function cY(da){for(var dc=dy.length;dc--;){dy[dc].id===da&&dy[dc].destroy()}}var dt=du.isX,cO=du.opposite,cG=bt?!dt:dt,cP=cG?cO?0:2:cO?1:3,dq={},dv=at(dt?e:Y,[aG,am,aV,R][cP],du),cT=this,dE,cX=dv.type,cW=cX==="datetime",dg=cX==="logarithmic",dj=dv.offset||0,cD=dt?"x":"y",c7,dh,c6,de=cG?bW:bs,cV,cd,cB,cR,cL,c4,cH,cI,dB,dr,dp=null,di=null,dn,dz,c8=dv.minPadding,cN=dv.maxPadding,cS=ap(dv.linkedTo),cJ,dw,dA;cX=dv.events;var c3,dy=[],db,c9,cE,c5,c2={},dd={},cZ={},cA,dm,cz,cU,dC=dv.categories,c0=dv.labels.formatter||function(){var da=this.value;return cU?a0(cU,da):db%1000000===0?da/1000000+"M":db%1000===0?da/1000+"k":!dC&&da>=1000?B(da,0):da},cQ=cG&&dv.labels.staggerLines,dD=dv.reversed,df=dC&&dv.tickmarkPlacement==="between"?0.5:0;ds.prototype={addLabel:function(){var dc=this.pos,dI=dv.labels,dF=!(dc===di&&!az(dv.showFirstLabel,1)||dc===dp&&!az(dv.showLastLabel,0)),dG=dC&&cG&&dC.length&&!dI.step&&!dI.staggerLines&&!dI.rotation&&bF/dC.length||!cG&&bF/2,da=dC&&ap(dC[dc])?dC[dc]:dc,dH=this.label;dc=c0.call({isFirst:dc===c5[0],isLast:dc===c5[c5.length-1],dateTimeLabelFormat:cU,value:dg?m.pow(10,da):da});dG=dG&&{width:aw(1,ai(dG-2*(dI.padding||10)))+aE};dG=aU(dG,dI.style);if(dH===O){this.label=ap(dc)&&dF&&dI.enabled?cl.text(dc,0,0,dI.useHTML).attr({align:dI.align,rotation:dI.rotation}).css(dG).add(cB):null}else{dH&&dH.attr({text:dc}).css(dG)}},getLabelSize:function(){var da=this.label;return da?(this.labelBBox=da.getBBox())[cG?"height":"width"]:0},render:function(dT,dS){var dP=!this.minor,dQ=this.label,dL=this.pos,dO=dv.labels,dF=this.gridLine,dR=dP?dv.gridLineWidth:dv.minorGridLineWidth,dI=dP?dv.gridLineColor:dv.minorGridLineColor,da=dP?dv.gridLineDashStyle:dv.minorGridLineDashStyle,dN=this.mark,dG=dP?dv.tickLength:dv.minorTickLength,dc=dP?dv.tickWidth:dv.minorTickWidth||0,dU=dP?dv.tickColor:dv.minorTickColor,dK=dP?dv.tickPosition:dv.minorTickPosition,dH=dO.step,dJ=dS&&cg||bz,dM;dM=cG?cV(dL+df,null,null,dS)+de:bW+dj+(cO?(dS&&bc||cc)-b7-bW:0);dJ=cG?dJ-bs+dj-(cO?cv:0):dJ-cV(dL+df,null,null,dS)-de;if(dR){dL=cd(dL+df,dR,dS);if(dF===O){dF={stroke:dI,"stroke-width":dR};if(da){dF.dashstyle=da}if(dP){dF.zIndex=1}this.gridLine=dF=dR?cl.path(dL).attr(dF).add(cR):null}!dS&&dF&&dL&&dF.animate({d:dL})}if(dc){if(dK==="inside"){dG=-dG}if(cO){dG=-dG}dP=cl.crispLine([a1,dM,dJ,I,dM+(cG?0:-dG),dJ+(cG?dG:0)],dc);if(dN){dN.animate({d:dP})}else{this.mark=cl.path(dP).attr({stroke:dU,"stroke-width":dc}).add(cB)}}if(dQ&&!isNaN(dM)){dM=dM+dO.x-(df&&cG?df*dh*(dD?-1:1):0);dJ=dJ+dO.y-(df&&!cG?df*dh*(dD?1:-1):0);ap(dO.y)||(dJ+=D(dQ.styles.lineHeight)*0.9-dQ.getBBox().height/2);if(cQ){dJ+=dT/(dH||1)%cQ*16}if(dH){dQ[dT%dH?"hide":"show"]()}dQ[this.isNew?"attr":"animate"]({x:dM,y:dJ})}this.isNew=false},destroy:function(){a4(this)}};dl.prototype={render:function(){var dH=this,dF=dH.options,dR=dF.label,dc=dH.label,dP=dF.width,dS=dF.to,dK=dF.from,dG=dF.value,dN,dJ=dF.dashStyle,dQ=dH.svgElem,dM=[],dI,da,dO=dF.color;da=dF.zIndex;var dL=dF.events;if(dg){dK=aN(dK);dS=aN(dS);dG=aN(dG)}if(dP){dM=cd(dG,dP);dF={stroke:dO,"stroke-width":dP};if(dJ){dF.dashstyle=dJ}}else{if(ap(dK)&&ap(dS)){dK=aw(dK,di);dS=aA(dS,dp);dN=cd(dS);if((dM=cd(dK))&&dN){dM.push(dN[4],dN[5],dN[1],dN[2])}else{dM=null}dF={fill:dO}}else{return}}if(ap(da)){dF.zIndex=da}if(dQ){if(dM){dQ.animate({d:dM},null,dQ.onGetPath)}else{dQ.hide();dQ.onGetPath=function(){dQ.show()}}}else{if(dM&&dM.length){dH.svgElem=dQ=cl.path(dM).attr(dF).add();if(dL){dJ=function(dT){dQ.on(dT,function(dU){dL[dT].apply(dH,[dU])})};for(dI in dL){dJ(dI)}}}}if(dR&&ap(dR.text)&&dM&&dM.length&&bF>0&&cv>0){dR=at({align:cG&&dN&&"center",x:cG?!dN&&4:10,verticalAlign:!cG&&dN&&"middle",y:cG?dN?16:10:dN?6:-4,rotation:cG&&!dN&&90},dR);if(!dc){dH.label=dc=cl.text(dR.text,0,0).attr({align:dR.textAlign||dR.align,rotation:dR.rotation,zIndex:da}).css(dR.style).add()}dN=[dM[1],dM[4],az(dM[6],dM[1])];dM=[dM[2],dM[5],az(dM[7],dM[2])];dI=aA.apply(m,dN);da=aA.apply(m,dM);dc.align(dR,false,{x:dI,y:da,width:aw.apply(m,dN)-dI,height:aw.apply(m,dM)-da});dc.show()}else{dc&&dc.hide()}return dH},destroy:function(){a4(this);av(dy,this)}};dk.prototype={destroy:function(){a4(this)},setTotal:function(da){this.cum=this.total=da},render:function(da){var dc=this.options.formatter.call(this);if(this.label){this.label.attr({text:dc,visibility:ab})}else{this.label=bB.renderer.text(dc,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:ab}).add(da)}},setOffset:function(dc,dJ){var dF=this.isNegative,dH=cT.translate(this.total),da=cT.translate(0);da=al(dH-da);var dI=bB.xAxis[0].translate(this.x)+dc,dG=bB.plotHeight;dF={x:bt?dF?dH:dH-da:dI,y:bt?dG-dI-dJ:dF?dG-dH-da:dG-dH,width:bt?da:dJ,height:bt?dJ:da};this.label&&this.label.align(this.alignOptions,null,dF).attr({visibility:a5})}};cV=function(dc,dK,dF,dH,da){var dJ=1,dG=0,dI=dH?c6:dh;dH=dH?dn:di;dI||(dI=dh);if(dF){dJ*=-1;dG=c7}if(dD){dJ*=-1;dG-=dJ*c7}if(dK){if(dD){dc=c7-dc}dc=dc/dI+dH;if(dg&&da){dc=m.pow(10,dc)}}else{if(dg&&da){dc=aN(dc)}dc=dJ*(dc-dH)*dI+dG}return dc};cd=function(dG,dc,dK){var da,dJ,dL;dG=cV(dG,null,null,dK);var dH=dK&&cg||bz,dF=dK&&bc||cc,dI;dK=dJ=ai(dG+de);da=dL=ai(dH-dG-de);if(isNaN(dG)){dI=true}else{if(cG){da=W;dL=dH-bs;if(dK<bW||dK>bW+bF){dI=true}}else{dK=bW;dJ=dF-b7;if(da<W||da>W+cv){dI=true}}}return dI?null:cl.crispLine([a1,dK,da,I,dJ,dL],dc||0)};if(bt&&dt&&dD===O){dD=true}aU(cT,{addPlotBand:cK,addPlotLine:cK,adjustTickAmount:function(){if(ce&&!cW&&!dC&&!cS){var da=cA,dc=c5.length;cA=ce[cD];if(dc<cA){for(;c5.length<cA;){c5.push(cF(c5[c5.length-1]+db))}dh*=(dc-1)/(cA-1);dp=c5[c5.length-1]}if(ap(da)&&cA!==da){cT.isDirty=true}}},categories:dC,getExtremes:function(){return{min:di,max:dp,dataMin:c4,dataMax:cH,userMin:dB,userMax:dr}},getPlotLinePath:cd,getThreshold:function(da){if(di>da){da=di}else{if(dp<da){da=dp}}return cV(da,0,1)},isXAxis:dt,options:dv,plotLinesAndBands:dy,getOffset:function(){var dc=cI.length&&ap(di)&&ap(dp),dJ=0,dF=0,dH=dv.title,da=dv.labels,dI=[-1,1,1,-1][cP],dG;if(!cB){cB=cl.g("axis").attr({zIndex:7}).add();cR=cl.g("grid").attr({zIndex:1}).add()}dm=0;if(dc||cS){P(c5,function(dK){if(c2[dK]){c2[dK].addLabel()}else{c2[dK]=new ds(dK)}if(cP===0||cP===2||{1:"left",3:"right"}[cP]===da.align){dm=aw(c2[dK].getLabelSize(),dm)}});if(cQ){dm+=(cQ-1)*16}}else{for(dG in c2){c2[dG].destroy();delete c2[dG]}}if(dH&&dH.text){if(!dE){dE=cT.axisTitle=cl.text(dH.text,0,0,dH.useHTML).attr({zIndex:7,rotation:dH.rotation||0,align:dH.textAlign||{low:"left",middle:"center",high:"right"}[dH.align]}).css(dH.style).add();dE.isNew=true}dJ=dE.getBBox()[cG?"height":"width"];dF=az(dH.margin,cG?5:10)}dj=dI*(dv.offset||bl[cP]);cz=dm+(cP!==2&&dm&&dI*dv.labels[cG?"y":"x"])+dF;bl[cP]=aw(bl[cP],cz+dJ+dI*dj)},render:cb,setCategories:function(da,dc){cT.categories=du.categories=dC=da;P(cI,function(dF){dF.translate();dF.setTooltipPoints(true)});cT.isDirty=true;az(dc,true)&&bB.redraw()},setExtremes:function(da,dG,dc,dF){dc=az(dc,true);ah(cT,"setExtremes",{min:da,max:dG},function(){dB=da;dr=dG;dc&&bB.redraw(dF)})},setScale:dx,setTickPositions:c1,translate:cV,redraw:function(){K.resetTracker&&K.resetTracker();cb();P(dy,function(da){da.render()});P(cI,function(da){da.isDirty=true})},removePlotBand:cY,removePlotLine:cY,reversed:dD,stacks:dq,destroy:function(){var da;G(cT);for(da in dq){a4(dq[da]);dq[da]=null}if(cT.stackTotalGroup){cT.stackTotalGroup=cT.stackTotalGroup.destroy()}P([c2,dd,cZ,dy],function(dc){a4(dc)});P([cL,cB,cR,dE],function(dc){dc&&dc.destroy()});cL=cB=cR=dE=null}});for(c3 in cX){N(cT,c3,cX[c3])}dx()}function bK(){var cb={};return{add:function(cB,cA,cd,cz){if(!cb[cB]){cA=cl.text(cA,0,0).css(bQ.toolbar.itemStyle).align({align:"right",x:-b7-20,y:W+30}).on("click",cz).attr({align:"right",zIndex:20}).add();cb[cB]=cA}},remove:function(cd){F(cb[cd].element);cb[cd]=null}}}function bI(cL){function cK(){var cV=this.points||aC(this),cU=cV[0].series.xAxis,cR=this.x;cU=cU&&cU.options.type==="datetime";var cT=c(cR)||cU,cS;cS=cT?['<span style="font-size: 10px">'+(cU?a0("%A, %b %e, %Y",cR):cR)+"</span>"]:[];P(cV,function(cW){cS.push(cW.point.tooltipFormatter(cT))});return cS.join("<br/>")}function cH(cS,cR){cD=cN?cS:(2*cD+cS)/3;cJ=cN?cR:(cJ+cR)/2;cM.translate(cD,cJ);cx=al(cS-cD)>1||al(cR-cJ)>1?function(){cH(cS,cR)}:null}function cG(){if(!cN){var cR=bB.hoverPoints;cM.hide();P(cQ,function(cS){cS&&cS.hide()});cR&&P(cR,function(cS){cS.setState()});bB.hoverPoints=null;cN=true}}var cd,cC=cL.borderWidth,cE=cL.crosshairs,cQ=[],cb=cL.style,cI=cL.shared,cB=D(cb.padding),cP=cC+cB,cN=true,cO,cz,cD=0,cJ=0;cb.padding=0;var cM=cl.g("tooltip").attr({zIndex:8}).add(),cF=cl.rect(cP,cP,0,0,cL.borderRadius,cC).attr({fill:cL.backgroundColor,"stroke-width":cC}).add(cM).shadow(cL.shadow),cA=cl.text("",cB+cP,D(cb.fontSize)+cB+cP,cL.useHTML).attr({zIndex:1}).css(cb).add(cM);cM.hide();return{shared:cI,refresh:function(cX){var cW,cS,cV,cU=0,cR={},cT=[];cV=cX.tooltipPos;cW=cL.formatter||cK;cR=bB.hoverPoints;if(cI){cR&&P(cR,function(cY){cY.setState()});bB.hoverPoints=cX;P(cX,function(cY){cY.setState(aJ);cU+=cY.plotY;cT.push(cY.getLabelConfig())});cS=cX[0].plotX;cU=ai(cU)/cX.length;cR={x:cX[0].category};cR.points=cT;cX=cX[0]}else{cR=cX.getLabelConfig()}cR=cW.call(cR);cd=cX.series;cS=cI?cS:cX.plotX;cU=cI?cU:cX.plotY;cW=ai(cV?cV[0]:bt?bF-cU:cS);cS=ai(cV?cV[1]:bt?cv-cS:cU);cV=cI||!cX.series.isCartesian||cj(cW,cS);if(cR===false||!cV){cG()}else{if(cN){cM.show();cN=false}cA.attr({text:cR});cV=cA.getBBox();cO=cV.width+2*cB;cz=cV.height+2*cB;cF.attr({width:cO,height:cz,stroke:cL.borderColor||cX.color||cd.color||"#606060"});cW=a2(cO,cz,bW,W,bF,cv,{x:cW,y:cS});cH(ai(cW.x-cP),ai(cW.y-cP))}if(cE){cE=aC(cE);for(cW=cE.length;cW--;){cS=cX.series[cW?"yAxis":"xAxis"];if(cE[cW]&&cS){cS=cS.getPlotLinePath(cX[cW?"y":"x"],1);if(cQ[cW]){cQ[cW].attr({d:cS,visibility:a5})}else{cV={"stroke-width":cE[cW].width||1,stroke:cE[cW].color||"#C0C0C0",zIndex:2};if(cE[cW].dashStyle){cV.dashstyle=cE[cW].dashStyle}cQ[cW]=cl.path(cS).attr(cV).add()}}}}},hide:cG,destroy:function(){P(cQ,function(cR){cR&&cR.destroy()});P([cF,cA,cM],function(cR){cR&&cR.destroy()});cF=cA=cM=null}}}function bH(cz){function cd(cM){var cO,cP=aB&&ag.width/ag.body.scrollWidth-1,cN,cR,cQ;cM=cM||y.event;if(!cM.target){cM.target=cM.srcElement}cO=cM.touches?cM.touches.item(0):cM;if(cM.type!=="mousemove"||y.opera||cP){bL=j(bM);cN=bL.left;cR=bL.top}if(ad){cQ=cM.x;cO=cM.y}else{if(cO.layerX===O){cQ=cO.pageX-cN;cO=cO.pageY-cR}else{cQ=cM.layerX;cO=cM.layerY}}if(cP){cQ+=ai((cP+1)*cN-cN);cO+=ai((cP+1)*cR-cR)}return aU(cM,{chartX:cQ,chartY:cO})}function cI(cM){var cN={xAxis:[],yAxis:[]};P(bU,function(cP){var cO=cP.translate,cQ=cP.isXAxis;cN[cQ?"xAxis":"yAxis"].push({axis:cP,value:cO((bt?!cQ:cQ)?cM.chartX-bW:cv-cM.chartY+W,true)})});return cN}function cH(){var cM=bB.hoverSeries,cN=bB.hoverPoint;cN&&cN.onMouseOut();cM&&cM.onMouseOut();b3&&b3.hide();cn=null}function cA(){if(cC){var cM={xAxis:[],yAxis:[]},cO=cC.getBBox(),cP=cO.x-bW,cN=cO.y-W;if(cK){P(bU,function(cU){var cT=cU.translate,cS=cU.isXAxis,cQ=bt?!cS:cS,cR=cT(cQ?cP:cv-cN-cO.height,true,0,0,1);cT=cT(cQ?cP+cO.width:cv-cN,true,0,0,1);cM[cS?"xAxis":"yAxis"].push({axis:cU,min:aA(cR,cT),max:aw(cR,cT)})});ah(bB,"selection",cM,b9)}cC=cC.destroy()}bB.mouseIsDown=bP=cK=false;G(ag,H?"touchend":"mouseup",cA)}function cG(cM){var cN=ap(cM.pageX)?cM.pageX:cM.page.x;cM=ap(cM.pageX)?cM.pageY:cM.page.y;bL&&!cj(cN-bL.left-bW,cM-bL.top-W)&&cH()}var cE,cL,cK,cC,cF=bv.zoomType,cJ=/x/.test(cF),cb=/y/.test(cF),cB=cJ&&!bt||cb&&bt,cD=cb&&!bt||cJ&&bt;bZ=function(){if(bo){bo.translate(bW,W);bt&&bo.attr({width:bB.plotWidth,height:bB.plotHeight}).invert()}else{bB.trackerGroup=bo=cl.g("tracker").attr({zIndex:9}).add()}};bZ();if(cz.enabled){bB.tooltip=b3=bI(cz)}(function(){bM.onmousedown=function(cN){cN=cd(cN);!H&&cN.preventDefault&&cN.preventDefault();bB.mouseIsDown=bP=true;cE=cN.chartX;cL=cN.chartY;N(ag,H?"touchend":"mouseup",cA)};var cM=function(cV){if(!(cV&&cV.touches&&cV.touches.length>1)){cV=cd(cV);if(!H){cV.returnValue=false}var cP=cV.chartX,cU=cV.chartY,cT=!cj(cP-bW,cU-W);bL||(bL=j(bM));if(H&&cV.type==="touchstart"){if(ba(cV.target,"isTracker")){bB.runTrackerClick||cV.preventDefault()}else{!ae&&!cT&&cV.preventDefault()}}if(cT){if(cP<bW){cP=bW}else{if(cP>bW+bF){cP=bW+bF}}if(cU<W){cU=W}else{if(cU>W+cv){cU=W+cv}}}if(bP&&cV.type!=="touchstart"){cK=Math.sqrt(Math.pow(cE-cP,2)+Math.pow(cL-cU,2));if(cK>10){if(co&&(cJ||cb)&&cj(cE-bW,cL-W)){cC||(cC=cl.rect(bW,W,cB?1:bF,cD?1:cv,0).attr({fill:bv.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())}if(cC&&cB){cP=cP-cE;cC.attr({width:al(cP),x:(cP>0?0:cP)+cE})}if(cC&&cD){cU=cU-cL;cC.attr({height:al(cU),y:(cU>0?0:cU)+cL})}}}else{if(!cT){var cO;cU=bB.hoverPoint;cP=bB.hoverSeries;var cN,cR,cQ=cc,cS=bt?cV.chartY:cV.chartX-bW;if(b3&&cz.shared){cO=[];cN=cm.length;for(cR=0;cR<cN;cR++){if(cm[cR].visible&&cm[cR].tooltipPoints.length){cV=cm[cR].tooltipPoints[cS];cV._dist=al(cS-cV.plotX);cQ=aA(cQ,cV._dist);cO.push(cV)}}for(cN=cO.length;cN--;){cO[cN]._dist>cQ&&cO.splice(cN,1)}if(cO.length&&cO[0].plotX!==cn){b3.refresh(cO);cn=cO[0].plotX}}if(cP&&cP.tracker){(cV=cP.tooltipPoints[cS])&&cV!==cU&&cV.onMouseOver()}}}return cT||!co}};bM.onmousemove=cM;N(bM,"mouseleave",cH);N(ag,"mousemove",cG);bM.ontouchstart=function(cN){if(cJ||cb){bM.onmousedown(cN)}cM(cN)};bM.ontouchmove=cM;bM.ontouchend=function(){cK&&cH()};bM.onclick=function(cO){var cP=bB.hoverPoint;cO=cd(cO);cO.cancelBubble=true;if(!cK){if(cP&&ba(cO.target,"isTracker")){var cN=cP.plotX,cQ=cP.plotY;aU(cP,{pageX:bL.left+bW+(bt?bF-cQ:cN),pageY:bL.top+W+(bt?cv-cN:cQ)});ah(cP.series,"click",aU(cO,{point:cP}));cP.firePointEvent("click",cO)}else{aU(cO,cI(cO));cj(cO.chartX-bW,cO.chartY-W)&&ah(bB,"click",cO)}}cK=false}})();bS=setInterval(function(){cx&&cx()},32);aU(this,{zoomX:cJ,zoomY:cb,resetTracker:cH,destroy:function(){if(bB.trackerGroup){bB.trackerGroup=bo=bB.trackerGroup.destroy()}G(ag,"mousemove",cG);bM.onclick=bM.onmousedown=bM.onmousemove=bM.ontouchstart=bM.ontouchend=bM.ontouchmove=null}})}function bG(cA){var cz=cA.type||bv.type||bv.defaultSeriesType,cd=q[cz],cb=bB.hasRendered;if(cb){if(bt&&cz==="column"){cd=q.bar}else{if(!bt&&cz==="bar"){cd=q.column}}}cz=new cd;cz.init(bB,cA);if(!cb&&cz.inverted){bt=true}if(cz.isCartesian){co=cz.isCartesian}cm.push(cz);return cz}function bE(){bv.alignTicks!==false&&P(bU,function(cb){cb.adjustTickAmount()});ce=null}function bD(cC){var cB=bB.isDirtyLegend,cz,cb=bB.isDirtyBox,cd=cm.length,cD=cd,cA=bB.clipRect;for(aa(cC,bB);cD--;){cC=cm[cD];if(cC.isDirty&&cC.options.stacking){cz=true;break}}if(cz){for(cD=cd;cD--;){cC=cm[cD];if(cC.options.stacking){cC.isDirty=true}}}P(cm,function(cE){if(cE.isDirty){cE.cleanData();cE.getSegments();if(cE.options.legendType==="point"){cB=true}}});if(cB&&bb.renderLegend){bb.renderLegend();bB.isDirtyLegend=false}if(co){if(!by){ce=null;P(bU,function(cE){cE.setScale()})}bE();cw();P(bU,function(cE){if(cE.isDirty||cb){cE.redraw();cb=true}})}if(cb){br();bZ();if(cA){aO(cA);cA.animate({width:bB.plotSizeX,height:bB.plotSizeY})}}P(cm,function(cE){if(cE.isDirty&&cE.visible&&(!cE.isCartesian||cE.xAxis)){cE.redraw()}});K&&K.resetTracker&&K.resetTracker();ah(bB,"redraw")}function bC(){var cz=bQ.xAxis||{},cd=bQ.yAxis||{},cb;cz=aC(cz);P(cz,function(cA,cB){cA.index=cB;cA.isX=true});cd=aC(cd);P(cd,function(cA,cB){cA.index=cB});bU=cz.concat(cd);bB.xAxis=[];bB.yAxis=[];bU=ax(bU,function(cA){cb=new bN(cA);bB[cb.isXAxis?"xAxis":"yAxis"].push(cb);return cb});bE()}function bA(cd,cb){bR=at(bQ.title,cd);b6=at(bQ.subtitle,cb);P([["title",cd,bR],["subtitle",cb,b6]],function(cB){var cz=cB[0],cA=bB[cz],cC=cB[1];cB=cB[2];if(cA&&cC){cA=cA.destroy()}if(cB&&cB.text&&!cA){bB[cz]=cl.text(cB.text,0,0,cB.useHTML).attr({align:cB.align,"class":"highcharts-"+cz,zIndex:1}).css(cB.style).add().align(cB,false,bk)}})}function bx(){be=bv.renderTo;bu=J+p++;if(c(be)){be=ag.getElementById(be)}be.innerHTML="";if(!be.offsetWidth){cs=be.cloneNode(0);ac(cs,{position:U,top:"-9999px",display:""});ag.body.appendChild(cs)}bm=(cs||be).offsetWidth;bJ=(cs||be).offsetHeight;bB.chartWidth=cc=bv.width||bm||600;bB.chartHeight=bz=bv.height||(bJ>19?bJ:400);bB.container=bM=aq(aZ,{className:"highcharts-container"+(bv.className?" "+bv.className:""),id:bu},aU({position:t,overflow:ab,width:cc+aE,height:bz+aE,textAlign:"left"},bv.style),cs||be);bB.renderer=cl=bv.forExport?new g(bM,cc,bz,true):new a3(bM,cc,bz);var cd,cb;if(d&&bM.getBoundingClientRect){cd=function(){ac(bM,{left:0,top:0});cb=bM.getBoundingClientRect();ac(bM,{left:-(cb.left-D(cb.left))+aE,top:-(cb.top-D(cb.top))+aE})};cd();N(y,"resize",cd);N(bB,"destroy",function(){G(y,"resize",cd)})}}function b0(){function cd(){var cA=bv.width||be.offsetWidth,cz=bv.height||be.offsetHeight;if(cA&&cz){if(cA!==bm||cz!==bJ){clearTimeout(cb);cb=setTimeout(function(){cy(cA,cz,false)},100)}bm=cA;bJ=cz}}var cb;N(y,"resize",cd);N(bB,"destroy",function(){G(y,"resize",cd)})}function bY(){ah(bB,"endResize",null,function(){by-=1})}function bV(){var cz=bQ.labels,cd=bQ.credits,cb;bA();bb=bB.legend=new cu;cw();P(bU,function(cA){cA.setTickPositions(true)});bE();cw();br();co&&P(bU,function(cA){cA.render()});if(!bB.seriesGroup){bB.seriesGroup=cl.g("series-group").attr({zIndex:3}).add()}P(cm,function(cA){cA.translate();cA.setTooltipPoints();cA.render()});cz.items&&P(cz.items,function(){var cA=aU(cz.style,this.style),cB=D(cA.left)+bW,cC=D(cA.top)+W+12;delete cA.left;delete cA.top;cl.text(this.html,cB,cC).attr({zIndex:2}).css(cA).add()});if(!bB.toolbar){bB.toolbar=bK()}if(cd.enabled&&!bB.credits){cb=cd.href;bB.credits=cl.text(cd.text,0,0).on("click",function(){if(cb){location.href=cb}}).attr({align:cd.position.align,zIndex:8}).css(cd.style).add().align(cd.position)}bZ();bB.hasRendered=true;if(cs){be.appendChild(bM);F(cs)}}function b4(){var cd,cb=bM&&bM.parentNode;if(bB!==null){ah(bB,"destroy");G(y,"unload",b4);G(bB);for(cd=bU.length;cd--;){bU[cd]=bU[cd].destroy()}for(cd=cm.length;cd--;){cm[cd]=cm[cd].destroy()}P(["title","subtitle","seriesGroup","clipRect","credits","tracker"],function(cA){var cz=bB[cA];if(cz){bB[cA]=cz.destroy()}});P([bj,u,bq,bb,b3,cl,K],function(cz){cz&&cz.destroy&&cz.destroy()});bj=u=bq=bb=b3=cl=K=null;if(bM){bM.innerHTML="";G(bM);cb&&F(bM);bM=null}clearInterval(bS);for(cd in bB){delete bB[cd]}bB=null}}function bX(){if(!o&&y==y.top&&ag.readyState!=="complete"){ag.attachEvent("onreadystatechange",function(){ag.detachEvent("onreadystatechange",bX);ag.readyState==="complete"&&bX()})}else{bx();cq();cf();P(bQ.series||[],function(cb){bG(cb)});bB.inverted=bt=az(bt,bQ.chart.inverted);bC();bB.render=bV;bB.tracker=K=new bH(bQ.tooltip);bV();ah(bB,"load");bO&&bO.apply(bB,[bB]);P(bB.callbacks,function(cb){cb.apply(bB,[bB])})}}e=at(e,v.xAxis);Y=at(Y,v.yAxis);v.xAxis=v.yAxis=null;bQ=at(v,bQ);var bv=bQ.chart,b1=bv.margin;b1=aT(b1)?b1:[b1,b1,b1,b1];var bw=az(bv.marginTop,b1[0]),ca=az(bv.marginRight,b1[1]),bT=az(bv.marginBottom,b1[2]),A=az(bv.marginLeft,b1[3]),cp=bv.spacingTop,bp=bv.spacingRight,ck=bv.spacingBottom,bi=bv.spacingLeft,bk,bR,b6,W,b7,bs,bW,bl,be,cs,bM,bu,bm,bJ,cc,bz,bc,cg,bj,bq,ct,u,bB=this,ae=(b1=bv.events)&&!!b1.click,ci,cj,b3,bP,bn,cr,b2,cv,bF,K,bo,bZ,bb,b8,ch,bL,co=bv.showAxes,by=0,bU=[],ce,cm=[],bt,cl,cx,bS,cn,br,cw,cq,cf,cy,b9,b5,cu=function(){function cR(c5,c1){var c2=c5.legendItem,c0=c5.legendLine,c7=c5.legendSymbol,c4=cX.color,c6=c1?cD.itemStyle.color:c4,c3=c1?c5.color:c4;c4=c1?c5.pointAttr[V]:{stroke:c4,fill:c4};c2&&c2.css({fill:c6});c0&&c0.attr({stroke:c3});c7&&c7.attr(c4)}function cQ(c4,c1,c2){var c0=c4.legendItem,c5=c4.legendLine,c3=c4.legendSymbol;c4=c4.checkbox;c0&&c0.attr({x:c1,y:c2});c5&&c5.translate(c1,c2-4);c3&&c3.attr({x:c1+c3.xOff,y:c2+c3.yOff});if(c4){c4.x=c1;c4.y=c2}}function cK(){P(cL,function(c2){var c0=c2.checkbox,c1=cF.alignAttr;c0&&ac(c0,{left:c1.translateX+c2.legendItemWidth+c0.x-40+aE,top:c1.translateY+c0.y-11+aE})})}function cJ(c8){var c5,c4,c0,c2,c7=c8.legendItem;c2=c8.series||c8;var c3=c2.options,c1=c3&&c3.borderWidth||0;if(!c7){c2=/^(bar|pie|area|column)$/.test(c2.type);c8.legendItem=c7=cl.text(cD.labelFormatter.call(c8),0,0).css(c8.visible?cY:cX).on("mouseover",function(){c8.setState(aJ);c7.css(cW)}).on("mouseout",function(){c7.css(c8.visible?cY:cX);c8.setState()}).on("click",function(){var c9=function(){c8.setVisible()};c8.firePointEvent?c8.firePointEvent("legendItemClick",null,c9):ah(c8,"legendItemClick",null,c9)}).attr({zIndex:2}).add(cF);if(!c2&&c3&&c3.lineWidth){var c6={"stroke-width":c3.lineWidth,zIndex:2};if(c3.dashStyle){c6.dashstyle=c3.dashStyle}c8.legendLine=cl.path([a1,-cZ-cd,0,I,-cd,0]).attr(c6).add(cF)}if(c2){c5=cl.rect(c4=-cZ-cd,c0=-11,cZ,12,2).attr({zIndex:3}).add(cF)}else{if(c3&&c3.marker&&c3.marker.enabled){c5=cl.symbol(c8.symbol,c4=-cZ/2-cd,c0=-4,c3.marker.radius).attr({zIndex:3}).add(cF)}}if(c5){c5.xOff=c4+c1%2/2;c5.yOff=c0+c1%2/2}c8.legendSymbol=c5;cR(c8,c8.visible);if(c3&&c3.showCheckbox){c8.checkbox=aq("input",{type:"checkbox",checked:c8.selected,defaultChecked:c8.selected},cD.itemCheckboxStyle,bM);N(c8.checkbox,"click",function(c9){ah(c8,"checkboxClick",{checked:c9.target.checked},function(){c8.select()})})}}c5=c7.getBBox();c4=c8.legendItemWidth=cD.itemWidth||cZ+cd+c5.width+cA;cP=c5.height;if(cH&&cU-cN+c4>(cS||cc-2*cA-cN)){cU=cN;cI+=cP}cB=cI;cQ(c8,cU,cI);if(cH){cU+=c4}else{cI+=cP}cb=cS||aw(cH?cU-cN:c4,cb)}function cz(){cU=cN;cI=cE;cB=cb=0;cF||(cF=cl.g("legend").attr({zIndex:7}).add());cL=[];P(cG,function(c3){var c4=c3.options;if(c4.showInLegend){cL=cL.concat(c4.legendType==="point"?c3.data:c3)}});aM(cL,function(c3,c4){return(c3.options.legendIndex||0)-(c4.options.legendIndex||0)});cO&&cL.reverse();P(cL,cJ);b8=cS||cb;ch=cB-cE+cP;if(cT||cV){b8+=2*cA;ch+=2*cA;if(cM){if(b8>0&&ch>0){cM[cM.isNew?"attr":"animate"](cM.crisp(null,null,null,b8,ch));cM.isNew=false}}else{cM=cl.rect(0,0,b8,ch,cD.borderRadius,cT||0).attr({stroke:cD.borderColor,"stroke-width":cT||0,fill:cV||C}).add(cF).shadow(cD.shadow);cM.isNew=true}cM[cL.length?"show":"hide"]()}for(var c2=["left","right","top","bottom"],c0,c1=4;c1--;){c0=c2[c1];if(cC[c0]&&cC[c0]!=="auto"){cD[c1<2?"align":"verticalAlign"]=c0;cD[c1<2?"x":"y"]=D(cC[c0])*(c1%2?-1:1)}}cL.length&&cF.align(aU(cD,{width:b8,height:ch}),true,bk);by||cK()}var cD=bB.options.legend;if(cD.enabled){var cH=cD.layout==="horizontal",cZ=cD.symbolWidth,cd=cD.symbolPadding,cL,cC=cD.style,cY=cD.itemStyle,cW=cD.itemHoverStyle,cX=cD.itemHiddenStyle,cA=D(cC.padding),cE=18,cN=4+cA+cZ+cd,cU,cI,cB,cP=0,cM,cT=cD.borderWidth,cV=cD.backgroundColor,cF,cb,cS=cD.width,cG=bB.series,cO=cD.reversed;cz();N(bB,"endResize",cK);return{colorizeItem:cR,destroyItem:function(c1){var c0=c1.checkbox;P(["legendItem","legendLine","legendSymbol"],function(c2){c1[c2]&&c1[c2].destroy()});c0&&F(c1.checkbox)},renderLegend:cz,destroy:function(){if(cM){cM=cM.destroy()}if(cF){cF=cF.destroy()}}}}};cj=function(cd,cb){return cd>=0&&cd<=bF&&cb>=0&&cb<=cv};b5=function(){ah(bB,"selection",{resetSelection:true},b9);bB.toolbar.remove("zoom")};b9=function(cz){var cd=v.lang,cb=bB.pointCount<100;bB.toolbar.add("zoom",cd.resetZoom,cd.resetZoomTitle,b5);!cz||cz.resetSelection?P(bU,function(cA){cA.setExtremes(null,null,false,cb)}):P(cz.xAxis.concat(cz.yAxis),function(cA){var cB=cA.axis;if(bB.tracker[cB.isXAxis?"zoomX":"zoomY"]){cB.setExtremes(cA.min,cA.max,false,cb)}});bD()};cw=function(){var cC=bQ.legend,cB=az(cC.margin,10),cz=cC.x,cb=cC.y,cd=cC.align,cD=cC.verticalAlign,cA;cq();if((bB.title||bB.subtitle)&&!ap(bw)){if(cA=aw(bB.title&&!bR.floating&&!bR.verticalAlign&&bR.y||0,bB.subtitle&&!b6.floating&&!b6.verticalAlign&&b6.y||0)){W=aw(W,cA+az(bR.margin,15)+cp)}}if(cC.enabled&&!cC.floating){if(cd==="right"){ap(ca)||(b7=aw(b7,b8-cz+cB+bp))}else{if(cd==="left"){ap(A)||(bW=aw(bW,b8+cz+cB+bi))}else{if(cD==="top"){ap(bw)||(W=aw(W,ch+cb+cB+cp))}else{if(cD==="bottom"){ap(bT)||(bs=aw(bs,ch-cb+cB+ck))}}}}}co&&P(bU,function(cE){cE.getOffset()});ap(A)||(bW+=bl[3]);ap(bw)||(W+=bl[0]);ap(bT)||(bs+=bl[2]);ap(ca)||(b7+=bl[1]);cf()};cy=function(cB,cA,cz){var cb=bB.title,cd=bB.subtitle;by+=1;aa(cz,bB);cg=bz;bc=cc;bB.chartWidth=cc=ai(cB);bB.chartHeight=bz=ai(cA);ac(bM,{width:cc+aE,height:bz+aE});cl.setSize(cc,bz,cz);bF=cc-bW-b7;cv=bz-W-bs;ce=null;P(bU,function(cC){cC.isDirty=true;cC.setScale()});P(cm,function(cC){cC.isDirty=true});bB.isDirtyLegend=true;bB.isDirtyBox=true;cw();cb&&cb.align(null,null,bk);cd&&cd.align(null,null,bk);bD(cz);cg=null;ah(bB,"resize");aI===false?bY():setTimeout(bY,aI&&aI.duration||500)};cf=function(){bB.plotLeft=bW=ai(bW);bB.plotTop=W=ai(W);bB.plotWidth=bF=ai(cc-bW-b7);bB.plotHeight=cv=ai(bz-W-bs);bB.plotSizeX=bt?cv:bF;bB.plotSizeY=bt?bF:cv;bk={x:bi,y:cp,width:cc-bi-bp,height:bz-cp-ck}};cq=function(){W=az(bw,cp);b7=az(ca,bp);bs=az(bT,ck);bW=az(A,bi);bl=[0,0,0,0]};br=function(){var cB=bv.borderWidth||0,cA=bv.backgroundColor,cz=bv.plotBackgroundColor,cb=bv.plotBackgroundImage,cd,cC={x:bW,y:W,width:bF,height:cv};cd=cB+(bv.shadow?8:0);if(cB||cA){if(bj){bj.animate(bj.crisp(null,null,null,cc-cd,bz-cd))}else{bj=cl.rect(cd/2,cd/2,cc-cd,bz-cd,bv.borderRadius,cB).attr({stroke:bv.borderColor,"stroke-width":cB,fill:cA||C}).add().shadow(bv.shadow)}}if(cz){if(bq){bq.animate(cC)}else{bq=cl.rect(bW,W,bF,cv,0).attr({fill:cz}).add().shadow(bv.plotShadow)}}if(cb){if(ct){ct.animate(cC)}else{ct=cl.image(cb,bW,W,bF,cv).add()}}if(bv.plotBorderWidth){if(u){u.animate(u.crisp(null,bW,W,bF,cv))}else{u=cl.rect(bW,W,bF,cv,0,bv.plotBorderWidth).attr({stroke:bv.plotBorderColor,"stroke-width":bv.plotBorderWidth,zIndex:4}).add()}}bB.isDirtyBox=false};N(y,"unload",b4);bv.reflow!==false&&N(bB,"load",b0);if(b1){for(ci in b1){N(bB,ci,b1[ci])}}bB.options=bQ;bB.series=cm;bB.addSeries=function(cA,cz,cd){var cb;if(cA){aa(cd,bB);cz=az(cz,true);ah(bB,"addSeries",{options:cA},function(){cb=bG(cA);cb.isDirty=true;bB.isDirtyLegend=true;cz&&bB.redraw()})}return cb};bB.animation=az(bv.animation,true);bB.destroy=b4;bB.get=function(cA){var cz,cd,cb;for(cz=0;cz<bU.length;cz++){if(bU[cz].options.id===cA){return bU[cz]}}for(cz=0;cz<cm.length;cz++){if(cm[cz].options.id===cA){return cm[cz]}}for(cz=0;cz<cm.length;cz++){cb=cm[cz].data;for(cd=0;cd<cb.length;cd++){if(cb[cd].id===cA){return cb[cd]}}}return null};bB.getSelectedPoints=function(){var cb=[];P(cm,function(cd){cb=cb.concat(T(cd.data,function(cz){return cz.selected}))});return cb};bB.getSelectedSeries=function(){return T(cm,function(cb){return cb.selected})};bB.hideLoading=function(){aH(bn,{opacity:0},{duration:bQ.loading.hideDuration,complete:function(){ac(bn,{display:C})}});b2=false};bB.isInsidePlot=cj;bB.redraw=bD;bB.setSize=cy;bB.setTitle=bA;bB.showLoading=function(cd){var cb=bQ.loading;if(!bn){bn=aq(aZ,{className:"highcharts-loading"},aU(cb.style,{left:bW+aE,top:W+aE,width:bF+aE,height:cv+aE,zIndex:10,display:C}),bM);cr=aq("span",null,cb.labelStyle,bn)}cr.innerHTML=cd||bQ.lang.loading;if(!b2){ac(bn,{opacity:0,display:""});aH(bn,{opacity:cb.style.opacity},{duration:cb.showDuration});b2=true}};bB.pointCount=0;bB.counters=new a7;bX()}var ag=document,y=window,m=Math,ai=m.round,a9=m.floor,aL=m.ceil,aw=m.max,aA=m.min,al=m.abs,bg=m.cos,ar=m.sin,k=m.PI,aF=k*2/360,aW=navigator.userAgent,ad=/msie/i.test(aW)&&!y.opera,bf=ag.documentMode===8,aB=/AppleWebKit/.test(aW),d=/Firefox/.test(aW),o=!!ag.createElementNS&&!!ag.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,aK=d&&parseInt(aW.split("Firefox/")[1],10)<4,a3,H=ag.documentElement.ontouchstart!==undefined,aj={},p=0,af=1,aX,v,a0,aI,aS,O,aZ="div",U="absolute",t="relative",ab="hidden",J="highcharts-",a5="visible",aE="px",C="none",a1="M",I="L",Q="rgba(192,192,192,"+(o?0.000001:0.002)+")",V="",aJ="hover",M,S,z,h,ao,s,b,Z,E,a6,n,bd,aP=y.HighchartsAdapter,X=aP||{},P=X.each,T=X.grep,ax=X.map,at=X.merge,N=X.addEvent,G=X.removeEvent,ah=X.fireEvent,aH=X.animate,aO=X.stop,q={};a0=function(bk,bj,bi){function be(bm){return bm.toString().replace(/^([0-9])$/,"0$1")}if(!ap(bj)||isNaN(bj)){return"Invalid date"}bk=az(bk,"%Y-%m-%d %H:%M:%S");bj=new Date(bj*af);var bc,bb=bj[z](),ae=bj[h](),W=bj[ao](),K=bj[s](),A=bj[b](),u=v.lang,bl=u.weekdays;bj={a:bl[ae].substr(0,3),A:bl[ae],d:be(W),e:W,b:u.shortMonths[K],B:u.months[K],m:be(K+1),y:A.toString().substr(2,2),Y:A,H:be(bb),I:be(bb%12||12),l:bb%12||12,M:be(bj[S]()),p:bb<12?"AM":"PM",P:bb<12?"am":"pm",S:be(bj.getSeconds())};for(bc in bj){bk=bk.replace("%"+bc,bj[bc])}return bi?bk.substr(0,1).toUpperCase()+bk.substr(1):bk};a7.prototype={wrapColor:function(u){if(this.color>=u){this.color=0}},wrapSymbol:function(u){if(this.symbol>=u){this.symbol=0}}};aS={init:function(bj,bi,be){bi=bi||"";var bc=bj.shift,bb=bi.indexOf("C")>-1,ae=bb?7:3,W;bi=bi.split(" ");be=[].concat(be);var K,A,u=function(bk){for(W=bk.length;W--;){bk[W]===a1&&bk.splice(W+1,0,bk[W+1],bk[W+2],bk[W+1],bk[W+2])}};if(bb){u(bi);u(be)}if(bj.isArea){K=bi.splice(bi.length-6,6);A=be.splice(be.length-6,6)}if(bc){be=[].concat(be).splice(0,ae).concat(be);bj.shift=false}if(bi.length){for(bj=be.length;bi.length<bj;){bc=[].concat(bi).splice(bi.length-ae,ae);if(bb){bc[ae-6]=bc[ae-2];bc[ae-5]=bc[ae-1]}bi=bi.concat(bc)}}if(K){bi=bi.concat(K);be=be.concat(A)}return[bi,be]},step:function(A,u,bb,ae){var W=[],K=A.length;if(bb===1){W=ae}else{if(K===u.length&&bb<1){for(;K--;){ae=parseFloat(A[K]);W[K]=isNaN(ae)?A[K]:bb*parseFloat(u[K]-ae)+ae}}else{W=u}}return W}};aP&&aP.init&&aP.init(aS);if(!aP&&y.jQuery){var bh=jQuery;P=function(A,u){for(var W=0,K=A.length;W<K;W++){if(u.call(A[W],A[W],W,A)===false){return W}}};T=bh.grep;ax=function(A,u){for(var ae=[],W=0,K=A.length;W<K;W++){ae[W]=u.call(A[W],A[W],W,A)}return ae};at=function(){var u=arguments;return bh.extend(true,null,u[0],u[1],u[2],u[3])};N=function(A,u,K){bh(A).bind(u,K)};G=function(A,u,W){var K=ag.removeEventListener?"removeEventListener":"detachEvent";if(ag[K]&&!A[K]){A[K]=function(){}}bh(A).unbind(u,W)};ah=function(A,u,bb,ae){var W=bh.Event(u),K="detached"+u;aU(W,bb);if(A[u]){A[K]=A[u];A[u]=null}bh(A).trigger(W);if(A[K]){A[u]=A[K];A[K]=null}ae&&!W.isDefaultPrevented()&&ae(W)};aH=function(A,u,W){var K=bh(A);if(u.d){A.toD=u.d;u.d=1}K.stop();K.animate(u,W)};aO=function(u){bh(u).stop()};bh.extend(bh.easing,{easeOutQuad:function(A,u,ae,W,K){return -W*(u/=K)*(u-2)+ae}});var x=jQuery.fx,f=x.step;P(["cur","_default","width","height"],function(A,u){var ae=u?f:x.prototype,W=ae[A],K;if(W){ae[A]=function(bb){bb=u?bb:this;K=bb.elem;return K.attr?K.attr(bb.prop,bb.now):W.apply(this,arguments)}}});f.d=function(A){var u=A.elem;if(!A.started){var K=aS.init(u,u.d,u.toD);A.start=K[0];A.end=K[1];A.started=true}u.attr("d",aS.step(A.start,A.end,A.pos,u.toD))}}aP={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};v={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1000},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:at(aP,{enabled:false,y:-6,formatter:function(){return this.y}}),showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:U,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:false,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:U,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:t,top:"1em"},showDuration:100,style:{position:U,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:true,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:true,snap:H?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var e={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:aP,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},Y=at(e,{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:false,formatter:function(){return this.total},style:aP.style}}),R={labels:{align:"right",x:-8,y:null},title:{rotation:270}},am={labels:{align:"left",x:8,y:null},title:{rotation:90}},aV={labels:{align:"center",x:0,y:14},title:{rotation:0}},aG=at(aV,{labels:{y:-5}}),a=v.plotOptions;aP=a.line;a.spline=at(aP);a.scatter=at(aP,{lineWidth:0,states:{hover:{lineWidth:0}}});a.area=at(aP,{});a.areaspline=at(a.area);a.column=at(aP,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,states:{hover:{brightness:0.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}},dataLabels:{y:null,verticalAlign:null}});a.bar=at(a.column,{dataLabels:{align:"left",x:5,y:0}});a.pie=at(aP,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:0.1,shadow:false}}});au();var ak=function(A){var u=[],K;(function(W){if(K=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(W)){u=[D(K[1]),D(K[2]),D(K[3]),parseFloat(K[4],10)]}else{if(K=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(W)){u=[D(K[1],16),D(K[2],16),D(K[3],16),1]}}})(A);return{get:function(W){return u&&!isNaN(u[0])?W==="rgb"?"rgb("+u[0]+","+u[1]+","+u[2]+")":W==="a"?u[3]:"rgba("+u.join(",")+")":A},brighten:function(ae){if(a8(ae)&&ae!==0){var W;for(W=0;W<3;W++){u[W]+=D(ae*255);if(u[W]<0){u[W]=0}if(u[W]>255){u[W]=255}}}return this},setOpacity:function(W){u[3]=W;return this}}};aD.prototype={init:function(A,u){this.element=ag.createElementNS("http://www.w3.org/2000/svg",u);this.renderer=A},animate:function(A,u,K){if(u=az(u,aI,true)){u=at(u);if(K){u.complete=K}aH(this,A,u)}else{this.attr(A);K&&K()}},attr:function(bn,bm){var bl,bk,bj,bi,be=this.element,bb=be.nodeName,ae=this.renderer,W,A=this.shadows,bo=this.htmlNode,bc,K=this;if(c(bn)&&ap(bm)){bl=bn;bn={};bn[bl]=bm}if(c(bn)){bl=bn;if(bb==="circle"){bl={x:"cx",y:"cy"}[bl]||bl}else{if(bl==="strokeWidth"){bl="stroke-width"}}K=ba(be,bl)||this[bl]||0;if(bl!=="d"&&bl!=="visibility"){K=parseFloat(K)}}else{for(bl in bn){W=false;bk=bn[bl];if(bl==="d"){if(bk&&bk.join){bk=bk.join(" ")}if(/(NaN| {2}|^$)/.test(bk)){bk="M 0 0"}this.d=bk}else{if(bl==="x"&&bb==="text"){for(bj=0;bj<be.childNodes.length;bj++){bi=be.childNodes[bj];ba(bi,"x")===ba(be,"x")&&ba(bi,"x",bk)}if(this.rotation){ba(be,"transform","rotate("+this.rotation+" "+bk+" "+D(bn.y||ba(be,"y"))+")")}}else{if(bl==="fill"){bk=ae.color(bk,be,bl)}else{if(bb==="circle"&&(bl==="x"||bl==="y")){bl={x:"cx",y:"cy"}[bl]||bl}else{if(bl==="translateX"||bl==="translateY"||bl==="rotation"||bl==="verticalAlign"){this[bl]=bk;this.updateTransform();W=true}else{if(bl==="stroke"){bk=ae.color(bk,be,bl)}else{if(bl==="dashstyle"){bl="stroke-dasharray";bk=bk&&bk.toLowerCase();if(bk==="solid"){bk=C}else{if(bk){bk=bk.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(bj=bk.length;bj--;){bk[bj]=D(bk[bj])*bn["stroke-width"]}bk=bk.join(",")}}}else{if(bl==="isTracker"){this[bl]=bk}else{if(bl==="width"){bk=D(bk)}else{if(bl==="align"){bl="text-anchor";bk={left:"start",center:"middle",right:"end"}[bk]}else{if(bl==="title"){bj=ag.createElementNS("http://www.w3.org/2000/svg","title");bj.appendChild(ag.createTextNode(bk));be.appendChild(bj)}}}}}}}}}}}if(bl==="strokeWidth"){bl="stroke-width"}if(aB&&bl==="stroke-width"&&bk===0){bk=0.000001}if(this.symbolName&&/^(x|y|r|start|end|innerR)/.test(bl)){if(!bc){this.symbolAttr(bn);bc=true}W=true}if(A&&/^(width|height|visibility|x|y|d)$/.test(bl)){for(bj=A.length;bj--;){ba(A[bj],bl,bk)}}if((bl==="width"||bl==="height")&&bb==="rect"&&bk<0){bk=0}if(bl==="text"){this.textStr=bk;this.added&&ae.buildText(this)}else{W||ba(be,bl,bk)}if(bo&&(bl==="x"||bl==="y"||bl==="translateX"||bl==="translateY"||bl==="visibility")){bj=bo.length?bo:[this];bi=bj.length;var u;for(u=0;u<bi;u++){bo=bj[u];W=bo.getBBox();bo=bo.htmlNode;ac(bo,aU(this.styles,{left:W.x+(this.translateX||0)+aE,top:W.y+(this.translateY||0)+aE}));bl==="visibility"&&ac(bo,{visibility:bk})}}}}return K},symbolAttr:function(A){var u=this;P(["x","y","r","start","end","width","height","innerR"],function(K){u[K]=az(A[K],u[K])});u.attr({d:u.renderer.symbols[u.symbolName](ai(u.x*2)/2,ai(u.y*2)/2,u.r,{start:u.start,end:u.end,width:u.width,height:u.height,innerR:u.innerR})})},clip:function(u){return this.attr("clip-path","url("+this.renderer.url+"#"+u.id+")")},crisp:function(bi,be,bc,bb,ae){var W,K={},A={},u;bi=bi||this.strokeWidth||0;u=bi%2/2;A.x=a9(be||this.x||0)+u;A.y=a9(bc||this.y||0)+u;A.width=a9((bb||this.width||0)-2*u);A.height=a9((ae||this.height||0)-2*u);A.strokeWidth=bi;for(W in A){if(this[W]!==A[W]){this[W]=K[W]=A[W]}}return K},css:function(A){var u=this.element;u=A&&A.width&&u.nodeName==="text";var ae,W="",K=function(bc,bb){return"-"+bb.toLowerCase()};if(A&&A.color){A.fill=A.color}this.styles=A=aU(this.styles,A);if(ad&&!o){u&&delete A.width;ac(this.element,A)}else{for(ae in A){W+=ae.replace(/([A-Z])/g,K)+":"+A[ae]+";"}this.attr({style:W})}u&&this.added&&this.renderer.buildText(this);return this},on:function(A,u){var K=u;if(H&&A==="click"){A="touchstart";K=function(W){W.preventDefault();u()}}this.element["on"+A]=K;return this},translate:function(A,u){return this.attr({translateX:A,translateY:u})},invert:function(){this.inverted=true;this.updateTransform();return this},updateTransform:function(){var A=this.translateX||0,u=this.translateY||0,ae=this.inverted,W=this.rotation,K=[];if(ae){A+=this.attr("width");u+=this.attr("height")}if(A||u){K.push("translate("+A+","+u+")")}if(ae){K.push("rotate(90) scale(-1,1)")}else{W&&K.push("rotate("+W+" "+this.x+" "+this.y+")")}K.length&&ba(this.element,"transform",K.join(" "))},toFront:function(){var u=this.element;u.parentNode.appendChild(u);return this},align:function(A,u,be){if(A){this.alignOptions=A;this.alignByTranslate=u;be||this.renderer.alignedObjects.push(this)}else{A=this.alignOptions;u=this.alignByTranslate}be=az(be,this.renderer);var bc=A.align,bb=A.verticalAlign,ae=(be.x||0)+(A.x||0),W=(be.y||0)+(A.y||0),K={};if(/^(right|center)$/.test(bc)){ae+=(be.width-(A.width||0))/{right:1,center:2}[bc]}K[u?"translateX":"x"]=ai(ae);if(/^(bottom|middle)$/.test(bb)){W+=(be.height-(A.height||0))/({bottom:1,middle:2}[bb]||1)}K[u?"translateY":"y"]=ai(W);this[this.placed?"animate":"attr"](K);this.placed=true;this.alignAttr=K;return this},getBBox:function(){var A,u,bb,ae=this.rotation,W=ae*aF;try{A=aU({},this.element.getBBox())}catch(K){A={width:0,height:0}}u=A.width;bb=A.height;if(ae){A.width=al(bb*ar(W))+al(u*bg(W));A.height=al(bb*bg(W))+al(u*ar(W))}return A},show:function(){return this.attr({visibility:a5})},hide:function(){return this.attr({visibility:ab})},add:function(A){var u=this.renderer,bc=A||u,bb=bc.element||u.box,ae=bb.childNodes,W=this.element,K=ba(W,"zIndex");this.parentInverted=A&&A.inverted;this.textStr!==undefined&&u.buildText(this);if(A&&this.htmlNode){if(!A.htmlNode){A.htmlNode=[]}A.htmlNode.push(this)}if(K){bc.handleZ=true;K=D(K)}if(bc.handleZ){for(bc=0;bc<ae.length;bc++){A=ae[bc];u=ba(A,"zIndex");if(A!==W&&(D(u)>K||!ap(K)&&ap(u))){bb.insertBefore(W,A);return this}}}bb.appendChild(W);this.added=true;return this},safeRemoveChild:function(A){var u=A.parentNode;u&&u.removeChild(A)},destroy:function(){var A=this,u=A.element||{},ae=A.shadows,W,K;u.onclick=u.onmouseout=u.onmouseover=u.onmousemove=null;aO(A);if(A.clipPath){A.clipPath=A.clipPath.destroy()}if(A.stops){for(K=0;K<A.stops.length;K++){A.stops[K]=A.stops[K].destroy()}A.stops=null}A.safeRemoveChild(u);ae&&P(ae,function(bb){A.safeRemoveChild(bb)});av(A.renderer.alignedObjects,A);for(W in A){delete A[W]}return null},empty:function(){for(var A=this.element,u=A.childNodes,K=u.length;K--;){A.removeChild(u[K])}},shadow:function(A,u){var bc=[],bb,ae,W=this.element,K=this.parentInverted?"(-1,-1)":"(1,1)";if(A){for(bb=1;bb<=3;bb++){ae=W.cloneNode(0);ba(ae,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":0.05*bb,"stroke-width":7-2*bb,transform:"translate"+K,fill:C});u?u.element.appendChild(ae):W.parentNode.insertBefore(ae,W);bc.push(ae)}this.shadows=bc}return this}};var g=function(){this.init.apply(this,arguments)};g.prototype={Element:aD,init:function(A,u,bb,ae){var W=location,K;K=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});A.appendChild(K.element);this.box=K.element;this.boxWrapper=K;this.alignedObjects=[];this.url=ad?"":W.href.replace(/#.*?$/,"");this.defs=this.createElement("defs").add();this.forExport=ae;this.gradients=[];this.setSize(u,bb,false)},destroy:function(){var A,u=this.gradients,K=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();if(u){for(A=0;A<u.length;A++){this.gradients[A]=u[A].destroy()}this.gradients=null}if(K){this.defs=K.destroy()}return this.alignedObjects=null},createElement:function(A){var u=new this.Element;u.init(this,A);return u},buildText:function(bm){for(var bl=bm.element,bk=az(bm.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),bj=bl.childNodes,bi=/style="([^"]+)"/,be=/href="([^"]+)"/,bc=ba(bl,"x"),ae=bm.styles,W=ae&&bm.useHTML&&!this.forExport,K=bm.htmlNode,u=ae&&D(ae.width),bn=ae&&ae.lineHeight,bb,A=bj.length;A--;){bl.removeChild(bj[A])}u&&!bm.added&&this.box.appendChild(bl);P(bk,function(br,bp){var bo,bq=0,bs;br=br.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");bo=br.split("|||");P(bo,function(bx){if(bx!==""||bo.length===1){var bw={},bv=ag.createElementNS("http://www.w3.org/2000/svg","tspan");bi.test(bx)&&ba(bv,"style",bx.match(bi)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));if(be.test(bx)){ba(bv,"onclick",'location.href="'+bx.match(be)[1]+'"');ac(bv,{cursor:"pointer"})}bx=(bx.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");bv.appendChild(ag.createTextNode(bx));if(bq){bw.dx=3}else{bw.x=bc}if(!bq){if(bp){!o&&bm.renderer.forExport&&ac(bv,{display:"block"});bs=y.getComputedStyle&&D(y.getComputedStyle(bb,null).getPropertyValue("line-height"));if(!bs||isNaN(bs)){bs=bn||bb.offsetHeight||18}ba(bv,"dy",bs)}bb=bv}ba(bv,bw);bl.appendChild(bv);bq++;if(u){bx=bx.replace(/-/g,"- ").split(" ");for(var bt,bu=[];bx.length||bu.length;){bt=bl.getBBox().width;bw=bt>u;if(!bw||bx.length===1){bx=bu;bu=[];if(bx.length){bv=ag.createElementNS("http://www.w3.org/2000/svg","tspan");ba(bv,{dy:bn||16,x:bc});bl.appendChild(bv);if(bt>u){u=bt}}}else{bv.removeChild(bv.firstChild);bu.unshift(bx.pop())}bx.length&&bv.appendChild(ag.createTextNode(bx.join(" ").replace(/- /g,"-")))}}}})});if(W){if(!K){K=bm.htmlNode=aq("span",null,aU(ae,{position:U,top:0,left:0}),this.box.parentNode)}K.innerHTML=bm.textStr;for(A=bj.length;A--;){bj[A].style.visibility=ab}}},crispLine:function(A,u){if(A[1]===A[4]){A[1]=A[4]=ai(A[1])+u%2/2}if(A[2]===A[5]){A[2]=A[5]=ai(A[2])+u%2/2}return A},path:function(u){return this.createElement("path").attr({d:u,fill:C})},circle:function(A,u,K){A=aT(A)?A:{x:A,y:u,r:K};return this.createElement("circle").attr(A)},arc:function(A,u,bb,ae,W,K){if(aT(A)){u=A.y;bb=A.r;ae=A.innerR;W=A.start;K=A.end;A=A.x}return this.symbol("arc",A||0,u||0,bb||0,{innerR:ae||0,start:W||0,end:K||0})},rect:function(A,u,bb,ae,W,K){if(aT(A)){u=A.y;bb=A.width;ae=A.height;W=A.r;K=A.strokeWidth;A=A.x}W=this.createElement("rect").attr({rx:W,ry:W,fill:C});return W.attr(W.crisp(K,A,u,aw(bb,0),aw(ae,0)))},setSize:function(A,u,ae){var W=this.alignedObjects,K=W.length;this.width=A;this.height=u;for(this.boxWrapper[az(ae,true)?"animate":"attr"]({width:A,height:u});K--;){W[K].align()}},g:function(A){var u=this.createElement("g");return ap(A)?u.attr({"class":J+A}):u},image:function(A,u,bb,ae,W){var K={preserveAspectRatio:C};arguments.length>1&&aU(K,{x:u,y:bb,width:ae,height:W});K=this.createElement("image").attr(K);K.element.setAttributeNS?K.element.setAttributeNS("http://www.w3.org/1999/xlink","href",A):K.element.setAttribute("hc-svg-href",A);return K},symbol:function(bj,bi,be,bc,bb){var ae,W=this.symbols[bj];W=W&&W(ai(bi),ai(be),bc,bb);var K=/^url\((.*?)\)$/,A;if(W){ae=this.path(W);aU(ae,{symbolName:bj,x:bi,y:be,r:bc});bb&&aU(ae,bb)}else{if(K.test(bj)){var u=function(bk,bl){bk.attr({width:bl[0],height:bl[1]}).translate(-ai(bl[0]/2),-ai(bl[1]/2))};A=bj.match(K)[1];bj=aj[A];ae=this.image(A).attr({x:bi,y:be});if(bj){u(ae,bj)}else{ae.attr({width:0,height:0});aq("img",{onload:function(){u(ae,aj[A]=[this.width,this.height])},src:A})}}else{ae=this.circle(bi,be,bc)}}return ae},symbols:{square:function(A,u,K){K=0.707*K;return[a1,A-K,u-K,I,A+K,u-K,A+K,u+K,A-K,u+K,"Z"]},triangle:function(A,u,K){return[a1,A,u-1.33*K,I,A+K,u+0.67*K,A-K,u+0.67*K,"Z"]},"triangle-down":function(A,u,K){return[a1,A,u+1.33*K,I,A-K,u-0.67*K,A+K,u-0.67*K,"Z"]},diamond:function(A,u,K){return[a1,A,u-K,I,A+K,u,A,u+K,A-K,u,"Z"]},arc:function(bj,bi,be,bc){var bb=bc.start,ae=bc.end-0.000001,W=bc.innerR,K=bg(bb),A=ar(bb),u=bg(ae);ae=ar(ae);bc=bc.end-bb<k?0:1;return[a1,bj+be*K,bi+be*A,"A",be,be,0,bc,1,bj+be*u,bi+be*ae,I,bj+W*u,bi+W*ae,"A",W,W,0,bc,0,bj+W*K,bi+W*A,"Z"]}},clipRect:function(A,u,bb,ae){var W=J+p++,K=this.createElement("clipPath").attr({id:W}).add(this.defs);A=this.rect(A,u,bb,ae,0).add(K);A.id=W;A.clipPath=K;return A},color:function(bi,be,bc){var bb,ae=/^rgba/;if(bi&&bi.linearGradient){var W=this;be=bi.linearGradient;bc=J+p++;var K,A,u;K=W.createElement("linearGradient").attr({id:bc,gradientUnits:"userSpaceOnUse",x1:be[0],y1:be[1],x2:be[2],y2:be[3]}).add(W.defs);W.gradients.push(K);K.stops=[];P(bi.stops,function(bj){if(ae.test(bj[1])){bb=ak(bj[1]);A=bb.get("rgb");u=bb.get("a")}else{A=bj[1];u=1}bj=W.createElement("stop").attr({offset:bj[0],"stop-color":A,"stop-opacity":u}).add(K);K.stops.push(bj)});return"url("+this.url+"#"+bc+")"}else{if(ae.test(bi)){bb=ak(bi);ba(be,bc+"-opacity",bb.get("a"));return bb.get("rgb")}else{be.removeAttribute(bc+"-opacity");return bi}}},text:function(A,u,ae,W){var K=v.chart.style;u=ai(az(u,0));ae=ai(az(ae,0));A=this.createElement("text").attr({x:u,y:ae,text:A}).css({fontFamily:K.fontFamily,fontSize:K.fontSize});A.x=u;A.y=ae;A.useHTML=W;return A}};a3=g;if(!o){X=aY(aD,{init:function(A,u){var W=["<",u,' filled="f" stroked="f"'],K=["position: ",U,";"];if(u==="shape"||u===aZ){K.push("left:0;top:0;width:10px;height:10px;")}if(bf){K.push("visibility: ",u===aZ?ab:a5)}W.push(' style="',K.join(""),'"/>');if(u){W=u===aZ||u==="span"||u==="img"?W.join(""):A.prepVML(W);this.element=aq(W)}this.renderer=A},add:function(A){var u=this.renderer,W=this.element,K=u.box;K=A?A.element||A:K;A&&A.inverted&&u.invertChild(W,K);bf&&K.gVis===ab&&ac(W,{visibility:ab});K.appendChild(W);this.added=true;this.alignOnAdd&&this.updateTransform();return this},attr:function(bm,bl){var bk,bj,bi,be=this.element||{},bc=be.style,ae=be.nodeName,W=this.renderer,K=this.symbolName,u,bn,bb=this.shadows,A=this;if(c(bm)&&ap(bl)){bk=bm;bm={};bm[bk]=bl}if(c(bm)){bk=bm;A=bk==="strokeWidth"||bk==="stroke-width"?this.strokeweight:this[bk]}else{for(bk in bm){bj=bm[bk];u=false;if(K&&/^(x|y|r|start|end|width|height|innerR)/.test(bk)){if(!bn){this.symbolAttr(bm);bn=true}u=true}else{if(bk==="d"){bj=bj||[];this.d=bj.join(" ");bi=bj.length;for(u=[];bi--;){u[bi]=a8(bj[bi])?ai(bj[bi]*10)-5:bj[bi]==="Z"?"x":bj[bi]}bj=u.join(" ")||"x";be.path=bj;if(bb){for(bi=bb.length;bi--;){bb[bi].path=bj}}u=true}else{if(bk==="zIndex"||bk==="visibility"){if(bf&&bk==="visibility"&&ae==="DIV"){be.gVis=bj;u=be.childNodes;for(bi=u.length;bi--;){ac(u[bi],{visibility:bj})}if(bj===a5){bj=null}}if(bj){bc[bk]=bj}u=true}else{if(/^(width|height)$/.test(bk)){this[bk]=bj;if(this.updateClipping){this[bk]=bj;this.updateClipping()}else{bc[bk]=bj}u=true}else{if(/^(x|y)$/.test(bk)){this[bk]=bj;if(be.tagName==="SPAN"){this.updateTransform()}else{bc[{x:"left",y:"top"}[bk]]=bj}}else{if(bk==="class"){be.className=bj}else{if(bk==="stroke"){bj=W.color(bj,be,bk);bk="strokecolor"}else{if(bk==="stroke-width"||bk==="strokeWidth"){be.stroked=bj?true:false;bk="strokeweight";this[bk]=bj;if(a8(bj)){bj+=aE}}else{if(bk==="dashstyle"){(be.getElementsByTagName("stroke")[0]||aq(W.prepVML(["<stroke/>"]),null,null,be))[bk]=bj||"solid";this.dashstyle=bj;u=true}else{if(bk==="fill"){if(ae==="SPAN"){bc.color=bj}else{be.filled=bj!==C?true:false;bj=W.color(bj,be,bk);bk="fillcolor"}}else{if(bk==="translateX"||bk==="translateY"||bk==="rotation"||bk==="align"){if(bk==="align"){bk="textAlign"}this[bk]=bj;this.updateTransform();u=true}else{if(bk==="text"){this.bBox=null;be.innerHTML=bj;u=true}}}}}}}}}}}}if(bb&&bk==="visibility"){for(bi=bb.length;bi--;){bb[bi].style[bk]=bj}}if(!u){if(bf){be[bk]=bj}else{ba(be,bk,bj)}}}}return A},clip:function(A){var u=this,K=A.members;K.push(u);u.destroyClip=function(){av(K,u)};return u.css(A.getCSS(u.inverted))},css:function(A){var u=this.element;if(u=A&&u.tagName==="SPAN"&&A.width){delete A.width;this.textWidth=u;this.updateTransform()}this.styles=aU(this.styles,A);ac(this.element,A);return this},safeRemoveChild:function(u){u.parentNode&&F(u)},destroy:function(){this.destroyClip&&this.destroyClip();return aD.prototype.destroy.apply(this)},empty:function(){for(var A=this.element.childNodes,u=A.length,K;u--;){K=A[u];K.parentNode.removeChild(K)}},getBBox:function(){var A=this.element,u=this.bBox;if(!u){if(A.nodeName==="text"){A.style.position=U}u=this.bBox={x:A.offsetLeft,y:A.offsetTop,width:A.offsetWidth,height:A.offsetHeight}}return u},on:function(A,u){this.element["on"+A]=function(){var K=y.event;K.target=K.srcElement;u(K)};return this},updateTransform:function(){if(this.added){var bo=this,bn=bo.element,bm=bo.translateX||0,bl=bo.translateY||0,bk=bo.x||0,bj=bo.y||0,bi=bo.textAlign||"left",bc={left:0,center:0.5,right:1}[bi],bb=bi&&bi!=="left";if(bm||bl){bo.css({marginLeft:bm,marginTop:bl})}bo.inverted&&P(bn.childNodes,function(br){bo.renderer.invertChild(br,bn)});if(bn.tagName==="SPAN"){var ae,A;bm=bo.rotation;var bq;ae=0;bl=1;var be=0,W;bq=D(bo.textWidth);var u=bo.xCorr||0,bp=bo.yCorr||0,K=[bm,bi,bn.innerHTML,bo.textWidth].join(",");if(K!==bo.cTT){if(ap(bm)){ae=bm*aF;bl=bg(ae);be=ar(ae);ac(bn,{filter:bm?["progid:DXImageTransform.Microsoft.Matrix(M11=",bl,", M12=",-be,", M21=",be,", M22=",bl,", sizingMethod='auto expand')"].join(""):C})}ae=bn.offsetWidth;A=bn.offsetHeight;if(ae>bq){ac(bn,{width:bq+aE,display:"block",whiteSpace:"normal"});ae=bq}bq=ai((D(bn.style.fontSize)||12)*1.2);u=bl<0&&-ae;bp=be<0&&-A;W=bl*be<0;u+=be*bq*(W?1-bc:bc);bp-=bl*bq*(bm?W?bc:1-bc:1);if(bb){u-=ae*bc*(bl<0?-1:1);if(bm){bp-=A*bc*(be<0?-1:1)}ac(bn,{textAlign:bi})}bo.xCorr=u;bo.yCorr=bp}ac(bn,{left:bk+u,top:bj+bp});bo.cTT=K}}else{this.alignOnAdd=true}},shadow:function(bj,bi){var be=[],bc,bb=this.element,ae=this.renderer,W,K=bb.style,A,u=bb.path;if(u&&typeof u.value!=="string"){u="x"}if(bj){for(bc=1;bc<=3;bc++){A=['<shape isShadow="true" strokeweight="',7-2*bc,'" filled="false" path="',u,'" coordsize="100,100" style="',bb.style.cssText,'" />'];W=aq(ae.prepVML(A),null,{left:D(K.left)+1,top:D(K.top)+1});A=['<stroke color="black" opacity="',0.05*bc,'"/>'];aq(ae.prepVML(A),null,null,W);bi?bi.element.appendChild(W):bb.parentNode.insertBefore(W,bb);be.push(W)}this.shadows=be}return this}});aP=function(){this.init.apply(this,arguments)};aP.prototype=at(g.prototype,{Element:X,isIE8:aW.indexOf("MSIE 8.0")>-1,init:function(A,u,W){var K;this.alignedObjects=[];K=this.createElement(aZ);A.appendChild(K.element);this.box=K.element;this.boxWrapper=K;this.setSize(u,W,false);if(!ag.namespaces.hcv){ag.namespaces.add("hcv","urn:schemas-microsoft-com:vml");ag.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(A,u,ae,W){var K=this.createElement();return aU(K,{members:[],left:A,top:u,width:ae,height:W,getCSS:function(bj){var bi=this.top,be=this.left,bc=be+this.width,bb=bi+this.height;bi={clip:"rect("+ai(bj?be:bi)+"px,"+ai(bj?bb:bc)+"px,"+ai(bj?bc:bb)+"px,"+ai(bj?bi:be)+"px)"};!bj&&bf&&aU(bi,{width:bc+aE,height:bb+aE});return bi},updateClipping:function(){P(K.members,function(bb){bb.css(K.getCSS(bb.inverted))})}})},color:function(bk,bj,bi){var be,bc=/^rgba/;if(bk&&bk.linearGradient){var bb,ae,W=bk.linearGradient,K,A,u,bl;P(bk.stops,function(bn,bm){if(bc.test(bn[1])){be=ak(bn[1]);bb=be.get("rgb");ae=be.get("a")}else{bb=bn[1];ae=1}if(bm){u=bb;bl=ae}else{K=bb;A=ae}});bk=90-m.atan((W[3]-W[1])/(W[2]-W[0]))*180/k;bk=["<",bi,' colors="0% ',K,",100% ",u,'" angle="',bk,'" opacity="',bl,'" o:opacity2="',A,'" type="gradient" focus="100%" />'];aq(this.prepVML(bk),null,null,bj)}else{if(bc.test(bk)&&bj.tagName!=="IMG"){be=ak(bk);bk=["<",bi,' opacity="',be.get("a"),'"/>'];aq(this.prepVML(bk),null,null,bj);return be.get("rgb")}else{bj=bj.getElementsByTagName(bi);if(bj.length){bj[0].opacity=1}return bk}}},prepVML:function(A){var u=this.isIE8;A=A.join("");if(u){A=A.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');A=A.indexOf('style="')===-1?A.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):A.replace('style="','style="display:inline-block;behavior:url(#default#VML);')}else{A=A.replace("<","<hcv:")}return A},text:function(A,u,W){var K=v.chart.style;return this.createElement("span").attr({text:A,x:ai(u),y:ai(W)}).css({whiteSpace:"nowrap",fontFamily:K.fontFamily,fontSize:K.fontSize})},path:function(u){return this.createElement("shape").attr({coordsize:"100 100",d:u})},circle:function(A,u,K){return this.symbol("circle").attr({x:A,y:u,r:K})},g:function(A){var u;if(A){u={className:J+A,"class":J+A}}return this.createElement(aZ).attr(u)},image:function(A,u,bb,ae,W){var K=this.createElement("img").attr({src:A});arguments.length>1&&K.css({left:u,top:bb,width:ae,height:W});return K},rect:function(A,u,bc,bb,ae,W){if(aT(A)){u=A.y;bc=A.width;bb=A.height;ae=A.r;W=A.strokeWidth;A=A.x}var K=this.symbol("rect");K.r=ae;return K.attr(K.crisp(W,A,u,aw(bc,0),aw(bb,0)))},invertChild:function(A,u){var K=u.style;ac(A,{flip:"x",left:D(K.width)-10,top:D(K.height)-10,rotation:-90})},symbols:{arc:function(bk,bj,bi,be){var bc=be.start,bb=be.end,ae=bg(bc),W=ar(bc),K=bg(bb),A=ar(bb);be=be.innerR;var u=0.07/bi,bl=be&&0.1/be||0;if(bb-bc===0){return["x"]}else{if(2*k-bb+bc<u){K=-u}else{if(bb-bc<bl){K=bg(bc+bl)}}}return["wa",bk-bi,bj-bi,bk+bi,bj+bi,bk+bi*ae,bj+bi*W,bk+bi*K,bj+bi*A,"at",bk-be,bj-be,bk+be,bj+be,bk+be*K,bj+be*A,bk+be*ae,bj+be*W,"x","e"]},circle:function(A,u,K){return["wa",A-K,u-K,A+K,u+K,A+K,u,A+K,u,"e"]},rect:function(A,u,bc,bb){if(!ap(bb)){return[]}var ae=bb.width;bb=bb.height;var W=A+ae,K=u+bb;bc=aA(bc,ae,bb);return[a1,A+bc,u,I,W-bc,u,"wa",W-2*bc,u,W,u+2*bc,W-bc,u,W,u+bc,I,W,K-bc,"wa",W-2*bc,K-2*bc,W,K,W,K-bc,W-bc,K,I,A+bc,K,"wa",A,K-2*bc,A+2*bc,K,A+bc,K,A,K-bc,I,A,u+bc,"wa",A,u,A+2*bc,u+2*bc,A,u+bc,A+bc,u,"x","e"]}}});a3=aP}aQ.prototype.callbacks=[];var ay=function(){};ay.prototype={init:function(A,u){var W=A.chart.counters,K;this.series=A;this.applyOptions(u);this.pointAttr={};if(A.options.colorByPoint){K=A.chart.options.colors;if(!this.options){this.options={}}this.color=this.options.color=this.color||K[W.color++];W.wrapColor(K.length)}A.chart.pointCount++;return this},applyOptions:function(A){var u=this.series;this.config=A;if(a8(A)||A===null){this.y=A}else{if(aT(A)&&!a8(A.length)){aU(this,A);this.options=A}else{if(c(A[0])){this.name=A[0];this.y=A[1]}else{if(a8(A[0])){this.x=A[0];this.y=A[1]}}}}if(this.x===O){this.x=u.autoIncrement()}},destroy:function(){var A=this,u=A.series,W=u.chart.hoverPoints,K;u.chart.pointCount--;if(W){A.setState();av(W,A)}A===u.chart.hoverPoint&&A.onMouseOut();G(A);P(["graphic","tracker","group","dataLabel","connector","shadowGroup"],function(ae){A[ae]&&A[ae].destroy()});A.legendItem&&A.series.chart.legend.destroyItem(A);for(K in A){A[K]=null}},getLabelConfig:function(){return{x:this.category,y:this.y,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(A,u){var W=this,K=W.series.chart;A=az(A,!W.selected);W.firePointEvent(A?"select":"unselect",{accumulate:u},function(){W.selected=A;W.setState(A&&"select");u||P(K.getSelectedPoints(),function(ae){if(ae.selected&&ae!==W){ae.selected=false;ae.setState(V);ae.firePointEvent("unselect")}})})},onMouseOver:function(){var A=this.series.chart,u=A.tooltip,K=A.hoverPoint;K&&K!==this&&K.onMouseOut();this.firePointEvent("mouseOver");u&&!u.shared&&u.refresh(this);this.setState(aJ);A.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(A){var u=this.series;return['<span style="color:'+u.color+'">',this.name||u.name,"</span>: ",!A?"<b>x = "+(this.name||this.x)+",</b> ":"","<b>",!A?"y = ":"",this.y,"</b>"].join("")},update:function(A,u,bc){var bb=this,ae=bb.series,W=bb.graphic,K=ae.chart;u=az(u,true);bb.firePointEvent("update",{options:A},function(){bb.applyOptions(A);if(aT(A)){ae.getAttribs();W&&W.attr(bb.pointAttr[ae.state])}ae.isDirty=true;u&&K.redraw(bc)})},remove:function(A,u){var bb=this,ae=bb.series,W=ae.chart,K=ae.data;aa(u,W);A=az(A,true);bb.firePointEvent("remove",null,function(){av(K,bb);bb.destroy();ae.isDirty=true;A&&W.redraw()})},firePointEvent:function(A,u,ae){var W=this,K=this.series.options;if(K.point.events[A]||W.options&&W.options.events&&W.options.events[A]){this.importEvents()}if(A==="click"&&K.allowPointSelect){ae=function(bb){W.select(null,bb.ctrlKey||bb.metaKey||bb.shiftKey)}}ah(this,A,u,ae)},importEvents:function(){if(!this.hasImportedEvents){var A=at(this.series.options.point,this.options).events,u;this.events=A;for(u in A){N(this,u,A[u])}this.hasImportedEvents=true}},setState:function(bi){var be=this.series,bc=be.options.states,bb=a[be.type].marker&&be.options.marker,ae=bb&&!bb.enabled,W=(bb=bb&&bb.states[bi])&&bb.enabled===false,K=be.stateMarkerGraphic,A=be.chart,u=this.pointAttr;bi=bi||V;if(!(bi===this.state||this.selected&&bi!=="select"||bc[bi]&&bc[bi].enabled===false||bi&&(W||ae&&!bb.enabled))){if(this.graphic){this.graphic.attr(u[bi])}else{if(bi){if(!K){be.stateMarkerGraphic=K=A.renderer.circle(0,0,u[bi].r).attr(u[bi]).add(be.group)}K.translate(this.plotX,this.plotY)}if(K){K[bi?"show":"hide"]()}}this.state=bi}}};var aR=function(){};aR.prototype={isCartesian:true,type:"line",pointClass:ay,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(A,u){var W,K;K=A.series.length;this.chart=A;u=this.setOptions(u);aU(this,{index:K,options:u,name:u.name||"Series "+(K+1),state:V,pointAttr:{},visible:u.visible!==false,selected:u.selected===true});K=u.events;for(W in K){N(this,W,K[W])}if(K&&K.click||u.point&&u.point.events&&u.point.events.click||u.allowPointSelect){A.runTrackerClick=true}this.getColor();this.getSymbol();this.setData(u.data,false)},autoIncrement:function(){var A=this.options,u=this.xIncrement;u=az(u,A.pointStart,0);this.pointInterval=az(this.pointInterval,A.pointInterval,1);this.xIncrement=u+this.pointInterval;return u},cleanData:function(){var A=this.chart,u=this.data,bc,bb,ae=A.smallestInterval,W,K;aM(u,function(bi,be){return bi.x-be.x});if(this.options.connectNulls){for(K=u.length-1;K>=0;K--){u[K].y===null&&u[K-1]&&u[K+1]&&u.splice(K,1)}}for(K=u.length-1;K>=0;K--){if(u[K-1]){W=u[K].x-u[K-1].x;if(W>0&&(bb===O||W<bb)){bb=W;bc=K}}}if(ae===O||bb<ae){A.smallestInterval=bb}this.closestPoints=bc},getSegments:function(){var A=-1,u=[],K=this.data;P(K,function(ae,W){if(ae.y===null){W>A+1&&u.push(K.slice(A+1,W));A=W}else{W===K.length-1&&u.push(K.slice(A+1,W+1))}});this.segments=u},setOptions:function(A){var u=this.chart.options.plotOptions;return at(u[this.type],u.series,A)},getColor:function(){var A=this.chart.options.colors,u=this.chart.counters;this.color=this.options.color||A[u.color++]||"#0000ff";u.wrapColor(A.length)},getSymbol:function(){var A=this.chart.options.symbols,u=this.chart.counters;this.symbol=this.options.marker.symbol||A[u.symbol++];u.wrapSymbol(A.length)},addPoint:function(A,u,be,bc){var bb=this.data,ae=this.graph,W=this.area,K=this.chart;A=(new this.pointClass).init(this,A);aa(bc,K);if(ae&&be){ae.shift=be}if(W){W.shift=be;W.isArea=true}u=az(u,true);bb.push(A);be&&bb[0].remove(false);this.getAttribs();this.isDirty=true;u&&K.redraw()},setData:function(A,u){var bc=this,bb=bc.data,ae=bc.initialColor,W=bc.chart,K=bb&&bb.length||0;bc.xIncrement=null;if(ap(ae)){W.counters.color=ae}for(A=ax(aC(A||[]),function(be){return(new bc.pointClass).init(bc,be)});K--;){bb[K].destroy()}bc.data=A;bc.cleanData();bc.getSegments();bc.getAttribs();bc.isDirty=true;W.isDirtyBox=true;az(u,true)&&W.redraw(false)},remove:function(A,u){var W=this,K=W.chart;A=az(A,true);if(!W.isRemoving){W.isRemoving=true;ah(W,"remove",null,function(){W.destroy();K.isDirtyLegend=K.isDirtyBox=true;A&&K.redraw(u)})}W.isRemoving=false},translate:function(){for(var bk=this.chart,bj=this.options.stacking,bi=this.xAxis.categories,be=this.yAxis,bc=this.data,bb=bc.length;bb--;){var ae=bc[bb],W=ae.x,K=ae.y,A=ae.low,u=be.stacks[(K<0?"-":"")+this.stackKey];ae.plotX=this.xAxis.translate(W);if(bj&&this.visible&&u&&u[W]){A=u[W];W=A.total;A.cum=A=A.cum-K;K=A+K;if(bj==="percent"){A=W?A*100/W:0;K=W?K*100/W:0}ae.percentage=W?ae.y*100/W:0;ae.stackTotal=W}if(ap(A)){ae.yBottom=be.translate(A,0,1,0,1)}if(K!==null){ae.plotY=be.translate(K,0,1,0,1)}ae.clientX=bk.inverted?bk.plotHeight-ae.plotX:ae.plotX;ae.category=bi&&bi[ae.x]!==O?bi[ae.x]:ae.x}},setTooltipPoints:function(A){var u=this.chart,be=u.inverted,bc=[],bb=ai((be?u.plotTop:u.plotLeft)+u.plotSizeX),ae,W,K=[];if(A){this.tooltipPoints=null}P(this.segments,function(bi){bc=bc.concat(bi)});if(this.xAxis&&this.xAxis.reversed){bc=bc.reverse()}P(bc,function(bj,bi){ae=bc[bi-1]?bc[bi-1]._high+1:0;for(W=bj._high=bc[bi+1]?a9((bj.plotX+(bc[bi+1]?bc[bi+1].plotX:bb))/2):bb;ae<=W;){K[be?bb-ae++:ae++]=bj}});this.tooltipPoints=K},onMouseOver:function(){var A=this.chart,u=A.hoverSeries;if(!(!H&&A.mouseIsDown)){u&&u!==this&&u.onMouseOut();this.options.events.mouseOver&&ah(this,"mouseOver");this.tracker&&this.tracker.toFront();this.setState(aJ);A.hoverSeries=this}},onMouseOut:function(){var A=this.options,u=this.chart,W=u.tooltip,K=u.hoverPoint;K&&K.onMouseOut();this&&A.events.mouseOut&&ah(this,"mouseOut");W&&!A.stickyTracking&&W.hide();this.setState();u.hoverSeries=null},animate:function(A){var u=this.chart,W=this.clipRect,K=this.options.animation;if(K&&!aT(K)){K={}}if(A){if(!W.isAnimating){W.attr("width",0);W.isAnimating=true}}else{W.animate({width:u.plotSizeX},K);this.animate=null}},drawPoints:function(){var bi,be=this.data,bc=this.chart,bb,ae,W,K,A,u;if(this.options.marker.enabled){for(W=be.length;W--;){K=be[W];bb=K.plotX;ae=K.plotY;u=K.graphic;if(ae!==O&&!isNaN(ae)){bi=K.pointAttr[K.selected?"select":V];A=bi.r;if(u){u.animate({x:bb,y:ae,r:A})}else{K.graphic=bc.renderer.symbol(az(K.marker&&K.marker.symbol,this.symbol),bb,ae,A).attr(bi).add(this.group)}}}}},convertAttribs:function(A,u,be,bc){var bb=this.pointAttrToOptions,ae,W,K={};A=A||{};u=u||{};be=be||{};bc=bc||{};for(ae in bb){W=bb[ae];K[ae]=az(A[W],u[ae],be[ae],bc[ae])}return K},getAttribs:function(){var bk=this,bj=a[bk.type].marker?bk.options.marker:bk.options,bi=bj.states,be=bi[aJ],bc,bb=bk.color,ae={stroke:bb,fill:bb},W=bk.data,K=[],A,u=bk.pointAttrToOptions,bl;if(bk.options.marker){be.radius=be.radius||bj.radius+2;be.lineWidth=be.lineWidth||bj.lineWidth+1}else{be.color=be.color||ak(be.color||bb).brighten(be.brightness).get()}K[V]=bk.convertAttribs(bj,ae);P([aJ,"select"],function(bm){K[bm]=bk.convertAttribs(bi[bm],K[V])});bk.pointAttr=K;for(bb=W.length;bb--;){ae=W[bb];if((bj=ae.options&&ae.options.marker||ae.options)&&bj.enabled===false){bj.radius=0}bc=false;if(ae.options){for(bl in u){if(ap(bj[u[bl]])){bc=true}}}if(bc){A=[];bi=bj.states||{};bc=bi[aJ]=bi[aJ]||{};if(!bk.options.marker){bc.color=ak(bc.color||ae.options.color).brighten(bc.brightness||be.brightness).get()}A[V]=bk.convertAttribs(bj,K[V]);A[aJ]=bk.convertAttribs(bi[aJ],K[aJ],A[V]);A.select=bk.convertAttribs(bi.select,K.select,A[V])}else{A=K}ae.pointAttr=A}},destroy:function(){var A=this,u=A.chart,bb=A.clipRect,ae=/\/5[0-9\.]+ (Safari|Mobile)\//.test(aW),W,K;ah(A,"destroy");G(A);A.legendItem&&A.chart.legend.destroyItem(A);P(A.data,function(bc){bc.destroy()});if(bb&&bb!==u.clipRect){A.clipRect=bb.destroy()}P(["area","graph","dataLabelsGroup","group","tracker"],function(bc){if(A[bc]){W=ae&&bc==="group"?"hide":"destroy";A[bc][W]()}});if(u.hoverSeries===A){u.hoverSeries=null}av(u.series,A);for(K in A){delete A[K]}},drawDataLabels:function(){if(this.options.dataLabels.enabled){var bn,bm,bl=this.data,bk=this.options,bj=bk.dataLabels,bi,be=this.dataLabelsGroup,bb=this.chart,ae=bb.renderer,W=bb.inverted,A=this.type,bo;bo=bk.stacking;var bc=A==="column"||A==="bar",K=bj.verticalAlign===null,u=bj.y===null;if(bc){if(bo){if(K){bj=at(bj,{verticalAlign:"middle"})}if(u){bj=at(bj,{y:{top:14,middle:4,bottom:-6}[bj.verticalAlign]})}}else{if(K){bj=at(bj,{verticalAlign:"top"})}}}if(be){be.translate(bb.plotLeft,bb.plotTop)}else{be=this.dataLabelsGroup=ae.g("data-labels").attr({visibility:this.visible?a5:ab,zIndex:6}).translate(bb.plotLeft,bb.plotTop).add()}bo=bj.color;if(bo==="auto"){bo=null}bj.style.color=az(bo,this.color,"black");P(bl,function(bq){var bp=bq.barX,bt=bp&&bp+bq.barW/2||bq.plotX||-999,bv=az(bq.plotY,-999),bu=bq.dataLabel,bs=bj.align,br=u?bq.y>=0?-6:12:bj.y;bi=bj.formatter.call(bq.getLabelConfig());bn=(W?bb.plotWidth-bv:bt)+bj.x;bm=(W?bb.plotHeight-bt:bv)+br;if(A==="column"){bn+={left:-1,right:1}[bs]*bq.barW/2||0}if(W&&bq.y<0){bs="right";bn-=10}if(bu){if(W&&!bj.y){bm=bm+D(bu.styles.lineHeight)*0.9-bu.getBBox().height/2}bu.attr({text:bi}).animate({x:bn,y:bm})}else{if(ap(bi)){bu=bq.dataLabel=ae.text(bi,bn,bm).attr({align:bs,rotation:bj.rotation,zIndex:1}).css(bj.style).add(be);W&&!bj.y&&bu.attr({y:bm+D(bu.styles.lineHeight)*0.9-bu.getBBox().height/2})}}if(bc&&bk.stacking&&bu){bt=bq.barY;bv=bq.barW;bq=bq.barH;bu.align(bj,null,{x:W?bb.plotWidth-bt-bq:bp,y:W?bb.plotHeight-bp-bv:bt,width:W?bq:bv,height:W?bv:bq})}})}},drawGraph:function(){var bn=this,bm=bn.options,bl=bn.graph,bk=[],bj,bi=bn.area,be=bn.group,bb=bm.lineColor||bn.color,ae=bm.lineWidth,W=bm.dashStyle,A,bp=bn.chart.renderer,bc=bn.yAxis.getThreshold(bm.threshold||0),K=/^area/.test(bn.type),u=[],bo=[];P(bn.segments,function(bq){A=[];P(bq,function(bv,bu){if(bn.getPointSpline){A.push.apply(A,bn.getPointSpline(bq,bv,bu))}else{A.push(bu?I:a1);bu&&bm.step&&A.push(bv.plotX,bq[bu-1].plotY);A.push(bv.plotX,bv.plotY)}});if(bq.length>1){bk=bk.concat(A)}else{u.push(bq[0])}if(K){var br=[],bt,bs=A.length;for(bt=0;bt<bs;bt++){br.push(A[bt])}bs===3&&br.push(I,A[1],A[2]);if(bm.stacking&&bn.type!=="areaspline"){for(bt=bq.length-1;bt>=0;bt--){br.push(bq[bt].plotX,bq[bt].yBottom)}}else{br.push(I,bq[bq.length-1].plotX,bc,I,bq[0].plotX,bc)}bo=bo.concat(br)}});bn.graphPath=bk;bn.singlePoints=u;if(K){bj=az(bm.fillColor,ak(bn.color).setOpacity(bm.fillOpacity||0.75).get());if(bi){bi.animate({d:bo})}else{bn.area=bn.chart.renderer.path(bo).attr({fill:bj}).add(be)}}if(bl){aO(bl);bl.animate({d:bk})}else{if(ae){bl={stroke:bb,"stroke-width":ae};if(W){bl.dashstyle=W}bn.graph=bp.path(bk).attr(bl).add(be).shadow(bm.shadow)}}},render:function(){var bi=this,be=bi.chart,bc,bb,ae=bi.options,W=ae.animation,K=W&&bi.animate;W=K?W&&W.duration||500:0;var A=bi.clipRect,u=be.renderer;if(!A){A=bi.clipRect=!be.hasRendered&&be.clipRect?be.clipRect:u.clipRect(0,0,be.plotSizeX,be.plotSizeY);if(!be.clipRect){be.clipRect=A}}if(!bi.group){bc=bi.group=u.g("series");if(be.inverted){bb=function(){bc.attr({width:be.plotWidth,height:be.plotHeight}).invert()};bb();N(be,"resize",bb);N(bi,"destroy",function(){G(be,"resize",bb)})}bc.clip(bi.clipRect).attr({visibility:bi.visible?a5:ab,zIndex:ae.zIndex}).translate(be.plotLeft,be.plotTop).add(be.seriesGroup)}bi.drawDataLabels();K&&bi.animate(true);bi.drawGraph&&bi.drawGraph();bi.drawPoints();bi.options.enableMouseTracking!==false&&bi.drawTracker();K&&bi.animate();setTimeout(function(){A.isAnimating=false;if((bc=bi.group)&&A!==be.clipRect&&A.renderer){bc.clip(bi.clipRect=be.clipRect);A.destroy()}},W);bi.isDirty=false},redraw:function(){var A=this.chart,u=this.group;if(u){A.inverted&&u.attr({width:A.plotWidth,height:A.plotHeight});u.animate({translateX:A.plotLeft,translateY:A.plotTop})}this.translate();this.setTooltipPoints(true);this.render()},setState:function(A){var u=this.options,W=this.graph,K=u.states;u=u.lineWidth;A=A||V;if(this.state!==A){this.state=A;if(!(K[A]&&K[A].enabled===false)){if(A){u=K[A].lineWidth||u+1}if(W&&!W.dashstyle){W.attr({"stroke-width":u},A?0:500)}}}},setVisible:function(bj,bi){var be=this.chart,bc=this.legendItem,bb=this.group,ae=this.tracker,W=this.dataLabelsGroup,K,A=this.data,u=be.options.chart.ignoreHiddenSeries;K=this.visible;K=(this.visible=bj=bj===O?!K:bj)?"show":"hide";bb&&bb[K]();if(ae){ae[K]()}else{for(bb=A.length;bb--;){ae=A[bb];ae.tracker&&ae.tracker[K]()}}W&&W[K]();bc&&be.legend.colorizeItem(this,bj);this.isDirty=true;this.options.stacking&&P(be.series,function(bk){if(bk.options.stacking&&bk.visible){bk.isDirty=true}});if(u){be.isDirtyBox=true}bi!==false&&be.redraw();ah(this,K)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(u){this.selected=u=u===O?!this.selected:u;if(this.checkbox){this.checkbox.checked=u}ah(this,u?"select":"unselect")},drawTracker:function(){var bj=this,bi=bj.options,be=[].concat(bj.graphPath),bc=be.length,bb=bj.chart,ae=bb.options.tooltip.snap,W=bj.tracker,K=bi.cursor;K=K&&{cursor:K};var A=bj.singlePoints,u;if(bc){for(u=bc+1;u--;){be[u]===a1&&be.splice(u+1,0,be[u+1]-ae,be[u+2],I);if(u&&be[u]===a1||u===bc){be.splice(u,0,I,be[u-2]+ae,be[u-1])}}}for(u=0;u<A.length;u++){bc=A[u];be.push(a1,bc.plotX-ae,bc.plotY,I,bc.plotX+ae,bc.plotY)}if(W){W.attr({d:be})}else{bj.tracker=bb.renderer.path(be).attr({isTracker:true,stroke:Q,fill:C,"stroke-width":bi.lineWidth+2*ae,visibility:bj.visible?a5:ab,zIndex:bi.zIndex||1}).on(H?"touchstart":"mouseover",function(){bb.hoverSeries!==bj&&bj.onMouseOver()}).on("mouseout",function(){bi.stickyTracking||bj.onMouseOut()}).css(K).add(bb.trackerGroup)}}};aP=aY(aR);q.line=aP;aP=aY(aR,{type:"area"});q.area=aP;aP=aY(aR,{type:"spline",getPointSpline:function(bk,bj,bi){var be=bj.plotX,bc=bj.plotY,bb=bk[bi-1],ae=bk[bi+1],W,K,A,u;if(bi&&bi<bk.length-1){bk=bb.plotY;A=ae.plotX;ae=ae.plotY;var bl;W=(1.5*be+bb.plotX)/2.5;K=(1.5*bc+bk)/2.5;A=(1.5*be+A)/2.5;u=(1.5*bc+ae)/2.5;bl=(u-K)*(A-be)/(A-W)+bc-u;K+=bl;u+=bl;if(K>bk&&K>bc){K=aw(bk,bc);u=2*bc-K}else{if(K<bk&&K<bc){K=aA(bk,bc);u=2*bc-K}}if(u>ae&&u>bc){u=aw(ae,bc);K=2*bc-u}else{if(u<ae&&u<bc){u=aA(ae,bc);K=2*bc-u}}bj.rightContX=A;bj.rightContY=u}if(bi){bj=["C",bb.rightContX||bb.plotX,bb.rightContY||bb.plotY,W||be,K||bc,be,bc];bb.rightContX=bb.rightContY=null}else{bj=[a1,be,bc]}return bj}});q.spline=aP;aP=aY(aP,{type:"areaspline"});q.areaspline=aP;var an=aY(aR,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){aR.prototype.init.apply(this,arguments);var A=this,u=A.chart;u.hasColumn=true;u.hasRendered&&P(u.series,function(K){if(K.type===A.type){K.isDirty=true}})},translate:function(){var bt=this,bs=bt.chart,br=bt.options,bq=br.stacking,bp=br.borderWidth,bo=0,bn=bt.xAxis.reversed,bm=bt.xAxis.categories,bl={},bk,bj;aR.prototype.translate.apply(bt);P(bs.series,function(bu){if(bu.type===bt.type&&bu.visible){if(bu.options.stacking){bk=bu.stackKey;if(bl[bk]===O){bl[bk]=bo++}bj=bl[bk]}else{bj=bo++}bu.columnIndex=bj}});var bi=bt.data,W=bt.closestPoints;bm=al(bi[1]?bi[W].plotX-bi[W-1].plotX:bs.plotSizeX/(bm&&bm.length||1));W=bm*br.groupPadding;var K=(bm-2*W)/bo,u=br.pointWidth,be=ap(u)?(K-u)/2:K*br.pointPadding,A=aw(az(u,K-2*be),1),bb=be+(W+((bn?bo-bt.columnIndex:bt.columnIndex)||0)*K-bm/2)*(bn?-1:1),ae=bt.yAxis.getThreshold(br.threshold||0),bc=az(br.minPointLength,5);P(bi,function(bA){var by=bA.plotY,bu=bA.yBottom||ae,bv=bA.plotX+bb,bw=aL(aA(by,bu)),bx=aL(aw(by,bu)-bw),bz=bt.yAxis.stacks[(bA.y<0?"-":"")+bt.stackKey],bB;bq&&bt.visible&&bz&&bz[bA.x]&&bz[bA.x].setOffset(bb,A);if(al(bx)<bc){if(bc){bx=bc;bw=al(bw-ae)>bc?bu-bc:ae-(by<=ae?bc:0)}bB=bw-3}aU(bA,{barX:bv,barY:bw,barW:A,barH:bx});bA.shapeType="rect";by=aU(bs.renderer.Element.prototype.crisp.apply({},[bp,bv,bw,A,bx]),{r:br.borderRadius});if(bp%2){by.y-=1;by.height+=1}bA.shapeArgs=by;bA.trackerArgs=ap(bB)&&at(bA.shapeArgs,{height:aw(6,bx+3),y:bB})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var A=this,u=A.options,ae=A.chart.renderer,W,K;P(A.data,function(bc){var bb=bc.plotY;if(bb!==O&&!isNaN(bb)&&bc.y!==null){W=bc.graphic;K=bc.shapeArgs;if(W){aO(W);W.animate(K)}else{bc.graphic=ae[bc.shapeType](K).attr(bc.pointAttr[bc.selected?"select":V]).add(A.group).shadow(u.shadow)}}})},drawTracker:function(){var bj=this,bi=bj.chart,be=bi.renderer,bc,bb,ae=+new Date,W=bj.options,K=W.cursor,A=K&&{cursor:K},u;P(bj.data,function(bk){bb=bk.tracker;bc=bk.trackerArgs||bk.shapeArgs;delete bc.strokeWidth;if(bk.y!==null){if(bb){bb.attr(bc)}else{bk.tracker=be[bk.shapeType](bc).attr({isTracker:ae,fill:Q,visibility:bj.visible?a5:ab,zIndex:W.zIndex||1}).on(H?"touchstart":"mouseover",function(bl){u=bl.relatedTarget||bl.fromElement;bi.hoverSeries!==bj&&ba(u,"isTracker")!==ae&&bj.onMouseOver();bk.onMouseOver()}).on("mouseout",function(bl){if(!W.stickyTracking){u=bl.relatedTarget||bl.toElement;ba(u,"isTracker")!==ae&&bj.onMouseOut()}}).css(A).add(bk.group||bi.trackerGroup)}}})},animate:function(A){var u=this,K=u.data;if(!A){P(K,function(ae){var W=ae.graphic;ae=ae.shapeArgs;if(W){W.attr({height:0,y:u.yAxis.translate(0,0,1)});W.animate({height:ae.height,y:ae.y},u.options.animation)}});u.animate=null}},remove:function(){var A=this,u=A.chart;u.hasRendered&&P(u.series,function(K){if(K.type===A.type){K.isDirty=true}});aR.prototype.remove.apply(A,arguments)}});q.column=an;aP=aY(an,{type:"bar",init:function(u){u.inverted=this.inverted=true;an.prototype.init.apply(this,arguments)}});q.bar=aP;aP=aY(aR,{type:"scatter",translate:function(){var u=this;aR.prototype.translate.apply(u);P(u.data,function(A){A.shapeType="circle";A.shapeArgs={x:A.plotX,y:A.plotY,r:u.chart.options.tooltip.snap}})},drawTracker:function(){var A=this,u=A.options.cursor,W=u&&{cursor:u},K;P(A.data,function(ae){(K=ae.graphic)&&K.attr({isTracker:true}).on("mouseover",function(){A.onMouseOver();ae.onMouseOver()}).on("mouseout",function(){A.options.stickyTracking||A.onMouseOut()}).css(W)})},cleanData:function(){}});q.scatter=aP;aP=aY(ay,{init:function(){ay.prototype.init.apply(this,arguments);var A=this,u;aU(A,{visible:A.visible!==false,name:az(A.name,"Slice")});u=function(){A.slice()};N(A,"select",u);N(A,"unselect",u);return A},setVisible:function(A){var u=this.series.chart,bc=this.tracker,bb=this.dataLabel,ae=this.connector,W=this.shadowGroup,K;K=(this.visible=A=A===O?!this.visible:A)?"show":"hide";this.group[K]();bc&&bc[K]();bb&&bb[K]();ae&&ae[K]();W&&W[K]();this.legendItem&&u.legend.colorizeItem(this,A)},slice:function(A,u,ae){var W=this.series.chart,K=this.slicedTranslation;aa(ae,W);az(u,true);A=this.sliced=ap(A)?A:!this.sliced;A={translateX:A?K[0]:W.plotLeft,translateY:A?K[1]:W.plotTop};this.group.animate(A);this.shadowGroup&&this.shadowGroup.animate(A)}});aP=aY(aR,{type:"pie",isCartesian:false,pointClass:aP,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var u=this;P(u.data,function(A){var W=A.graphic;A=A.shapeArgs;var K=-k/2;if(W){W.attr({r:0,start:K,end:K});W.animate({r:A.r,start:A.start,end:A.end},u.options.animation)}});u.animate=null},translate:function(){var bt=0,bs=-0.25,br=this.options,bq=br.slicedOffset,bp=bq+br.borderWidth,bo=br.center.concat([br.size,br.innerSize||0]),bn=this.chart,bm=bn.plotWidth,bl=bn.plotHeight,bk,bj,bi,W=this.data,K=2*k,u,be=aA(bm,bl),A,bb,ae,bc=br.dataLabels.distance;bo=ax(bo,function(bv,bu){return(A=/%$/.test(bv))?[bm,bl,be,be][bu]*D(bv)/100:bv});this.getX=function(bv,bu){bi=m.asin((bv-bo[1])/(bo[2]/2+bc));return bo[0]+(bu?-1:1)*bg(bi)*(bo[2]/2+bc)};this.center=bo;P(W,function(bu){bt+=bu.y});P(W,function(bu){u=bt?bu.y/bt:0;bk=ai(bs*K*1000)/1000;bs+=u;bj=ai(bs*K*1000)/1000;bu.shapeType="arc";bu.shapeArgs={x:bo[0],y:bo[1],r:bo[2]/2,innerR:bo[3]/2,start:bk,end:bj};bi=(bj+bk)/2;bu.slicedTranslation=ax([bg(bi)*bq+bn.plotLeft,ar(bi)*bq+bn.plotTop],ai);bb=bg(bi)*bo[2]/2;ae=ar(bi)*bo[2]/2;bu.tooltipPos=[bo[0]+bb*0.7,bo[1]+ae*0.7];bu.labelPos=[bo[0]+bb+bg(bi)*bc,bo[1]+ae+ar(bi)*bc,bo[0]+bb+bg(bi)*bp,bo[1]+ae+ar(bi)*bp,bo[0]+bb,bo[1]+ae,bc<0?"center":bi<K/4?"left":"right",bi];bu.percentage=u*100;bu.total=bt});this.setTooltipPoints()},render:function(){this.drawPoints();this.options.enableMouseTracking!==false&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=false},drawPoints:function(){var A=this.chart,u=A.renderer,be,bc,bb,ae=this.options.shadow,W,K;P(this.data,function(bi){bc=bi.graphic;K=bi.shapeArgs;bb=bi.group;W=bi.shadowGroup;if(ae&&!W){W=bi.shadowGroup=u.g("shadow").attr({zIndex:4}).add()}if(!bb){bb=bi.group=u.g("point").attr({zIndex:5}).add()}be=bi.sliced?bi.slicedTranslation:[A.plotLeft,A.plotTop];bb.translate(be[0],be[1]);W&&W.translate(be[0],be[1]);if(bc){bc.animate(K)}else{bi.graphic=u.arc(K).attr(aU(bi.pointAttr[V],{"stroke-linejoin":"round"})).add(bi.group).shadow(ae,W)}bi.visible===false&&bi.setVisible(false)})},drawDataLabels:function(){var by=this.data,bx,bw=this.chart,bv=this.options.dataLabels,bu=az(bv.connectorPadding,10),bt=az(bv.connectorWidth,1),bs,br,bq=az(bv.softConnector,true),bp=bv.distance,bo=this.center,bm=bo[2]/2;bo=bo[1];var bb=bp>0,ae=[[],[]],A,bk,W,be,bc=2,bj;if(bv.enabled){aR.prototype.drawDataLabels.apply(this);P(by,function(bz){if(bz.dataLabel){ae[bz.labelPos[7]<k/2?0:1].push(bz)}});ae[1].reverse();be=function(bz,bA){return bA.y-bz.y};for(by=ae[0][0]&&ae[0][0].dataLabel&&D(ae[0][0].dataLabel.styles.lineHeight);bc--;){var bn=[],u=[],K=ae[bc],bl=K.length,bi;for(bj=bo-bm-bp;bj<=bo+bm+bp;bj+=by){bn.push(bj)}W=bn.length;if(bl>W){br=[].concat(K);br.sort(be);for(bj=bl;bj--;){br[bj].rank=bj}for(bj=bl;bj--;){K[bj].rank>=W&&K.splice(bj,1)}bl=K.length}for(bj=0;bj<bl;bj++){bx=K[bj];br=bx.labelPos;bx=9999;for(bk=0;bk<W;bk++){bs=al(bn[bk]-br[1]);if(bs<bx){bx=bs;bi=bk}}if(bi<bj&&bn[bj]!==null){bi=bj}else{if(W<bl-bj+bi&&bn[bj]!==null){bi=W-bl+bj}for(;bn[bi]===null;){bi++}}u.push({i:bi,y:bn[bi]});bn[bi]=null}u.sort(be);for(bj=0;bj<bl;bj++){bx=K[bj];br=bx.labelPos;bs=bx.dataLabel;bk=u.pop();A=br[1];W=bx.visible===false?ab:a5;bi=bk.i;bk=bk.y;if(A>bk&&bn[bi+1]!==null||A<bk&&bn[bi-1]!==null){bk=A}A=this.getX(bi===0||bi===bn.length-1?A:bk,bc);bs.attr({visibility:W,align:br[6]})[bs.moved?"animate":"attr"]({x:A+bv.x+({left:bu,right:-bu}[br[6]]||0),y:bk+bv.y});bs.moved=true;if(bb&&bt){bs=bx.connector;br=bq?[a1,A+(br[6]==="left"?5:-5),bk,"C",A,bk,2*br[2]-br[4],2*br[3]-br[5],br[2],br[3],I,br[4],br[5]]:[a1,A+(br[6]==="left"?5:-5),bk,I,br[2],br[3],I,br[4],br[5]];if(bs){bs.animate({d:br});bs.attr("visibility",W)}else{bx.connector=bs=this.chart.renderer.path(br).attr({"stroke-width":bt,stroke:bv.connectorColor||bx.color||"#606060",visibility:W,zIndex:3}).translate(bw.plotLeft,bw.plotTop).add()}}}}}},drawTracker:an.prototype.drawTracker,getSymbol:function(){}});q.pie=aP;y.Highcharts={Chart:aQ,dateFormat:a0,pathAnim:aS,getOptions:function(){return v},hasRtlBug:aK,numberFormat:B,Point:ay,Color:ak,Renderer:a3,seriesTypes:q,setOptions:function(u){v=at(v,u);au();return v},Series:aR,addEvent:N,removeEvent:G,createElement:aq,discardElement:F,css:ac,each:P,extend:aU,map:ax,merge:at,pick:az,extendClass:aY,product:"Highcharts",version:"2.1.9"}})();!function(c){var a;c(document).ready(function(){c.support.transition=(function(){var f=document.body||document.documentElement,g=f.style,e=g.transition!==undefined||g.WebkitTransition!==undefined||g.MozTransition!==undefined||g.MsTransition!==undefined||g.OTransition!==undefined;return e})();if(c.support.transition){a="TransitionEnd";if(c.browser.webkit){a="webkitTransitionEnd"}else{if(c.browser.mozilla){a="transitionend"}else{if(c.browser.opera){a="oTransitionEnd"}}}}});var d=function(f,e){this.$element=c(f);this.options=e;this.enabled=true;this.fixTitle()};d.prototype={show:function(){var k,f,j,e,h,g;if(this.hasContent()&&this.enabled){h=this.tip();this.setContent();if(this.options.animate){h.addClass("fade")}h.remove().css({top:0,left:0,display:"block"}).prependTo(document.body);k=c.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});f=h[0].offsetWidth;j=h[0].offsetHeight;e=b(this.options.placement,this,[h[0],this.$element[0]]);switch(e){case"below":g={top:k.top+k.height+this.options.offset,left:k.left+k.width/2-f/2};break;case"above":g={top:k.top-j-this.options.offset,left:k.left+k.width/2-f/2};break;case"left":g={top:k.top+k.height/2-j/2,left:k.left-f-this.options.offset};break;case"right":g={top:k.top+k.height/2-j/2,left:k.left+k.width+this.options.offset};break}h.css(g).addClass(e).addClass("in")}},setContent:function(){var e=this.tip();e.find(".twipsy-inner")[this.options.html?"html":"text"](this.getTitle());e[0].className="twipsy"},hide:function(){var f=this,g=this.tip();g.removeClass("in");function e(){g.remove()}c.support.transition&&this.$tip.hasClass("fade")?g.bind(a,e):e()},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("data-original-title"))!="string"){e.attr("data-original-title",e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getTitle:function(){var g,e=this.$element,f=this.options;this.fixTitle();if(typeof f.title=="string"){g=e.attr(f.title=="title"?"data-original-title":f.title)}else{if(typeof f.title=="function"){g=f.title.call(e[0])}}g=(""+g).replace(/(^\s*|\s*$)/,"");return g||f.fallback},tip:function(){return this.$tip=this.$tip||c('<div class="twipsy" />').html(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};function b(g,e,f){return typeof g=="function"?g.apply(e,f):g}c.fn.twipsy=function(e){c.fn.twipsy.initWith.call(this,e,d,"twipsy");return this};c.fn.twipsy.initWith=function(p,k,e){var o,n,h,g;if(p===true){return this.data(e)}else{if(typeof p=="string"){o=this.data(e);if(o){o[p]()}return this}}p=c.extend({},c.fn[e].defaults,p);function f(s){var q=c.data(s,e);if(!q){q=new k(s,c.fn.twipsy.elementOptions(s,p));c.data(s,e,q)}return q}function j(){var q=f(this);q.hoverState="in";if(p.delayIn==0){q.show()}else{q.fixTitle();setTimeout(function(){if(q.hoverState=="in"){q.show()}},p.delayIn)}}function m(){var q=f(this);q.hoverState="out";if(p.delayOut==0){q.hide()}else{setTimeout(function(){if(q.hoverState=="out"){q.hide()}},p.delayOut)}}if(!p.live){this.each(function(){f(this)})}if(p.trigger!="manual"){n=p.live?"live":"bind";h=p.trigger=="hover"?"mouseenter":"focus";g=p.trigger=="hover"?"mouseleave":"blur";this[n](h,j)[n](g,m)}return this};c.fn.twipsy.Twipsy=d;c.fn.twipsy.defaults={animate:true,delayIn:0,delayOut:0,fallback:"",placement:"above",html:false,live:false,offset:0,title:"title",trigger:"hover",template:'<div class="twipsy-arrow"></div><div class="twipsy-inner"></div>'};c.fn.twipsy.rejectAttrOptions=["title"];c.fn.twipsy.elementOptions=function(j,f){var h=c(j).data(),e=c.fn.twipsy.rejectAttrOptions,g=e.length;while(g--){delete h[e[g]]}return c.extend({},f,h)}}(window.jQuery||window.ender);!function(f){var b;f(document).ready(function(){f.support.transition=(function(){var k=document.body||document.documentElement,m=k.style,j=m.transition!==undefined||m.WebkitTransition!==undefined||m.MozTransition!==undefined||m.MsTransition!==undefined||m.OTransition!==undefined;return j})();if(f.support.transition){b="TransitionEnd";if(f.browser.webkit){b="webkitTransitionEnd"}else{if(f.browser.mozilla){b="transitionend"}else{if(f.browser.opera){b="oTransitionEnd"}}}}});var a=function(k,j){this.settings=f.extend({},f.fn.modal.defaults,j);this.$element=f(k).delegate(".close","click.modal",f.proxy(this.hide,this));if(this.settings.show){this.show()}return this};a.prototype={toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var j=this;this.isShown=true;this.$element.trigger("show");e.call(this);d.call(this,function(){var k=f.support.transition&&j.$element.hasClass("fade");j.$element.appendTo(document.body).show();if(k){j.$element[0].offsetWidth}j.$element.addClass("in");k?j.$element.one(b,function(){j.$element.trigger("shown")}):j.$element.trigger("shown")});return this},hide:function(k){k&&k.preventDefault();if(!this.isShown){return this}var j=this;this.isShown=false;e.call(this);this.$element.trigger("hide").removeClass("in");f.support.transition&&this.$element.hasClass("fade")?h.call(this):g.call(this);return this}};function h(){var j=this,k=setTimeout(function(){j.$element.unbind(b);g.call(j)},500);this.$element.one(b,function(){clearTimeout(k);g.call(j)})}function g(j){this.$element.hide().trigger("hidden");d.call(this)}function d(n){var m=this,k=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.settings.backdrop){var j=f.support.transition&&k;this.$backdrop=f('<div class="modal-backdrop '+k+'" />').appendTo(document.body);if(this.settings.backdrop!="static"){this.$backdrop.click(f.proxy(this.hide,this))}if(j){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");j?this.$backdrop.one(b,n):n()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");f.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(b,f.proxy(c,this)):c.call(this)}else{if(n){n()}}}}function c(){this.$backdrop.remove();this.$backdrop=null}function e(){var j=this;if(this.isShown&&this.settings.keyboard){f(document).bind("keyup.modal",function(k){if(k.which==27){j.hide()}})}else{if(!this.isShown){f(document).unbind("keyup.modal")}}}f.fn.modal=function(j){var k=this.data("modal");if(!k){if(typeof j=="string"){j={show:/show|toggle/.test(j)}}return this.each(function(){f(this).data("modal",new a(this,j))})}if(j===true){return k}if(typeof j=="string"){k[j]()}else{if(k){k.toggle()}}return this};f.fn.modal.Modal=a;f.fn.modal.defaults={backdrop:false,keyboard:false,show:false};f(document).ready(function(){f("body").delegate("[data-controls-modal]","click",function(k){k.preventDefault();var j=f(this).data("show",true);f("#"+j.attr("data-controls-modal")).modal(j.data())})})}(window.jQuery||window.ender);!function(b){var a=function(d,c){this.$element=b(d);this.options=c;this.enabled=true;this.fixTitle()};a.prototype=b.extend({},b.fn.twipsy.Twipsy.prototype,{setContent:function(){var c=this.tip();c.find(".title")[this.options.html?"html":"text"](this.getTitle());c.find(".content p")[this.options.html?"html":"text"](this.getContent());c[0].className="popover"},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var d,c=this.$element,e=this.options;if(typeof this.options.content=="string"){d=c.attr(this.options.content)}else{if(typeof this.options.content=="function"){d=this.options.content.call(this.$element[0])}}return d},tip:function(){if(!this.$tip){this.$tip=b('<div class="popover" />').html(this.options.template)}return this.$tip}});b.fn.popover=function(c){if(typeof c=="object"){c=b.extend({},b.fn.popover.defaults,c)}b.fn.twipsy.initWith.call(this,c,a,"popover");return this};b.fn.popover.defaults=b.extend({},b.fn.twipsy.defaults,{placement:"right",content:"data-content",template:'<div class="arrow"></div><div class="inner"><h3 class="title"></h3><div class="content"><p></p></div></div>'});b.fn.twipsy.rejectAttrOptions.push("content")}(window.jQuery||window.ender);(function(g){var m="http://a.tiles.mapbox.com/v3/npr.idaho-jobless.jsonp",o=new L.LatLng(45.636,-114.299),q=6,h="Ada County",j="#e38d2c",s="#d8472b";var b={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11};var f=["January","February","March","April","May","June","July","August","September","October","November","December"];var n={yes:true,"true":true,no:false,"false":false};window.intcomma=function(u){var t=String(u);var v=t.replace(/^(-?\d+)(\d{3})/,"$1,$2");if(t==v){return v}else{return intcomma(v)}};window.County=Backbone.Model.extend({defaults:{name:"",formalname:"",fips:null,latitude:null,longitude:null,point:null},initialize:function(u,v){if(u.fips){this.set({id:u.fips})}if(u.latitude&&u.longitude){var t=new L.LatLng(parseFloat(u.latitude),parseFloat(u.longitude));this.set({point:t})}return this},toString:function(){return this.get("formalname")||this.get("name")}});window.UnemploymentRate=Backbone.Model.extend({initialize:function(t,u){this.normalize(t);return this},getMarker:function(v){if(!this.has("point")){return null}var x=this,u,y=x.getCounty();activeCounty=location.hash.split("/")[2]||"";if(y.get("name")==activeCounty){u=j}else{u=s}var t=new L.CircleMarker(this.get("point"),{weight:1,color:u,opacity:0.8,fillOpacity:0.7,radius:this.get("unemploymentrate"),county:y.get("name")});t.on("click",function(A){alert("click");var z=[x.get("year"),x.get("month"),y.get("name")];window.app.navigate(z.join("/"),true)});return t},normalize:function(u){var x={};if(u.latitude&&u.longitude){var t=new L.LatLng(parseFloat(u.latitude),parseFloat(u.longitude));x.point=t;x.latitude=parseFloat(u.latitude);x.longitude=parseFloat(u.longitude)}if(u.year&&u.month){var v=new Date(u.year,b[u.month.toLowerCase()]);x.date=v;x.year=Number(u.year)}if(u.preliminary){x.preliminary=n[u.preliminary.toLowerCase()]}if(u.adjusted){x.adjusted=n[u.adjusted.toLowerCase()]}if(u.unemploymentrate){x.unemploymentrate=parseFloat(u.unemploymentrate)}if(u.unemployment){x.unemployment=Number(u.unemployment)}if(u.employment){x.employment=Number(u.employment)}if(u.laborforce){x.laborforce=Number(u.laborforce)}this.set(x);return this},getCounty:function(){if(this.has("fips")){return window.counties.get(this.get("fips"))}else{return null}}});window.CountyCollection=Backbone.Collection.extend({model:County});window.UnemploymentRateCollection=Backbone.Collection.extend({model:UnemploymentRate,comparator:function(t){return(t.get("date")||0).valueOf()},latest:function(){return this.find(function(t){return(t.has("fips")&&t.get("adjusted")&&!t.get("preliminary"))})},getArea:function(t){return this.filter(function(u){return(u.get("area")===t&&u.get("adjusted")&&!u.get("preliminary"))})},getNational:function(){return this.getArea("United States")},getIdaho:function(){return this.getArea("Idaho")},getCounty:function(t){if(_.isString(t)){t=window.counties.find(function(u){return u.get("name")==t||u.get("formalname")==t})}t=t||app.getCounty();if(!t){return}return this.filter(function(u){return(u.get("area")===t.get("formalname")&&u.get("adjusted")&&!u.get("preliminary"))})},getMonths:function(){var t=this.pluck("date");return _.unique(t,true,function(u){return u.valueOf()})},getCountyMonths:function(){var t=this.filter(function(v){return(v.has("fips")&&v.get("adjusted")&&!v.get("prelimintary"))}),u=_.map(t,function(v){return v.get("date")});return _.unique(u,true,function(v){return v.valueOf()})},getMonth:function(u,v){if(_.isDate(u)){var t=u;return this.filter(function(x){return(x.get("date").getFullYear()===t.getFullYear()&&x.get("date").getMonth()===t.getMonth()&&x.get("adjusted")&&!x.get("preliminary"))})}return this.filter(function(x){return(x.get("year")==u&&x.get("month")==v&&x.get("adjusted")&&!x.get("preliminary"))})},getRate:function(t,u,v){return this.find(function(x){return(x.get("year")==t&&x.get("month")==u&&x.get("area")==v+" County"&&x.get("adjusted")&&!x.get("preliminary"))})}});window.UnemploymentMap=Backbone.View.extend({initialize:function(t){_.bindAll(this);this.map=new L.Map(this.el,t);var u=this.map;wax.tilejson(m,function(v){u.addLayer(new wax.leaf.connector(v)).setView(o,q)});this.markers=new L.FeatureGroup();this.map.addLayer(this.markers);return this},nextMonth:function(){var u=this.currentMonth();u.next().month();var t=window.app.getUrl(u.getFullYear(),f[u.getMonth()],this.county);window.app.navigate(t,true)},previousMonth:function(){var u=this.currentMonth();u.previous().month();var t=window.app.getUrl(u.getFullYear(),f[u.getMonth()],this.county);window.app.navigate(t,true)},currentMonth:function(){var v=Backbone.history.fragment.split("/");var t=v[0],u=v[1],x=v[2];this.county=x;return new Date(t,b[u.toLowerCase()])},getFragments:function(){if(Backbone.history){return Backbone.history.fragment.split("/")}else{return location.hash.replace("#","").split("/")}},plot:function(){var x=this.getFragments(),u=x[0],v=x[1],z=x[2];var y=this,t=this.collection.getMonth(u,v);this.markers.clearLayers();_.each(t,function(C,B){var A=C.getMarker();if(A){y.markers.addLayer(A)}});return this},setActive:function(t){_.each(this.markers._layers,function(u,v){if(u.options.county==t){u.setStyle({color:j})}else{u.setStyle({color:s})}})},play:function(y,u){var t=this.collection.getMonths(),v=this.currentMonth(),x=this;this.timeout=clearTimeout(this.timeout);y=(y||_.first(t));u=(u||_.last(t));return this}});var d=Backbone.View.extend({initialize:function(u){_.bindAll(this);var t=this;this.months=this.collection.getCountyMonths();this.slider=g(this.el).slider(this.slideOpts());this.collection.bind("reset",function(v){t.months=t.collection.getCountyMonths();t.slider.slider("option",t.slideOpts())});return this.slideEvents()},slideOpts:function(){return{min:0,max:this.months.length,step:1,animate:false}},slideEvents:function(){var u=this.collection.getCountyMonths(),x,v=this.$("p span"),t=this;this.slider.bind("slide",function(B,A){var z=t.months[A.value],C=location.hash.split("/")[2],y=app.getUrl(z.getFullYear(),z.toString("MMMM"),C);v.text(z.toString("MMM yyyy"));app.navigate(y,true)});return this},toDate:function(v){v=v||this.currentMonth();var t=_.invoke(this.months,"valueOf");var u=_.indexOf(t,v.valueOf(),true);this.value(u)},currentMonth:function(){var v;if(Backbone.history){v=Backbone.history.fragment.split("/")}else{v=location.hash.replace("#","").split("/")}var t=v[0],u=v[1],x=v[2];this.county=x;return new Date(t,b[u.toLowerCase()])},value:function(t){if(t){return this.slider.slider("value",t)}else{return this.slider.slider("value")}}});var e=Backbone.View.extend({initialize:function(t){_.bindAll(this);this.series={};this.el=g(this.id)[0];if(this.collection.length){var u=this.makeChart;_.defer(u)}else{var v=this;this.collection.bind("reset",function(x){v.makeChart()})}return this},makeChart:function(){var t=this;this.chart=new Highcharts.Chart(this.chartOptions(),function(u){t.plot(u)});return this},getMonths:function(){var t=this.collection.getMonths();return _.map(t,function(u){return u.toString("MMMM yyyy")})},clear:function(u){u=u||this.chart;for(var t in this.series){this.series[t].remove(false)}u.redraw();return this},plot:function(t){t=t||this.chart;this.plotNational(t,false);this.plotIdaho(t,false);this.plotCounty(null,t);if(jQuery.browser.msie&&t.series.length>3){t.series[0].remove(true)}return this},plotNational:function(u,v){v=v||true;u=u||this.chart;var t=this.collection.getNational();if(this.series.national){this.series.national.remove(v)}this.series.national=u.addSeries({type:"line",data:_.map(t,function(x){return x.get("unemploymentrate")}),name:"United States",color:u.options.colors[0],events:{legendItemClick:function(x){return false}},marker:{radius:0}});return this},plotIdaho:function(u,v){v=v||true;u=u||this.chart;var t=this.collection.getIdaho();if(this.series.idaho){this.series.idaho.remove(v)}this.series.idaho=u.addSeries({type:"line",data:_.map(t,function(x){return x.get("unemploymentrate")}),name:"Idaho",color:u.options.colors[1],events:{legendItemClick:function(x){return false}},marker:{radius:0}});return this},plotCounty:function(v,t,x){x=x||true;v=v||app.getCounty();t=t||this.chart;if(this.series.county){this.series.county.remove(x)}if(_.isString(v)){v=window.counties.find(function(y){return y.get("name")==v||y.get("formalname")==v})}if(v){var u=this.collection.getCounty(v);this.series.county=t.addSeries({type:"line",data:_.map(u,function(y){return y.get("unemploymentrate")}),name:v.get("formalname"),color:t.options.colors[2],events:{legendItemClick:function(y){return false}},marker:{radius:0}})}return this},chartOptions:function(){return{chart:{renderTo:this.id,height:120,width:620,defaultSeriesType:"spline",marginLeft:0,marginRight:0},colors:["#17807e","#d8472b","#e38d2c"],credits:{text:null},title:{text:null},legend:{enabled:true,floating:true,align:"left",verticalAlign:"top",layout:"horizontal",borderWidth:0,margin:0,symbolPadding:3,symbolWidth:10,x:-15,itemStyle:{color:"#555"},itemHoverStyle:{color:"#555"}},xAxis:{categories:this.getMonths(),labels:{enabled:true,step:12,formatter:function(){if(_.isString(this.value)&&this.value.match(/\w+ \d{4}/)){return this.value.replace("January","")}else{return""}},x:10,y:18},tickInterval:1,tickmarkPlacement:"on",lineColor:"#ccc"},yAxis:{labels:{enabled:false},gridLineColor:"#fff",title:{text:null},tickInterval:1,tickmarkPlacement:"on",min:0,max:20},tooltip:{crosshairs:false,shared:true,borderWidth:0,borderRadius:0,formatter:function(){var t="<strong>"+this.x+"</strong>";_.each(this.points,function(u,v,x){t+='<br/><span style="font-weight: bold; color:'+u.series.color+';">'+u.series.name+":</span> "+u.y+"%"});return t}},plotOptions:{line:{lineWidth:1.5,marker:{radius:4,lineColor:"#666666",lineWidth:1},shadow:false,states:{hover:{lineWidth:1.5}},events:{click:function(v){var u=v.point.category,x=location.hash.split("/")[2],t=app.getUrl(u.split(" ")[1],u.split(" ")[0],x);app.navigate(t,true)}}}},symbols:["circle","circle","circle","circle","circle"]}}});var k=Backbone.View.extend({initialize:function(t){this.template=_.template(g("#table-template").html());return this},getRate:function(){if(window.app){return window.app.getRate()}else{var v=location.hash.replace("#","").split("/"),t=v[0],u=v[1],x=v[2];return this.collection.getRate(t,u,x)}},render:function(){var v=this.getRate();if(!v){return}var u=this.collection.find(function(x){if(!x){return}return(x.get("area")==="Idaho"&&x.get("adjusted")&&!x.get("preliminary")&&_.isEqual(x.get("date"),v.get("date")))});var t=v.toJSON();t.idaho=u.toJSON();g(this.el).html(this.template(t));g(".data a").popover()}});var c=Backbone.Router.extend({initialize:function(t){this.collection=t.collection||window.unemploymentrates;this.bind("route:showCounty",function(u,v,x){if(this._county!==x){this._county=x;this.trigger("change:county",x)}},this);return this},routes:{"":"initial",":year/:month":"showMonth",":year/:month/:county":"showCounty"},initial:function(){var t,u;if(this.collection.length){u=this.getDefaultRate();t=this.getUrl(u.get("year"),u.get("month"),u.get("area").replace(" County",""));this.navigate(t,true)}else{this.collection.bind("reset",function(v){u=this.getDefaultRate();t=this.getUrl(u.get("year"),u.get("month"),u.get("area").replace(" County",""));this.navigate(t,true)},this)}},showMonth:function(u,v){var t=this.getDate();if(!_.isEqual(t,this._date)){this._date=t;this.trigger("change:date",t)}if(this.collection.length){window.slider.toDate(t);window.datatable.render()}else{this.collection.bind("reset",function(x){window.slider.toDate(t);window.datatable.render()})}},showCounty:function(v,x,y){var t=this.getDate(),u=this.getRate();if(!_.isEqual(t,this._date)){this._date=t;this.trigger("change:date",t)}if(this.collection.length){window.umap.plot();window.slider.toDate(t);window.datatable.render()}else{this.collection.bind("reset",function(z){window.umap.plot();window.datatable.render();window.slider.toDate(t)})}},getUrl:function(t,u,v){return _.compact([t,u,v]).join("/")},getDefaultRate:function(){return this.collection.chain().filter(function(t){return(t.get("area")==h&&t.get("adjusted")&&!t.get("preliminary"))}).last().value()},getDate:function(){var v=Backbone.history.fragment.split("/");var t=v[0],u=v[1];return new Date(t,b[u.toLowerCase()])},getCounty:function(){var v=Backbone.history.fragment.split("/");var t=v[0],u=v[1],x=v[2];return window.counties.find(function(y){return y.get("name")===x})},getRate:function(){var v=Backbone.history.fragment.split("/"),t=v[0],u=v[1],x=v[2];return this.collection.getRate(t,u,x)}});window.counties=new CountyCollection();window.unemploymentrates=new UnemploymentRateCollection();window.umap=new UnemploymentMap({el:"#map",collection:window.unemploymentrates,scrollWheelZoom:false,zoomControl:false,touchZoom:false,attributionControl:false,doubleClickZoom:false,dragging:false});window.slider=new d({el:"#slider",collection:window.unemploymentrates});window.hichart=new e({id:"chart",collection:window.unemploymentrates});window.datatable=new k({el:"#comparison",collection:window.unemploymentrates});window.app=new c({collection:window.unemploymentrates});Backbone.history.start();var p=1;var a="stateimpactid";(function(){var t=document.createElement("script");t.type="text/javascript";t.async=true;t.src="http://"+a+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)})()})(window.jQuery);